(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{225:function(e,t){e.exports=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n},e.exports.__esModule=!0,e.exports.default=e.exports},512:function(e,t,r){"use strict";var i=r(685),n=r(75),a=r(686);function s(e,t){return t.encode?t.strict?i(e):encodeURIComponent(e):e}function l(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function o(e,t){var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,i){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===i[e]&&(i[e]={}),i[e][t[1]]=r):i[e]=r};case"bracket":return function(e,r,i){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==i[e]?i[e]=[].concat(i[e],r):i[e]=[r]:i[e]=r};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t=n({arrayFormat:"none"},t)),i=Object.create(null);return"string"!=typeof e?i:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),n=t.shift(),s=t.length>0?t.join("="):void 0;s=void 0===s?null:a(s),r(a(n),s,i)})),Object.keys(i).sort().reduce((function(e,t){var r=i[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(r):e[t]=r,e}),Object.create(null))):i}t.extract=l,t.parse=o,t.stringify=function(e,t){!1===(t=n({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var r=function(e){switch(e.arrayFormat){case"index":return function(t,r,i){return null===r?[s(t,e),"[",i,"]"].join(""):[s(t,e),"[",s(i,e),"]=",s(r,e)].join("")};case"bracket":return function(t,r){return null===r?s(t,e):[s(t,e),"[]=",s(r,e)].join("")};default:return function(t,r){return null===r?s(t,e):[s(t,e),"=",s(r,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map((function(i){var n=e[i];if(void 0===n)return"";if(null===n)return s(i,t);if(Array.isArray(n)){var a=[];return n.slice().forEach((function(e){void 0!==e&&a.push(r(i,e,a.length))})),a.join("&")}return s(i,t)+"="+s(n,t)})).filter((function(e){return e.length>0})).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:o(l(e),t)}}},519:function(e,t,r){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var i in r)n(r,i)&&(e[i]=r[i])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,r,i,n){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+i),n);else for(var a=0;a<i;a++)e[n+a]=t[r+a]},flattenChunks:function(e){var t,r,i,n,a,s;for(i=0,t=0,r=e.length;t<r;t++)i+=e[t].length;for(s=new Uint8Array(i),n=0,t=0,r=e.length;t<r;t++)a=e[t],s.set(a,n),n+=a.length;return s}},s={arraySet:function(e,t,r,i,n){for(var a=0;a<i;a++)e[n+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,a)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,s))},t.setTyped(i)},585:function(e,t,r){"use strict";var i=r(0),n=r.n(i),a=r(1),s=r.n(a),l=r(27),o=r.n(l),u=r(143),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},m=function(e){function t(){var r,i;c(this,t);for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=i=p(this,e.call.apply(e,[this].concat(a))),i.handleClick=function(e){if(i.props.onClick&&i.props.onClick(e),!e.defaultPrevented&&0===e.button&&!i.props.target&&!_(e)){e.preventDefault();var t=i.context.router.history,r=i.props,n=r.replace,a=r.to;n?t.replace(a):t.push(a)}},p(i,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),r=e.innerRef,i=function(e,t){var r={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i]);return r}(e,["replace","to","innerRef"]);o()(this.context.router,"You should not use <Link> outside a <Router>"),o()(void 0!==t,'You must specify the "to" property');var a=this.context.router.history,s="string"==typeof t?Object(u.b)(t,null,null,a.location):t,l=a.createHref(s);return n.a.createElement("a",h({},i,{onClick:this.handleClick,href:l,ref:r}))},t}(n.a.Component);m.propTypes={onClick:s.a.func,target:s.a.string,replace:s.a.bool,to:s.a.oneOfType([s.a.string,s.a.object]).isRequired,innerRef:s.a.oneOfType([s.a.string,s.a.func])},m.defaultProps={replace:!1},m.contextTypes={router:s.a.shape({history:s.a.shape({push:s.a.func.isRequired,replace:s.a.func.isRequired,createHref:s.a.func.isRequired}).isRequired}).isRequired},t.a=m},590:function(e,t,r){(function(e){!function(e,t){"use strict";var i,n={},a=function(){return ar.__string_rec(this,"")},s=s||{};function l(e,t){var r=Object.create(e);for(var i in t)r[i]=t[i];return t.toString!==Object.prototype.toString&&(r.toString=t.toString),r}var o=e.Apptimize=function(){};(n["apptimize.Apptimize"]=o).__name__="apptimize.Apptimize",o._isInitialized=function(){return z._isInitialized()},o.setCustomerUserId=e.setCustomerUserId=function(e){(!it.isNullOrString(e)||null!=e&&""==v.ltrim(e))&&(E.w("The `customerUserID` argument cannot be set to a non-string value, be empty or be whitespace only, setting to null instead.",{fileName:"src/apptimize/Apptimize.hx",lineNumber:68,className:"apptimize.Apptimize",methodName:"setCustomerUserId"}),e=null);var t=o.getCustomerUserId();if(null==t||t!=e)if(null!=t||null!=e){var r=o.getApptimizeAnonUserId(),i=new le(t,r,Ge.loadObject(Ge.kCustomPropertiesKey),S.getAppKey(),je.sharedInstance(),We.sharedInstance()),n=new le(e,r,null,S.getAppKey(),je.sharedInstance(),We.sharedInstance()),a=S.sharedInstance();o._isInitialized()&&a.dispatchUnenrollmentsForUserChanged(i),Ge.saveString(Ge.kUserIDKey,e),o.setMixpanelCohortId(e),o.setCustomAttributes(null);var s=S.sharedInstance().getMetaData(S.getAppKey());null!=s&&s.clearAlterationCache(),o._isInitialized()&&(a.logUserTransition(i,n),a.dispatchEnrollmentsForUserChanged(n)),E.v("Customer User ID set to: "+e,{fileName:"src/apptimize/Apptimize.hx",lineNumber:112,className:"apptimize.Apptimize",methodName:"setCustomerUserId"})}else E.w("Ignoring redundant setCustomerUserId(null)",{fileName:"src/apptimize/Apptimize.hx",lineNumber:80,className:"apptimize.Apptimize",methodName:"setCustomerUserId"});else E.w("Not setting customerUserId if ID already set.",{fileName:"src/apptimize/Apptimize.hx",lineNumber:76,className:"apptimize.Apptimize",methodName:"setCustomerUserId"})},o.setMixpanelCohortId=function(e){var t;t=null==e?null:"i_"+e,We.sharedInstance().setPropertyForNamespace("_cohort_id",t,Je.Mixpanel)},o.getCustomerUserId=e.getCustomerUserId=function(){var e=Ge.loadString(Ge.kUserIDKey);return(!it.isNullOrString(e)||null!=e&&""==v.ltrim(e))&&(E.w("Invalid CustomerUserId saved. Resetting to null.",{fileName:"src/apptimize/Apptimize.hx",lineNumber:139,className:"apptimize.Apptimize",methodName:"getCustomerUserId"}),e=null),e},o.getApptimizeAnonUserId=e.getApptimizeAnonUserId=function(){return o._getApptimizeAnonUserId()},o.setCustomAttributes=e.setCustomAttributes=function(e){var t=lt.nativeObjectToStringMap(e);Ge.saveStringMap(Ge.kCustomPropertiesKey,t);var r=Ge.loadStringMap(Ge.kCustomPropertiesKey);E.v("Custom Attributes:\n"+(null==r?"null":C.stringify(r.h)),{fileName:"src/apptimize/Apptimize.hx",lineNumber:171,className:"apptimize.Apptimize",methodName:"setCustomAttributes"}),S.sharedInstance().onEnvPropsChanged(S.getAppKey())},o.getCustomAttributes=e.getCustomAttributes=function(){return lt.stringMapToNativeDictionary(Ge.loadStringMap(Ge.kCustomPropertiesKey))},o.setPilotTargetingId=e.setPilotTargetingId=function(e){it.isNullOrString(e)?(We.sharedInstance().setPropertyForNamespace("pilot_targeting_id",e,Je.ApptimizeLocal),S.sharedInstance().onEnvPropsChanged(S.getAppKey())):E.e("Invalid PilotTargetingId. Id not set. Please use a valid string.",{fileName:"src/apptimize/Apptimize.hx",lineNumber:203,className:"apptimize.Apptimize",methodName:"setPilotTargetingId"})},o.getPilotTargetingId=e.getPilotTargetingId=function(){return We.sharedInstance().valueForNamespacedProperty("pilot_targeting_id",Je.ApptimizeLocal)},o.setOnEnrolledInExperimentCallback=e.setOnEnrolledInExperimentCallback=function(e){H.setOnEnrolledInExperimentCallback(e),E.v("OnEnrolledInExperimentCallback set!",{fileName:"src/apptimize/Apptimize.hx",lineNumber:230,className:"apptimize.Apptimize",methodName:"setOnEnrolledInExperimentCallback"})},o.setOnUnenrolledInExperimentCallback=e.setOnUnenrolledInExperimentCallback=function(e){H.setOnUnenrolledInExperimentCallback(e),E.v("OnUnenrolledInExperimentCallback set!",{fileName:"src/apptimize/Apptimize.hx",lineNumber:241,className:"apptimize.Apptimize",methodName:"setOnUnenrolledInExperimentCallback"})},o._getApptimizeAnonUserId=function(){var e=Ge.loadString(Ge.kAnonymousGuidKey);return null!=e&&""!=e&&Y.isValidGuid(e)||(e=Y.generateUserGuid(),Ge.saveString(Ge.kAnonymousGuidKey,e)),e},o.setAppVersion=e.setAppVersion=function(e){je.sharedInstance().setProperty("app_version",e);var t=je.sharedInstance().valueForProperty("app_version");E.v("App Version set to: "+t,{fileName:"src/apptimize/Apptimize.hx",lineNumber:264,className:"apptimize.Apptimize",methodName:"setAppVersion"})},o.setAppName=e.setAppName=function(e){je.sharedInstance().setProperty("app_name",e);var t=je.sharedInstance().valueForProperty("app_name");E.v("App Name set to: "+t,{fileName:"src/apptimize/Apptimize.hx",lineNumber:275,className:"apptimize.Apptimize",methodName:"setAppName"})},o.setOnParticipationCallback=e.setOnParticipationCallback=function(e){H.setOnParticipationCallback(e),E.w("setOnParticipationCallback is deprecated - please use setOnParticipatedInExperimentCallback.",{fileName:"src/apptimize/Apptimize.hx",lineNumber:296,className:"apptimize.Apptimize",methodName:"setOnParticipationCallback"})},o.setOnMetadataUpdatedCallback=e.setOnMetadataUpdatedCallback=function(e){H.setOnMetadataUpdatedCallback(e),E.v("OnMetadataProcessedCallback set!",{fileName:"src/apptimize/Apptimize.hx",lineNumber:315,className:"apptimize.Apptimize",methodName:"setOnMetadataUpdatedCallback"})},o.setOnApptimizeInitializedCallback=e.setOnApptimizeInitializedCallback=function(e){H.setOnApptimizeInitializedCallback(e),E.v("OnApptimizeInitializedCallback set!",{fileName:"src/apptimize/Apptimize.hx",lineNumber:334,className:"apptimize.Apptimize",methodName:"setOnApptimizeInitializedCallback"})},o.setOnParticipatedInExperimentCallback=e.setOnParticipatedInExperimentCallback=function(e){H.setOnParticipatedInExperimentCallback(e),E.v("OnParticipatedInExperimentCallback set!",{fileName:"src/apptimize/Apptimize.hx",lineNumber:352,className:"apptimize.Apptimize",methodName:"setOnParticipatedInExperimentCallback"})},o.setup=e.setup=function(e,t){null!=e&&""!=e?null==S.getAppKey()||S.getAppKey()!=e?z._setup(e,t,(function(){null!=S.getAppKey()&&S.getAppKey()!=e&&S.clear(),E.v("Set Anonymous User ID: "+o._getApptimizeAnonUserId(),{fileName:"src/apptimize/Apptimize.hx",lineNumber:418,className:"apptimize.Apptimize",methodName:"setup"}),E.i("Apptimize "+o.getApptimizeSDKPlatform()+" SDK initialized.\nApptimize SDK Version: "+o.getApptimizeSDKVersion(),{fileName:"src/apptimize/Apptimize.hx",lineNumber:419,className:"apptimize.Apptimize",methodName:"setup"}),o._initialize(e)})):E.w('Apptimize is already initialized with app key: "'+e+'".',{fileName:"src/apptimize/Apptimize.hx",lineNumber:407,className:"apptimize.Apptimize",methodName:"setup"}):E.c("Unable to initialize Apptimize due to missing app key.",{fileName:"src/apptimize/Apptimize.hx",lineNumber:404,className:"apptimize.Apptimize",methodName:"setup"})},o.updateApptimizeMetadataOnce=e.updateApptimizeMetadataOnce=function(){try{S.checkForUpdatedMetaData(!0)}catch(t){gt.lastError=t;var e=ct.caught(t).unwrap();E.e("Failed to update Metadata: "+f.string(e),{fileName:"src/apptimize/Apptimize.hx",lineNumber:451,className:"apptimize.Apptimize",methodName:"updateApptimizeMetadataOnce"})}},o.flushTracking=e.flushTracking=function(){o._isInitialized()?S.sharedInstance().flushTracking():E.w("Tracking can only be flushed after setup().",{fileName:"src/apptimize/Apptimize.hx",lineNumber:466,className:"apptimize.Apptimize",methodName:"flushTracking"})},o.getApptimizeSDKVersion=e.getApptimizeSDKVersion=function(){return"1.2.36"},o.getApptimizeSDKPlatform=e.getApptimizeSDKPlatform=function(){return"JavaScript"},o._initialize=function(e){S.sharedInstance().loadMetaData(e),z.setState(2),S.sharedInstance().hasMetadata(S.getAppKey())&&z._trySetReady()&&H.dispatchOnApptimizeInitialized(),E.i('Apptimize initialized with app key "'+e+'".',{fileName:"src/apptimize/Apptimize.hx",lineNumber:521,className:"apptimize.Apptimize",methodName:"_initialize"})},o._getAlterations=function(e,t){if(S._checkForUpdatedMetadataIfNecessary(),o._isInitialized()){var r=new le(e,o._getApptimizeAnonUserId(),t,S.getAppKey(),je.sharedInstance(),We.sharedInstance());return z._getAlterations(r)}return[]},o._getCodeBlockMethod=function(e,t,r){S._checkForUpdatedMetadataIfNecessary();var i=new le(t,o._getApptimizeAnonUserId(),r,S.getAppKey(),je.sharedInstance(),We.sharedInstance());return z._getCodeBlockMethod(i,e)},o.runCodeBlock=e.runCodeBlock=function(e,t,r,i){null!=r?(E.w("The `userID` argument is deprecated. Please use the `setCustomerUserId()` method instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:19,className:"apptimize.Apptimize",methodName:"runCodeBlock"}),it.isNullOrString(r)&&""!=v.ltrim(r)||(E.w("The `userID` argument cannot be set to a non-string value, be empty or be whitespace only, setting to null instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:21,className:"apptimize.Apptimize",methodName:"runCodeBlock"}),r=null)):r=o.getCustomerUserId(),null!=i&&E.w("The `customAttributes` argument is deprecated. Please use the `setCustomAttributes()` method instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:31,className:"apptimize.Apptimize",methodName:"runCodeBlock"}),null==i&&(i=o.getCustomAttributes());var n=lt.nativeObjectToStringMap(i),a=o._getCodeBlockMethod(e,r,n),s=lt.nativeObjectToStringMap(t);if(null!=a&&""!=a)if(null==t||null==s.h[a]){var l=d.getProperty(t,a);null!=l?l.apply(t,[]):E.w("Supplied callbacks do not include method: "+a,{fileName:"src/apptimize/Apptimize.hx",lineNumber:623,className:"apptimize.Apptimize",methodName:"runCodeBlock"})}else{E.v("Calling callback method: "+a,{fileName:"src/apptimize/Apptimize.hx",lineNumber:626,className:"apptimize.Apptimize",methodName:"runCodeBlock"});var u=s.h[a];if(!d.isFunction(u))return void E.e("runCodeBlock() called with callback that isn't a function/method.",{fileName:"src/apptimize/Apptimize.hx",lineNumber:630,className:"apptimize.Apptimize",methodName:"runCodeBlock"});u()}else E.w("No Code Block with variable name "+e+" found, skipping callback.",{fileName:"src/apptimize/Apptimize.hx",lineNumber:615,className:"apptimize.Apptimize",methodName:"runCodeBlock"})},o.isFeatureFlagEnabled=e.isFeatureFlagEnabled=function(e,t,r){return o.getBool(e,!1,t,r)},o.getString=e.getString=function(e,t,r,i){var n=o._getValue(e,r,b.String,null,i);return null==n?t:n},o.getBool=e.getBool=function(e,t,r,i){var n=o._getValue(e,r,b.Boolean,null,i);return null==n?t:n},o.getInt=e.getInt=function(e,t,r,i){var n=o._getValue(e,r,b.Integer,null,i);return null==n?t:n},o.getDouble=e.getDouble=function(e,t,r,i){var n=o._getValue(e,r,b.Double,null,i);return null==n?t:n},o.getStringArray=e.getStringArray=function(e,t,r,i){var n=o._getValue(e,r,b.Array,b.String,i);return null==n?t:st.toNativeArray(n,at.String)},o.getBoolArray=e.getBoolArray=function(e,t,r,i){var n=o._getValue(e,r,b.Array,b.Boolean,i);return null==n?t:st.toNativeArray(n,at.Bool)},o.getIntArray=e.getIntArray=function(e,t,r,i){var n=o._getValue(e,r,b.Array,b.Integer,i);return null==n?t:st.toNativeArray(n,at.Int)},o.getDoubleArray=e.getDoubleArray=function(e,t,r,i){var n=o._getValue(e,r,b.Array,b.Double,i);return null==n?t:st.toNativeArray(n,at.Double)},o.getStringDictionary=e.getStringDictionary=function(e,t,r,i){var n=o._getValue(e,r,b.Dictionary,b.String,i);return null==n?t:n},o.getBoolDictionary=e.getBoolDictionary=function(e,t,r,i){var n=o._getValue(e,r,b.Dictionary,b.Boolean,i);return null==n?t:n},o.getIntDictionary=e.getIntDictionary=function(e,t,r,i){var n=o._getValue(e,r,b.Dictionary,b.Integer,i);return null==n?t:n},o.getDoubleDictionary=e.getDoubleDictionary=function(e,t,r,i){var n=o._getValue(e,r,b.Dictionary,b.Double,i);return null==n?t:n},o._getValue=function(e,t,r,i,n){if(!o._isInitialized())return null;null!=t?(E.w("The `userID` argument is deprecated. Please use the `setCustomerUserId()` method instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:19,className:"apptimize.Apptimize",methodName:"_getValue"}),it.isNullOrString(t)&&""!=v.ltrim(t)||(E.w("The `userID` argument cannot be set to a non-string value, be empty or be whitespace only, setting to null instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:21,className:"apptimize.Apptimize",methodName:"_getValue"}),t=null)):t=o.getCustomerUserId(),null!=n&&E.w("The `customAttributes` argument is deprecated. Please use the `setCustomAttributes()` method instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:31,className:"apptimize.Apptimize",methodName:"_getValue"}),null==n&&(n=o.getCustomAttributes());var a=lt.nativeObjectToStringMap(n),s=new le(t,o._getApptimizeAnonUserId(),a,S.getAppKey(),je.sharedInstance(),We.sharedInstance());return T.getValue(s,e,r,i)},o.getVariantInfo=e.getVariantInfo=function(e,t){null!=e?(E.w("The `userID` argument is deprecated. Please use the `setCustomerUserId()` method instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:19,className:"apptimize.Apptimize",methodName:"getVariantInfo"}),it.isNullOrString(e)&&""!=v.ltrim(e)||(E.w("The `userID` argument cannot be set to a non-string value, be empty or be whitespace only, setting to null instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:21,className:"apptimize.Apptimize",methodName:"getVariantInfo"}),e=null)):e=o.getCustomerUserId(),null!=t&&E.w("The `customAttributes` argument is deprecated. Please use the `setCustomAttributes()` method instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:31,className:"apptimize.Apptimize",methodName:"getVariantInfo"}),null==t&&(t=o.getCustomAttributes());for(var r=[],i=o._getApptimizeAnonUserId(),n=lt.nativeObjectToStringMap(t),a=new le(e,i,n,S.getAppKey(),je.sharedInstance(),We.sharedInstance()),s=0,l=z._getVariants(a);s<l.length;){var u=l[s];++s,r.push(h.initWithVariant(u,e,i))}return st.toNativeArray(r,at.VariantInfo)},o._getVariantInfoForAlteration=function(e,t,r){for(var i=o._getApptimizeAnonUserId(),n=0,a=o._getAlterations(t,r);n<a.length;){var s=a[n];if(++n,s.getKey()==e)return h.initWithVariant(s.getVariant(),t,i)}return null},o._getVariantInfoForDynamicVariable=function(e,t,r){null!=t?(E.w("The `userID` argument is deprecated. Please use the `setCustomerUserId()` method instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:19,className:"apptimize.Apptimize",methodName:"_getVariantInfoForDynamicVariable"}),it.isNullOrString(t)&&""!=v.ltrim(t)||(E.w("The `userID` argument cannot be set to a non-string value, be empty or be whitespace only, setting to null instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:21,className:"apptimize.Apptimize",methodName:"_getVariantInfoForDynamicVariable"}),t=null)):t=o.getCustomerUserId(),null!=r&&E.w("The `customAttributes` argument is deprecated. Please use the `setCustomAttributes()` method instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:31,className:"apptimize.Apptimize",methodName:"_getVariantInfoForDynamicVariable"}),null==r&&(r=o.getCustomAttributes());var i=lt.nativeObjectToStringMap(r);return o._getVariantInfoForAlteration(e,t,i)},o._getVariantInfoForExperiment=function(e,t,r){null!=t?(E.w("The `userID` argument is deprecated. Please use the `setCustomerUserId()` method instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:19,className:"apptimize.Apptimize",methodName:"_getVariantInfoForExperiment"}),it.isNullOrString(t)&&""!=v.ltrim(t)||(E.w("The `userID` argument cannot be set to a non-string value, be empty or be whitespace only, setting to null instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:21,className:"apptimize.Apptimize",methodName:"_getVariantInfoForExperiment"}),t=null)):t=o.getCustomerUserId(),null!=r&&E.w("The `customAttributes` argument is deprecated. Please use the `setCustomAttributes()` method instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:31,className:"apptimize.Apptimize",methodName:"_getVariantInfoForExperiment"}),null==r&&(r=o.getCustomAttributes());for(var i=o._getApptimizeAnonUserId(),n=lt.nativeObjectToStringMap(r),a=new le(t,i,n,S.getAppKey(),je.sharedInstance(),We.sharedInstance()),s=0,l=z._getVariants(a);s<l.length;){var u=l[s];if(++s,u.getExperimentName()==e)return h.initWithVariant(u,t,i)}return null},o.track=e.track=function(e,t,r){if(o._isInitialized()){null!=t?(E.w("The `userID` argument is deprecated. Please use the `setCustomerUserId()` method instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:19,className:"apptimize.Apptimize",methodName:"track"}),it.isNullOrString(t)&&""!=v.ltrim(t)||(E.w("The `userID` argument cannot be set to a non-string value, be empty or be whitespace only, setting to null instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:21,className:"apptimize.Apptimize",methodName:"track"}),t=null)):t=o.getCustomerUserId(),null!=r&&E.w("The `customAttributes` argument is deprecated. Please use the `setCustomAttributes()` method instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:31,className:"apptimize.Apptimize",methodName:"track"}),null==r&&(r=o.getCustomAttributes());var i=lt.nativeObjectToStringMap(r),n=new le(t,o._getApptimizeAnonUserId(),i,S.getAppKey(),je.sharedInstance(),We.sharedInstance());z.generateTrackEvent(n,e,null)}else E.w("Events can only be tracked after setup() has been called.",{fileName:"src/apptimize/Apptimize.hx",lineNumber:1215,className:"apptimize.Apptimize",methodName:"track"})},o.trackValue=e.trackValue=function(e,t,r,i){if(o._isInitialized()){if(null!=r?(E.w("The `userID` argument is deprecated. Please use the `setCustomerUserId()` method instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:19,className:"apptimize.Apptimize",methodName:"trackValue"}),it.isNullOrString(r)&&""!=v.ltrim(r)||(E.w("The `userID` argument cannot be set to a non-string value, be empty or be whitespace only, setting to null instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:21,className:"apptimize.Apptimize",methodName:"trackValue"}),r=null)):r=o.getCustomerUserId(),null!=i&&E.w("The `customAttributes` argument is deprecated. Please use the `setCustomAttributes()` method instead.",{fileName:"src/apptimize/macros/ABTClientMacro.hx",lineNumber:31,className:"apptimize.Apptimize",methodName:"trackValue"}),null==i&&(i=o.getCustomAttributes()),"number"!=typeof t&&!ar.__instanceof(t,at.Int))return void E.w("trackValue() called with a non-float value. Event not logged.",{fileName:"src/apptimize/Apptimize.hx",lineNumber:1246,className:"apptimize.Apptimize",methodName:"trackValue"});var n=lt.nativeObjectToStringMap(i),a=new le(r,o._getApptimizeAnonUserId(),n,S.getAppKey(),je.sharedInstance(),We.sharedInstance());z.generateTrackEvent(a,e,t)}else E.w("Events can only be tracked after setup() has been called.",{fileName:"src/apptimize/Apptimize.hx",lineNumber:1254,className:"apptimize.Apptimize",methodName:"trackValue"})},o.getMetadataSequenceNumber=e.getMetadataSequenceNumber=function(){var e=S.sharedInstance().getMetaData(S.getAppKey());return null!=e?e.getSequenceNumber():0};var u=function(){};(n.Apptimize=u).__name__="Apptimize",u.__super__=o,u.prototype=l(o.prototype,{__class__:u});var h=e.VariantInfo=function(e,t,r,i,n,a,s,l,o,u,c){this._variantId=e,this._variantName=t,this._experimentId=r,this._experimentName=i,this._experimentType=h.apptimizeExperimentTypeForString(n),this._experimentTypeName=n,this._cycle=a,this._currentPhase=s,this._participationPhase=l,this._userId=o,this._anonymousUserId=u,this._userHasParticipated=c};(n["apptimize.VariantInfo"]=h).__name__="apptimize.VariantInfo",h.initWithVariant=function(e,t,r){var i=0,n="v"+e.getVariantID()+"_"+e.getCycle(),a=!1;return We.sharedInstance().isNamespacedPropertyAvailable(n,Je.ApptimizeInternal)&&(i=We.sharedInstance().valueForNamespacedProperty(n,Je.ApptimizeInternal),a=!0),new h(e.getVariantID(),e.getVariantName(),e.getExperimentID(),e.getExperimentName(),e.getExperimentType(),e.getCycle(),e.getPhase(),i,t,r,a)},h.apptimizeExperimentTypeForString=function(e){switch(e.toLowerCase()){case"code-block":return k.CodeBlock;case"double-value":return k.DynamicVariables;case"feature-config":return k.FeatureVariables;case"feature-flag":return k.FeatureFlag;case"int-value":case"string-value":case"variables":return k.DynamicVariables;case"wysiwyg":return k.Visual;default:return k.Unknown}},h.prototype={_variantId:null,_variantName:null,_experimentId:null,_experimentName:null,_experimentType:null,_experimentTypeName:null,_currentPhase:null,_participationPhase:null,_cycle:null,_userId:null,_anonymousUserId:null,_userHasParticipated:null,getVariantId:function(){return this._variantId},getVariantName:function(){return this._variantName},getExperimentId:function(){return this._experimentId},getExperimentName:function(){return this._experimentName},getExperimentType:function(){return this._experimentType},getExperimentTypeName:function(){return this._experimentTypeName},getCurrentPhase:function(){return this._currentPhase},getParticipationPhase:function(){return this._participationPhase},getCycle:function(){return this._cycle},getUserId:function(){return this._userId},getAnonymousUserId:function(){return this._anonymousUserId},getUserHasParticipated:function(){return this._userHasParticipated},__class__:h};var c=function(e,t,r,i,n,a,s,l,o,u,c){h.call(this,e,t,r,i,n,a,s,l,o,u,c)};(n.VariantInfo=c).__name__="VariantInfo",c.__super__=h,c.prototype=l(h.prototype,{__class__:c});var p=function(e,t){this.r=new RegExp(e,t.split("u").join(""))};(n.EReg=p).__name__="EReg",p.prototype={r:null,match:function(e){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(e),this.r.s=e,null!=this.r.m},matched:function(e){if(null!=this.r.m&&0<=e&&e<this.r.m.length)return this.r.m[e];throw ct.thrown("EReg::matched")},matchedPos:function(){if(null==this.r.m)throw ct.thrown("No string matched");return{pos:this.r.m.index,len:this.r.m[0].length}},matchSub:function(e,t,r){var i;return null==r&&(r=-1),this.r.global?(this.r.lastIndex=t,this.r.m=this.r.exec(r<0?e:_.substr(e,0,t+r)),(i=null!=this.r.m)&&(this.r.s=e)):(i=this.match(r<0?_.substr(e,t,null):_.substr(e,t,r)))&&(this.r.s=e,this.r.m.index+=t),i},split:function(e){var t="#__delim__#";return e.replace(this.r,t).split(t)},map:function(e,t){for(var r=0,i="";!(r>=e.length);){if(!this.matchSub(e,r)){i+=f.string(_.substr(e,r,null));break}var n=this.matchedPos();if(i+=f.string(_.substr(e,r,n.pos-r)),i+=f.string(t(this)),0==n.len?(i+=f.string(_.substr(e,n.pos,1)),r=n.pos+1):r=n.pos+n.len,!this.r.global)break}return!this.r.global&&0<r&&r<e.length&&(i+=f.string(_.substr(e,r,null))),i},__class__:p};var _=function(){};(n.HxOverrides=_).__name__="HxOverrides",_.dateStr=function(e){var t=e.getMonth()+1,r=e.getDate(),i=e.getHours(),n=e.getMinutes(),a=e.getSeconds();return e.getFullYear()+"-"+(t<10?"0"+t:""+t)+"-"+(r<10?"0"+r:""+r)+" "+(i<10?"0"+i:""+i)+":"+(n<10?"0"+n:""+n)+":"+(a<10?"0"+a:""+a)},_.strDate=function(e){switch(e.length){case 8:var t=e.split(":"),r=new Date;return r.setTime(0),r.setUTCHours(t[0]),r.setUTCMinutes(t[1]),r.setUTCSeconds(t[2]),r;case 10:return t=e.split("-"),new Date(t[0],t[1]-1,t[2],0,0,0);case 19:var i=(t=e.split(" "))[0].split("-"),n=t[1].split(":");return new Date(i[0],i[1]-1,i[2],n[0],n[1],n[2]);default:throw ct.thrown("Invalid date format : "+e)}},_.cca=function(e,t){var r=e.charCodeAt(t);if(r==r)return r},_.substr=function(e,t,r){if(null==r)r=e.length;else if(r<0){if(0!=t)return"";r=e.length+r}return e.substr(t,r)},_.remove=function(e,t){var r=e.indexOf(t);return-1!=r&&(e.splice(r,1),!0)},_.now=function(){return Date.now()};var m=function(){};(n.Lambda=m).__name__="Lambda",m.array=function(e){for(var t=[],r=hr(e);r.hasNext();){var i=r.next();t.push(i)}return t},m.exists=function(e,t){for(var r=hr(e);r.hasNext();)if(t(r.next()))return!0;return!1},Math.__name__="Math";var d=function(){};(n.Reflect=d).__name__="Reflect",d.field=function(e,t){try{return e[t]}catch(e){return gt.lastError=e,null}},d.getProperty=function(e,t){var r;return null==e?null:e.__properties__&&(r=e.__properties__["get_"+t])?e[r]():e[t]},d.fields=function(e){var t=[];if(null!=e){var r=Object.prototype.hasOwnProperty;for(var i in e)"__id__"!=i&&"hx__closures__"!=i&&r.call(e,i)&&t.push(i)}return t},d.isFunction=function(e){return"function"==typeof e&&!(e.__name__||e.__ename__)},d.deleteField=function(e,t){return!!Object.prototype.hasOwnProperty.call(e,t)&&(delete e[t],!0)};var f=function(){};(n.Std=f).__name__="Std",f.string=function(e){return ar.__string_rec(e,"")},f.parseInt=function(e){if(null!=e)for(var t=0,r=e.length;t<r;){var i=t++,n=e.charCodeAt(i);if(n<=8||14<=n&&32!=n&&45!=n){var a=e.charCodeAt(i+1),s=parseInt(e,120==a||88==a?16:10);return isNaN(s)?null:s}}return null};var g=function(){this.b=""};(n.StringBuf=g).__name__="StringBuf",g.prototype={b:null,__class__:g};var v=function(){};(n.StringTools=v).__name__="StringTools",v.isSpace=function(e,t){var r=_.cca(e,t);return 8<r&&r<14||32==r},v.ltrim=function(e){for(var t=e.length,r=0;r<t&&v.isSpace(e,r);)++r;return 0<r?_.substr(e,r,t-r):e},v.rtrim=function(e){for(var t=e.length,r=0;r<t&&v.isSpace(e,t-r-1);)++r;return 0<r?_.substr(e,0,t-r):e},v.trim=function(e){return v.ltrim(v.rtrim(e))},v.lpad=function(e,t,r){if(t.length<=0)return e;var i="";for(r-=e.length;i.length<r;)i+=null==t?"null":""+t;return i+(null==e?"null":""+e)},v.replace=function(e,t,r){return e.split(t).join(r)},v.hex=function(e,t){for(var r="";r="0123456789ABCDEF".charAt(15&e)+r,0<(e>>>=4););if(null!=t)for(;r.length<t;)r="0"+r;return r};var A=s.ValueType={__ename__:"ValueType",__constructs__:null,TNull:{_hx_name:"TNull",_hx_index:0,__enum__:"ValueType",toString:a},TInt:{_hx_name:"TInt",_hx_index:1,__enum__:"ValueType",toString:a},TFloat:{_hx_name:"TFloat",_hx_index:2,__enum__:"ValueType",toString:a},TBool:{_hx_name:"TBool",_hx_index:3,__enum__:"ValueType",toString:a},TObject:{_hx_name:"TObject",_hx_index:4,__enum__:"ValueType",toString:a},TFunction:{_hx_name:"TFunction",_hx_index:5,__enum__:"ValueType",toString:a},TClass:(i=function(e){return{_hx_index:6,c:e,__enum__:"ValueType",toString:a}},i._hx_name="TClass",i.__params__=["c"],i),TEnum:(i=function(e){return{_hx_index:7,e:e,__enum__:"ValueType",toString:a}},i._hx_name="TEnum",i.__params__=["e"],i),TUnknown:{_hx_name:"TUnknown",_hx_index:8,__enum__:"ValueType",toString:a}};A.__constructs__=[A.TNull,A.TInt,A.TFloat,A.TBool,A.TObject,A.TFunction,A.TClass,A.TEnum,A.TUnknown];var y=function(){};(n.Type=y).__name__="Type",y.createInstance=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(t)))},y.createEnum=function(e,t,r){var i=d.field(e,t);if(null==i)throw ct.thrown("No such constructor "+t);if(d.isFunction(i)){if(null==r)throw ct.thrown("Constructor "+t+" need parameters");return i.apply(e,r)}if(null!=r&&0!=r.length)throw ct.thrown("Constructor "+t+" does not need parameters");return i},y.getInstanceFields=function(e){var t=[];for(var r in e.prototype)t.push(r);return _.remove(t,"__class__"),_.remove(t,"__properties__"),t},y.typeof=function(e){switch(typeof e){case"boolean":return A.TBool;case"function":return e.__name__||e.__ename__?A.TObject:A.TFunction;case"number":return Math.ceil(e)==e%2147483648?A.TInt:A.TFloat;case"object":if(null==e)return A.TNull;var t=e.__enum__;if(null!=t)return A.TEnum(s[t]);var r=ar.getClass(e);return null!=r?A.TClass(r):A.TObject;case"string":return A.TClass(String);case"undefined":return A.TNull;default:return A.TUnknown}},y.enumParameters=function(e){var t=s[e.__enum__].__constructs__[e._hx_index].__params__;if(null!=t){for(var r=[],i=0;i<t.length;){var n=t[i];++i,r.push(e[n])}return r}return[]};var b=s["apptimize.ABTApptimizeVariableType"]={__ename__:"apptimize.ABTApptimizeVariableType",__constructs__:null,Invalid:{_hx_name:"Invalid",_hx_index:0,__enum__:"apptimize.ABTApptimizeVariableType",toString:a},String:{_hx_name:"String",_hx_index:1,__enum__:"apptimize.ABTApptimizeVariableType",toString:a},Double:{_hx_name:"Double",_hx_index:2,__enum__:"apptimize.ABTApptimizeVariableType",toString:a},Integer:{_hx_name:"Integer",_hx_index:3,__enum__:"apptimize.ABTApptimizeVariableType",toString:a},Boolean:{_hx_name:"Boolean",_hx_index:4,__enum__:"apptimize.ABTApptimizeVariableType",toString:a},Array:{_hx_name:"Array",_hx_index:5,__enum__:"apptimize.ABTApptimizeVariableType",toString:a},Dictionary:{_hx_name:"Dictionary",_hx_index:6,__enum__:"apptimize.ABTApptimizeVariableType",toString:a}};b.__constructs__=[b.Invalid,b.String,b.Double,b.Integer,b.Boolean,b.Array,b.Dictionary];var T=function(){};(n["apptimize.ABTApptimizeVariable"]=T).__name__="apptimize.ABTApptimizeVariable",T.getValue=function(e,t,r,i){S._checkForUpdatedMetadataIfNecessary();var n=S.sharedInstance(),a=n.getMetaData(e.appkey);if(null==a)return null;for(var s=n.makeEnvironment(e),l=a.selectAlterationsIntoArray(s),o=0;o<l.length;){var u=l[o];if(++o,u.getKey()==t){var h=u instanceof Ae?u:null;if(null==h)return E.v('Alteration found for key "'+u.getKey()+"\" isn't a value alteration.",{fileName:"src/apptimize/ABTApptimizeVariable.hx",lineNumber:41,className:"apptimize.ABTApptimizeVariable",methodName:"getValue"}),null;var c=T.apptimizeVariableTypeForString(h.getType()),p=null;if(null!=h.getNestedType()&&(p=T.apptimizeVariableTypeForString(h.getNestedType())),c==r&&p==i){var _=h.getVariant();if(S.sharedInstance().incrementVariantRunCount(e,_),!h.useDefaultValue())return h.getValue()}}}return E.v('No alteration found for dynamic variable "'+t+'".',{fileName:"src/apptimize/ABTApptimizeVariable.hx",lineNumber:63,className:"apptimize.ABTApptimizeVariable",methodName:"getValue"}),null},T.apptimizeVariableTypeForString=function(e){var t=e.toLowerCase();return"string"==t?b.String:"double"==t?b.Double:"int"==t?b.Integer:"boolean"==t?b.Boolean:"list"==t?b.Array:"dictionary"==t?b.Dictionary:b.Invalid};var w=function(){};(n["apptimize.util.PlatformLock"]=w).__name__="apptimize.util.PlatformLock",w.__isInterface__=!0,w.prototype={acquire:null,release:null,__class__:w};var x=function(){};(n["apptimize.util.DefaultPlatformLock"]=x).__name__="apptimize.util.DefaultPlatformLock",x.__interfaces__=[w],x.prototype={acquire:function(){return!0},release:function(){},hxUnserialize:function(e){},__class__:x};var N=function(){};(n["apptimize.util.ABTDataLock"]=N).__name__="apptimize.util.ABTDataLock",N.getNewLock=function(e){return new x};var S=function(){this.sdkParameters=new xe(null),this.resultDispatchQueue=new U("Results Logging Dispatch Queue"),this.resultDispatchQueue.start(),this.newMdFetcher=new q,this.propChangeFetcher=new q,this.metaDataCache=new C};(n["apptimize.ABTDataStore"]=S).__name__="apptimize.ABTDataStore",S.sharedInstance=function(){return null==S._instance&&(S._instance=new S),S._instance},S.clear=function(){Ge.clear(),S._instance=null},S.shutdown=function(){null!=S._instance&&null!=S._instance.resultTimer&&S._instance.resultTimer.stop(),S._instance=null,S.appKey=null,S.serverGuid=null},S._getLastCheckTime=function(){var e=Ge.loadString(Ge.kMetadataLastCheckTimeKey);return null!=e?parseFloat(e):-1e4},S._updateLastCheckTime=function(e){Ge.saveString(Ge.kMetadataLastCheckTimeKey,null==e?"null":""+e)},S._resetCheckTimeIfNeeded=function(){var e=!1;N.CHECK_TIME_LOCK.acquire();try{var t=parseFloat(He.sharedInstance().valueForProperty(He.METADATA_POLLING_INTERVAL_MS_KEY)),r=(new Date).getTime();t<r-S._getLastCheckTime()&&(S._updateLastCheckTime(r),e=!0)}catch(e){gt.lastError=e;var i=ct.caught(e).unwrap();throw N.CHECK_TIME_LOCK.release(),ct.thrown(i)}return N.CHECK_TIME_LOCK.release(),e},S._getLastSubmitTime=function(){var e=Ge.loadString(Ge.kResultLastSubmitTimeKey);return null!=e?parseFloat(e):-1e4},S._updateLastSubmitTime=function(e){Ge.saveString(Ge.kResultLastSubmitTimeKey,null==e?"null":""+e)},S.getAppKey=function(){return S.appKey},S.checkForUpdatedMetaData=function(e){null==e&&(e=!1),S.shouldDisable()?E.w("This SDK version disabled; not checking for updated metadata",{fileName:"src/apptimize/ABTDataStore.hx",lineNumber:218,className:"apptimize.ABTDataStore",methodName:"checkForUpdatedMetaData"}):(E.v("Checking for updated metadata...",{fileName:"src/apptimize/ABTDataStore.hx",lineNumber:221,className:"apptimize.ABTDataStore",methodName:"checkForUpdatedMetaData"}),o._isInitialized()&&(S._resetCheckTimeIfNeeded()||e)&&I.sharedInstance().downloadMetaDataForKey(S.getAppKey(),S.sharedInstance()._getCurrentEtag(S.getAppKey())))},S._checkForUpdatedMetadataIfNecessary=function(){},S.shouldDisable=function(){var e=Ge.loadObject(Ge.kDisabledVersions);return null!=e&&-1<e.indexOf(o.getApptimizeSDKVersion())},S.prototype={resultLogs:null,metaDataCache:null,newMdFetcher:null,propChangeFetcher:null,resultDispatchQueue:null,sdkParameters:null,resultTimer:null,initialize:function(){if(this.resultLogs=Ge.loadObject(Ge.kResultLogsKey),null==this.resultLogs){var e=He.sharedInstance().valueForProperty(He.RESULTS_CACHE_SIZE_KEY);ar.getClass(e)==String&&null==(e=f.parseInt(e))&&(E.e("Invalid value specified for results_cache_size, defaulting to 10",{fileName:"src/apptimize/ABTDataStore.hx",lineNumber:101,className:"apptimize.ABTDataStore",methodName:"initialize"}),e=10),this.resultLogs=new rt(e)}},hasMetadata:function(e){var t=!1;N.METADATA_LOCK.acquire();try{t=Object.prototype.hasOwnProperty.call(this.metaDataCache.h,e)}catch(e){gt.lastError=e;var r=ct.caught(e).unwrap();throw N.METADATA_LOCK.release(),ct.thrown(r)}return N.METADATA_LOCK.release(),t},_getCurrentEtag:function(e){var t=this.getMetaData(e);return null==t?null:t.getEtag()},loadMetaData:function(e){S.appKey=e,this.reloadFromDisk(),S.shouldDisable()||S._resetCheckTimeIfNeeded()&&I.sharedInstance().downloadMetaDataForKey(e,this._getCurrentEtag(e))},_resetSubmitTimeIfNeeded:function(e){null==e&&(e=!1);var t=!1;N.CHECK_TIME_LOCK.acquire();try{var r=this._getMinTimeBetweenPosts(e),i=(new Date).getTime();r<i-S._getLastSubmitTime()&&(S._updateLastSubmitTime(i),t=!0)}catch(e){gt.lastError=e;var n=ct.caught(e).unwrap();throw N.CHECK_TIME_LOCK.release(),ct.thrown(n)}return N.CHECK_TIME_LOCK.release(),t},_getMinTimeBetweenPosts:function(e){null==e&&(e=!1);var t=parseFloat(He.sharedInstance().valueForProperty(He.RESULT_POST_DELAY_MS_KEY)),r=this.sdkParameters.minPostFrequencyMs;return e?null==r?-1:r:null!=r&&t<r?r:t},_submitResultsIfNecessary:function(){},reloadFromDisk:function(){var e=Ge.loadObject(Ge.kMetadataKey);null!=e?(E.v("Existing metadata loaded from storage, will update if necessary.",{fileName:"src/apptimize/ABTDataStore.hx",lineNumber:256,className:"apptimize.ABTDataStore",methodName:"reloadFromDisk"}),this.onMetadataLoaded(e)):E.v("No existing metadata found in storage.",{fileName:"src/apptimize/ABTDataStore.hx",lineNumber:259,className:"apptimize.ABTDataStore",methodName:"reloadFromDisk"})},getRequestlessEnvironment:function(e){var t=o.getApptimizeAnonUserId(),r=o.getCustomerUserId(),i=Ge.loadStringMap(Ge.kCustomPropertiesKey),n=new le(r,t,i,e.getAppKey(),je.sharedInstance(),We.sharedInstance());return e.makeEnvironment(n,this.sdkParameters)},getUrlsForMetadata:function(e){var t=this.getRequestlessEnvironment(e);return e.extractNeededSecondaryUrls(t)},onMetadataLoaded:function(e){var t=this;this.sdkParameters=e.extractSdkParameters(this.getRequestlessEnvironment(e));var r=this.getUrlsForMetadata(e);this.newMdFetcher.fetch(r,e.getSecondaryValues(),(function(i,n){var a=t.getUrlsForMetadata(e);if(t.newMdFetcher.needNewUrls(r,a))return E.w("urls changed while fetching values, retrying",{fileName:"src/apptimize/ABTDataStore.hx",lineNumber:309,className:"apptimize.ABTDataStore",methodName:"onMetadataLoaded"}),void t.onMetadataLoaded(e);e.setSecondaryValues(i),t.overrideMetadata(e,!1,n)}))},onMetadataReceived:function(e){var t=this;if(this.newMdFetcher.fetching())E.e("onMetadataReceived called while fetch already in progress",{fileName:"src/apptimize/ABTDataStore.hx",lineNumber:330,className:"apptimize.ABTDataStore",methodName:"onMetadataReceived"});else{this.sdkParameters=e.extractSdkParameters(this.getRequestlessEnvironment(e));var r=this.getUrlsForMetadata(e),i=null,n=this.getMetaData(e.getAppKey());null!=n&&(i=n.getSecondaryValues()),this.newMdFetcher.fetch(r,i,(function(i,n){var a=t.getUrlsForMetadata(e);if(t.newMdFetcher.needNewUrls(r,a))return E.w("urls changed while fetching values, retrying",{fileName:"src/apptimize/ABTDataStore.hx",lineNumber:346,className:"apptimize.ABTDataStore",methodName:"onMetadataReceived"}),void t.onMetadataReceived(e);e.setSecondaryValues(i),t.overrideMetadata(e,!0,n)}))}},onEnvPropsChanged:function(e){var t=this,r=this.getMetaData(e);if(null!=r){r.resetFilterEvaluations();var i=this.getUrlsForMetadata(r),n=r.getSecondaryValues();this.newMdFetcher.fetching()||this.propChangeFetcher.fetching()||this.propChangeFetcher.fetch(i,n,(function(n,a){if(t.getMetaData(e)==r){var s=t.getUrlsForMetadata(r);if(t.newMdFetcher.needNewUrls(i,s))return E.w("urls changed while fetching values, retrying",{fileName:"src/apptimize/ABTDataStore.hx",lineNumber:390,className:"apptimize.ABTDataStore",methodName:"onEnvPropsChanged"}),void t.onEnvPropsChanged(e);var l=r.clone();l.setSecondaryValues(n),t.overrideMetadata(l,!0,a)}}))}},overrideMetadata:function(e,t,r){var i=null,n=!0,a=!1;N.METADATA_LOCK.acquire();try{n=e.getAppKey()==S.getAppKey();var s=e.getAppKey();i=this.metaDataCache.h[s],n&&((null==i||i.getSequenceNumber()<e.getSequenceNumber())&&(a=!0),(a||r)&&(this.metaDataCache.h[s]=e,this.sdkParameters=e.extractSdkParameters(this.getRequestlessEnvironment(e)),t&&Ge.saveObject(Ge.kDisabledVersions,e.getDisabledVersions())))}catch(e){gt.lastError=e;var l=ct.caught(e).unwrap();throw N.METADATA_LOCK.release(),ct.thrown(l)}N.METADATA_LOCK.release(),e.copyPersistentValues(i),(a&&t||r)&&(this.writeToDiskIfNeeded(),this.dispatchEnrollmentChangeCallbacks(i,e)),a?(H.dispatchOnMetadataUpdated(),E.i('Updated metadata for app key "'+e.getAppKey()+'".',{fileName:"src/apptimize/ABTDataStore.hx",lineNumber:450,className:"apptimize.ABTDataStore",methodName:"overrideMetadata"}),E.v("New metadata:\n"+Ct.print(e.getMetaData(),null,"  "),{fileName:"src/apptimize/ABTDataStore.hx",lineNumber:452,className:"apptimize.ABTDataStore",methodName:"overrideMetadata"}),null==i&&z._trySetReady()&&H.dispatchOnApptimizeInitialized()):E.i("Existing metadata is up-to-date.",{fileName:"src/apptimize/ABTDataStore.hx",lineNumber:460,className:"apptimize.ABTDataStore",methodName:"overrideMetadata"})},getMetaData:function(e){if(null==this.metaDataCache)return null;var t=null;N.METADATA_LOCK.acquire();try{t=this.metaDataCache.h[e]}catch(e){gt.lastError=e;var r=ct.caught(e).unwrap();throw N.METADATA_LOCK.release(),ct.thrown(r)}return N.METADATA_LOCK.release(),null!=t&&t.getAppKey()!=e?(E.e("Metadata appkey does not match requested key",{fileName:"src/apptimize/ABTDataStore.hx",lineNumber:477,className:"apptimize.ABTDataStore",methodName:"getMetaData"}),null):t},dispatchEnrollmentChangeCallbacks:function(e,t){if(H.isEnrollmentListenerRegistered()||H.isUnenrollmentListenerRegistered()){for(var r=o.getCustomerUserId(),i=o.getApptimizeAnonUserId(),n=Ge.loadStringMap(Ge.kCustomPropertiesKey),a=new le(r,i,n,S.getAppKey(),je.sharedInstance(),We.sharedInstance()),s=t.makeEnvironment(a,this.sdkParameters),l=null==e?s:e.makeEnvironment(a,this.sdkParameters),u=null==e?[]:e.uncachedSelectAlterationsIntoArray(l,!1),c=t.uncachedSelectAlterationsIntoArray(s,!1),p=new kt,_=new kt,d=0;d<c.length;){var f=c[d];++d;var g=f.getVariant();if(ar.getClass(g)==ze){var v=g;p.add(v.getHotfixName())}else _.add(g)}for(var A=t.getAllVariants(),y=new Array(A.length),b=(d=0,A.length);d<b;){var T=d++;y[T]=A[T].getExperimentID()}var w=y,x=new kt,N=new kt,E=new kt,z=new kt;for(d=0;d<u.length;)if(f=u[d],++d,g=[f.getVariant()],ar.getClass(g[0])!=ze&&!m.exists(N,function(e){return function(t){return t==e[0].getVariantID()}}(g))){var k=h.initWithVariant(g[0],r,i);x.add(g[0].getExperimentID()),N.add(g[0].getVariantID()),p.filter(function(e){return function(t){return t==e[0].getExperimentName()}}(g)).isEmpty()?m.exists(w,function(e){return function(t){return t==e[0].getExperimentID()}}(g))?m.exists(_,function(e){return function(t){return t.getExperimentID()==e[0].getExperimentID()}}(g))?m.exists(_,function(e){return function(t){return t.getVariantID()==e[0].getVariantID()}}(g))||(H.dispatchOnUnenrolledInExperiment(k,j.VariantChanged),E.add(g[0].getExperimentID())):H.dispatchOnUnenrolledInExperiment(k,j.Other):H.dispatchOnUnenrolledInExperiment(k,j.ExperimentStopped):H.dispatchOnUnenrolledInExperiment(k,j.ExperimentWinnerSelected)}z=new kt;for(var I=_.h;null!=I;){var B=I.item;I=I.next;var F=[B];m.exists(z,function(e){return function(t){return t==e[0].getVariantID()}}(F))||(z.add(F[0].getVariantID()),m.exists(x,function(e){return function(t){return t==e[0].getExperimentID()}}(F))&&!m.exists(E,function(e){return function(t){return t==e[0].getExperimentID()}}(F)))||(k=h.initWithVariant(F[0],r,i),H.dispatchOnEnrolledInExperiment(k))}}},dispatchUnenrollmentsForUserChanged:function(e){var t=this.getMetaData(e.appkey);if(null!=t){for(var r=t.makeEnvironment(e,this.sdkParameters),i=t.uncachedSelectAlterationsIntoArray(r),n=new kt,a=0,s=new Array(i.length),l=0,o=i.length;l<o;)s[_=l++]=i[_].getVariant();l=[],o=0;for(var u=s;o<u.length;){var c=u[o];++o,ar.getClass(c)!=ze&&l.push(c)}var p=l;for(s=new Array(p.length),l=0,o=p.length;l<o;){var _;s[_=l++]=h.initWithVariant(p[_],r.userID,r.anonID)}for(l=s;a<l.length;){var d=[l[a]];++a,m.exists(n,function(e){return function(t){return t==e[0].getVariantId()}}(d))||(n.add(d[0].getVariantId()),H.dispatchOnUnenrolledInExperiment(d[0],j.UserIdChanged))}}},dispatchEnrollmentsForUserChanged:function(e){var t=this.getMetaData(e.appkey);if(null!=t){for(var r=t.makeEnvironment(e,this.sdkParameters),i=t.uncachedSelectAlterationsIntoArray(r),n=new kt,a=0,s=new Array(i.length),l=0,o=i.length;l<o;)s[_=l++]=i[_].getVariant();l=[],o=0;for(var u=s;o<u.length;){var c=u[o];++o,ar.getClass(c)!=ze&&l.push(c)}var p=l;for(s=new Array(p.length),l=0,o=p.length;l<o;){var _;s[_=l++]=h.initWithVariant(p[_],r.userID,r.anonID)}for(l=s;a<l.length;){var d=[l[a]];++a,m.exists(n,function(e){return function(t){return t==e[0].getVariantId()}}(d))||(n.add(d[0].getVariantId()),H.dispatchOnEnrolledInExperiment(d[0]))}}},makeEnvironment:function(e){var t=this.getMetaData(e.appkey);return null==t?null:t.makeEnvironment(e,this.sdkParameters)},writeToDiskIfNeeded:function(){var e=this.getMetaData(S.getAppKey());null!=e&&Ge.saveObject(Ge.kMetadataKey,e,null,!0)},_saveResultLogs:function(){Ge.saveObject(Ge.kResultLogsKey,this.resultLogs,null,!0)},addResultLogEntry:function(e,t){var r=e.getUniqueUserID();S.resultsLock.acquire();try{var i=this.resultLogs.getValue(r);null==i&&(i=new Le(e),this.resultLogs.insert(r,i,cr(this,this._submitResultLog),this.resultDispatchQueue)),i.logEntry(t),i.entryCount()>He.sharedInstance().valueForProperty(He.MAXIMUM_RESULT_ENTRIES_KEY)&&this.resultLogs.remove(r,cr(this,this._submitResultLog),this.resultDispatchQueue),null==this.resultTimer&&(this.resultTimer=At.delay(cr(this,this._flushTrackingForTimer),this._getMinTimeBetweenPosts())),this._saveResultLogs(),this._submitResultsIfNecessary()}catch(e){gt.lastError=e;var n=ct.caught(e).unwrap();throw S.resultsLock.release(),ct.thrown(n)}S.resultsLock.release()},logUserTransition:function(e,t){var r=this.makeEnvironment(e),i=this.makeEnvironment(t);if(null!=r&&null!=i){var n=new Ce(r,i.userID),a=new Pe(i,r.userID);this.addResultLogEntry(r,n),this.addResultLogEntry(i,a)}},_submitResultLog:function(e){S.shouldDisable()||(I.sharedInstance().postResultsForKey(e.getAppKey(),e),this._saveResultLogs())},flushTracking:function(){this._resetSubmitTimeIfNeeded(!0)&&(this._flushTrackingInternal(),null!=this.resultTimer&&(this.resultTimer.stop(),this.resultTimer=null))},_flushTrackingForTimer:function(){this.resultTimer=null,this._flushTrackingInternal(),this._resetSubmitTimeIfNeeded()},_flushTrackingInternal:function(){E.v("Posting results...",{fileName:"src/apptimize/ABTDataStore.hx",lineNumber:732,className:"apptimize.ABTDataStore",methodName:"_flushTrackingInternal"}),S.resultsLock.acquire();try{this.resultLogs.clear(cr(this,this._submitResultLog),this.resultDispatchQueue),this._saveResultLogs()}catch(t){gt.lastError=t;var e=ct.caught(t).unwrap();throw S.resultsLock.release(),ct.thrown(e)}S.resultsLock.release()},incrementVariantRunCount:function(e,t){if(ar.getClass(t)!=ze){var r="v"+t.getVariantID()+"_"+t.getCycle(),i="e"+t.getExperimentID()+"_"+t.getCycle(),n=t.getPhase(),a=!1;e.internalProps.isNamespacedPropertyAvailable(r,Je.ApptimizeInternal)?n=e.internalProps.valueForNamespacedProperty(r,Je.ApptimizeInternal):(e.internalProps.valueForNamespacedProperty(r,Je.ApptimizeInternal),e.internalProps.valueForNamespacedProperty(i,Je.ApptimizeInternal),e.internalProps.setPropertyForNamespace(r,n,Je.ApptimizeInternal),e.internalProps.setPropertyForNamespace(i,n,Je.ApptimizeInternal),E.v("Setting stickiness attributes "+r+" and "+i+" to participation phase "+t.getPhase(),{fileName:"src/apptimize/ABTDataStore.hx",lineNumber:761,className:"apptimize.ABTDataStore",methodName:"incrementVariantRunCount"}),a=!0);var s=this.makeEnvironment(e),l=new Ie(s,t.getVariantID(),t.getCycle(),n);E.v('Incrementing variant run count for variant ID "'+t.getVariantID()+'".',{fileName:"src/apptimize/ABTDataStore.hx",lineNumber:767,className:"apptimize.ABTDataStore",methodName:"incrementVariantRunCount"});var o=h.initWithVariant(t,s.userID,s.anonID);H.dispatchOnParticipatedInExperiment(o,a),this.addResultLogEntry(s,l)}},generateEvent:function(e,t,r,i){if(o._isInitialized()&&null!=S.sharedInstance().getMetaData(i.appkey)){var n=this.makeEnvironment(i),a=new Be(n,e,t,r),s='Event "'+e+'"';null!=r&&(s=s+" with value "+f.string(r.h[z.kABTValueEventKey])),s+=" tracked.",E.v(s,{fileName:"src/apptimize/ABTDataStore.hx",lineNumber:792,className:"apptimize.ABTDataStore",methodName:"generateEvent"}),this.addResultLogEntry(n,a)}else E.w('Event "'+e+'" will not be tracked until Apptimize.setup() is called and MetaData available.',{fileName:"src/apptimize/ABTDataStore.hx",lineNumber:778,className:"apptimize.ABTDataStore",methodName:"generateEvent"})},__class__:S};var E=function(){};(n["apptimize.ABTLogger"]=E).__name__="apptimize.ABTLogger",E.logLevelFromString=function(e){var t=e.toUpperCase();return"LOG_LEVEL_VERBOSE"==t?E.LOG_LEVEL_VERBOSE:"LOG_LEVEL_DEBUG"==t?E.LOG_LEVEL_DEBUG:"LOG_LEVEL_INFO"==t?E.LOG_LEVEL_INFO:"LOG_LEVEL_WARN"==t?E.LOG_LEVEL_WARN:"LOG_LEVEL_ERROR"==t?E.LOG_LEVEL_ERROR:E.LOG_LEVEL_NONE},E.setLogLevel=function(e){E.logLevel=e},E.c=function(e,t){E.log_out(e,t),$e.throwException(e)},E.e=function(e,t){E.logLevel<=E.LOG_LEVEL_ERROR&&E.log_out(e,t)},E.w=function(e,t){E.logLevel<=E.LOG_LEVEL_WARN&&E.log_out(e,t)},E.i=function(e,t){E.logLevel<=E.LOG_LEVEL_INFO&&E.log_out(e,t)},E.d=function(e,t){E.logLevel<=E.LOG_LEVEL_DEBUG&&E.log_out(e,t)},E.v=function(e,t){E.logLevel<=E.LOG_LEVEL_VERBOSE&&E.log_out(e,t)},E.log_out=function(e,t){E.useTraceForLogging&&ft.trace!=E.trace?ft.trace(e,t):E.traceInternal("Apptimize: "+e,t)},E.redirectTraceStatements=function(){ft.trace=E.trace},E.traceInternal=function(e,t){"undefined"!=typeof console&&null!=console.log&&console.log(e)},E.trace=function(e,t){var r=f.string(e);E.v(r,t)};var z=function(){};(n["apptimize.ApptimizeInternal"]=z).__name__="apptimize.ApptimizeInternal",z._isInitialized=function(){var e=!1;N.INITIALIZATION.acquire();try{e=2==z._state||3==z._state}catch(e){gt.lastError=e;var t=ct.caught(e).unwrap();throw N.INITIALIZATION.release(),ct.thrown(t)}return N.INITIALIZATION.release(),e},z.setState=function(e){N.INITIALIZATION.acquire();try{z._state=e}catch(e){gt.lastError=e;var t=ct.caught(e).unwrap();throw N.INITIALIZATION.release(),ct.thrown(t)}N.INITIALIZATION.release()},z._trySetReady=function(){var e=!1;N.INITIALIZATION.acquire();try{2==z._state&&(e=!0,z._state=3)}catch(e){gt.lastError=e;var t=ct.caught(e).unwrap();throw N.INITIALIZATION.release(),ct.thrown(t)}return N.INITIALIZATION.release(),e},z._setup=function(e,t,r){var i=!0;N.INITIALIZATION.acquire();try{0!=z._state?(E.w("Apptimize setup has already been called.",{fileName:"src/apptimize/ApptimizeInternal.hx",lineNumber:68,className:"apptimize.ApptimizeInternal",methodName:"_setup"}),i=!1):z._state=1}catch(e){gt.lastError=e;var n=ct.caught(e).unwrap();throw N.INITIALIZATION.release(),ct.thrown(n)}if(N.INITIALIZATION.release(),0!=i){E.redirectTraceStatements();var a=He.sharedInstance();if(null!=t&&a.setProperties(lt.nativeObjectToStringMap(t)),a.isPropertyAvailable(He.LOG_LEVEL_KEY)){var s=a.valueForProperty(He.LOG_LEVEL_KEY);E.setLogLevel(E.logLevelFromString(s))}if(a.isPropertyAvailable(He.APPTIMIZE_ENVIRONMENT_KEY)||a.isPropertyAvailable(He.APPTIMIZE_REGION_KEY)){var l=a.valueForProperty(He.APPTIMIZE_ENVIRONMENT_KEY);null==l&&(l="prod");var o=a.valueForProperty(He.APPTIMIZE_REGION_KEY);switch(null==o&&(o="default"),o){case"eucs":switch(l){case"local":a.setProperty(He.META_DATA_URL_KEY,"https://local.apptimize.co/api/metadata/v4/"),a.setProperty(He.GROUPS_BASE_URL_KEY,"https://local.apptimize.co");break;case"prod":a.setProperty(He.META_DATA_URL_LL_KEY,"https://md-ll.apptimize.eu/api/metadata/v4/"),a.setProperty(He.META_DATA_URL_HL_KEY,"https://md-hl.apptimize.eu/api/metadata/v4/"),a.setProperty(He.GROUPS_BASE_URL_KEY,"https://mapi.apptimize.eu");break;case"staging":"default"!=o&&E.v("Apptimize region '"+o+"' does not have a staging environment. Falling back to default region.",{fileName:"src/apptimize/ApptimizeInternal.hx",lineNumber:109,className:"apptimize.ApptimizeInternal",methodName:"_setup"}),a.setProperty(He.META_DATA_URL_KEY,"https://staging-md.apptimize.co/api/metadata/v4/"),a.setProperty(He.GROUPS_BASE_URL_KEY,"https://staging-mapi.apptimize.co")}break;case"gcp":switch(l){case"local":a.setProperty(He.META_DATA_URL_KEY,"https://local.apptimize.co/api/metadata/v4/"),a.setProperty(He.GROUPS_BASE_URL_KEY,"https://local.apptimize.co");break;case"staging":a.setProperty(He.META_DATA_URL_KEY,"https://gcp-stag-md.apptimize.co/api/metadata/v4/"),a.setProperty(He.GROUPS_BASE_URL_KEY,"https://gcp-stag-mapi.apptimize.co")}break;default:switch(l){case"local":a.setProperty(He.META_DATA_URL_KEY,"https://local.apptimize.co/api/metadata/v4/"),a.setProperty(He.GROUPS_BASE_URL_KEY,"https://local.apptimize.co");break;case"staging":"default"!=o&&E.v("Apptimize region '"+o+"' does not have a staging environment. Falling back to default region.",{fileName:"src/apptimize/ApptimizeInternal.hx",lineNumber:109,className:"apptimize.ApptimizeInternal",methodName:"_setup"}),a.setProperty(He.META_DATA_URL_KEY,"https://staging-md.apptimize.co/api/metadata/v4/"),a.setProperty(He.GROUPS_BASE_URL_KEY,"https://staging-mapi.apptimize.co")}}}null!=e&&E.v('Initializing Apptimize with app key: "'+e+'".',{fileName:"src/apptimize/ApptimizeInternal.hx",lineNumber:120,className:"apptimize.ApptimizeInternal",methodName:"_setup"}),S.sharedInstance().initialize(),Me.initialize();var u=8;a.isPropertyAvailable(He.RESULT_POST_THREAD_POOL_SIZE_KEY)&&(u=a.valueForProperty(He.RESULT_POST_THREAD_POOL_SIZE_KEY)),Ge.loadFromHighLatency((function(){M.loadPendingLogs(),r(),M.startDispatching(u)}))}},z.shutdown=function(){N.INITIALIZATION.acquire();try{2==z._state||3==z._state?(M.savePendingLogs(),Ge.saveToHighLatency(),Me.shutdownPlatform(),S.shutdown(),Ge.shutdown(),z._state=0,E.i("Apptimize has shutdown",{fileName:"src/apptimize/ApptimizeInternal.hx",lineNumber:151,className:"apptimize.ApptimizeInternal",methodName:"shutdown"})):E.w("Apptimize is not initialized. Unable to shutdown().",{fileName:"src/apptimize/ApptimizeInternal.hx",lineNumber:153,className:"apptimize.ApptimizeInternal",methodName:"shutdown"})}catch(t){gt.lastError=t;var e=ct.caught(t).unwrap();throw N.INITIALIZATION.release(),ct.thrown(e)}N.INITIALIZATION.release()},z.generateTrackEvent=function(e,t,r){var i=null;if(null!=r){var n=new C;n.h[z.kABTValueEventKey]=r,i=n}S.sharedInstance().generateEvent(t,z.kABTEventSourceApptimize,i,e)},z._getCodeBlockMethod=function(e,t){var r=t;if(null==r||""==r)E.w("Attempting to runCodeBlock() without specifying a code block name! Returning baseline original variant.",{fileName:"src/apptimize/ApptimizeInternal.hx",lineNumber:170,className:"apptimize.ApptimizeInternal",methodName:"_getCodeBlockMethod"});else{for(var i=0,n=z._getAlterations(e);i<n.length;){var a=n[i];if(++i,null!=a&&ar.getClass(a)==ve){var s=a;if(s.getVariant().getCodeBlockName()!=r)continue;return S.sharedInstance().incrementVariantRunCount(e,s.getVariant()),s.methodName}}E.w('Not participating in any code block experiments with name "'+t+'". Returning baseline original variant.',{fileName:"src/apptimize/ApptimizeInternal.hx",lineNumber:185,className:"apptimize.ApptimizeInternal",methodName:"_getCodeBlockMethod"})}return"baseline"},z._getVariants=function(e){S._checkForUpdatedMetadataIfNecessary();for(var t=z._getAlterations(e),r=new zt,i=0;i<t.length;){var n=t[i];++i;var a,s=n.getVariant();if(ar.getClass(s)!=ze){var l=s.getVariantID();a=!r.h.hasOwnProperty(l)}else a=!1;if(a){var o=s.getVariantID();r.h[o]=s}}return m.array(r)},z._getAlterations=function(e){var t=[],r=S.sharedInstance(),i=r.getMetaData(e.appkey);return null!=i&&(t=i.selectAlterationsIntoArray(r.makeEnvironment(e))),t};var k=s["apptimize.ApptimizeExperimentType"]={__ename__:"apptimize.ApptimizeExperimentType",__constructs__:null,CodeBlock:{_hx_name:"CodeBlock",_hx_index:0,__enum__:"apptimize.ApptimizeExperimentType",toString:a},FeatureFlag:{_hx_name:"FeatureFlag",_hx_index:1,__enum__:"apptimize.ApptimizeExperimentType",toString:a},DynamicVariables:{_hx_name:"DynamicVariables",_hx_index:2,__enum__:"apptimize.ApptimizeExperimentType",toString:a},Visual:{_hx_name:"Visual",_hx_index:3,__enum__:"apptimize.ApptimizeExperimentType",toString:a},Unknown:{_hx_name:"Unknown",_hx_index:4,__enum__:"apptimize.ApptimizeExperimentType",toString:a},FeatureVariables:{_hx_name:"FeatureVariables",_hx_index:5,__enum__:"apptimize.ApptimizeExperimentType",toString:a}};k.__constructs__=[k.CodeBlock,k.FeatureFlag,k.DynamicVariables,k.Visual,k.Unknown,k.FeatureVariables];var I=function(){};(n["apptimize.api.ABTApiClient"]=I).__name__="apptimize.api.ABTApiClient",I.sharedInstance=function(){return null==I._instance&&(I._instance=new I),I._instance},I.prototype={downloadMetaDataForKey:function(e,t){new B(this,e,t,(function(e,t){var r=be.loadFromString(e);r.setEtag(t),S.sharedInstance().onMetadataReceived(r)}),(function(e){E.e("Failed to download metadata with error: "+e,{fileName:"src/apptimize/api/ABTApiClient.hx",lineNumber:24,className:"apptimize.api.ABTApiClient",methodName:"downloadMetaDataForKey"})}))},postResultsForKey:function(e,t){var r=new M(this,e,t,(function(e){}),(function(e){}));M.pushRequest(r)},__class__:I};var B=function(e,t,r,i,n){var a=this;this.apiClient=e,this.appKey=t,this.successCallback=i,this.failureCallback=n;var s=this._getMetadataUrl();s+=t,E.v("Checking for new metadata from url: "+s,{fileName:"src/apptimize/api/ABTApiMetadataRequest.hx",lineNumber:27,className:"apptimize.api.ABTApiMetadataRequest",methodName:"new"}),me.get(s,this._headersForRequest(r),(function(e){a._apiSuccess(e)}),(function(e){a.failureCallback(e.text)}))};(n["apptimize.api.ABTApiMetadataRequest"]=B).__name__="apptimize.api.ABTApiMetadataRequest",B.prototype={apiClient:null,appKey:null,successCallback:null,failureCallback:null,_apiSuccess:function(e){if(304!=e.responseCode){var t=V.jsonFromMetadataDownload(e.bytes);if(null!=t)E.v("Request for metadata completed successfully.",{fileName:"src/apptimize/api/ABTApiMetadataRequest.hx",lineNumber:45,className:"apptimize.api.ABTApiMetadataRequest",methodName:"_apiSuccess"}),this.successCallback(t,e.etag);else{var r="Failed to download metadata with error: response was empty.";E.w(r,{fileName:"src/apptimize/api/ABTApiMetadataRequest.hx",lineNumber:49,className:"apptimize.api.ABTApiMetadataRequest",methodName:"_apiSuccess"}),this.failureCallback(r)}}else E.v("Got HTTP response 304, metadata not updated.",{fileName:"src/apptimize/api/ABTApiMetadataRequest.hx",lineNumber:38,className:"apptimize.api.ABTApiMetadataRequest",methodName:"_apiSuccess"})},_getMetadataUrl:function(){var e=He.sharedInstance().valueForProperty(He.META_DATA_URL_KEY);return null!=e?e:S.sharedInstance().hasMetadata(this.appKey)?He.sharedInstance().valueForProperty(He.META_DATA_URL_HL_KEY):He.sharedInstance().valueForProperty(He.META_DATA_URL_LL_KEY)},_headersForRequest:function(e){if(null!=e){var t=new C;return t.h.ETag=e,t.h["If-None-Match"]=e,t}return null},__class__:B};var F=function(e){null==e&&(e=0),this.lock=new ir,this._value=e};(n["hx.concurrent.atomic._AtomicInt.AtomicIntImpl"]=F).__name__="hx.concurrent.atomic._AtomicInt.AtomicIntImpl",F.prototype={lock:null,_value:null,get_value:function(){this.lock.acquire();var e=this._value;return this.lock.release(),e},set_value:function(e){return this.lock.acquire(),this._value=e,this.lock.release(),e},incrementAndGet:function(e){null==e&&(e=1),this.lock.acquire();var t=this._value+=e;return this.lock.release(),t},__class__:F,__properties__:{set_value:"set_value",get_value:"get_value"}};var O=function(){};(n["haxe.IMap"]=O).__name__="haxe.IMap",O.__isInterface__=!0;var C=function(){this.h=Object.create(null)};(n["haxe.ds.StringMap"]=C).__name__="haxe.ds.StringMap",C.__interfaces__=[O],C.createCopy=function(e){var t=new C;for(var r in e)t.h[r]=e[r];return t},C.stringify=function(e){var t="{",r=!0;for(var i in e)r?r=!1:t+=",",t+=i+" => "+f.string(e[i]);return t+"}"},C.prototype={h:null,__class__:C};var P=function(e){var t=new L;return null!=e&&t.addAll(e),t},R=function(){};(n["hx.concurrent.collection.Collection"]=R).__name__="hx.concurrent.collection.Collection",R.__isInterface__=!0,R.prototype={iterator:null,__class__:R};var D=function(){};(n["hx.concurrent.collection.OrderedCollection"]=D).__name__="hx.concurrent.collection.OrderedCollection",D.__isInterface__=!0,D.__interfaces__=[R];var L=function(){this._sync=new ir,this._items=new kt};(n["hx.concurrent.collection._SynchronizedLinkedList.SynchronizedLinkedListImpl"]=L).__name__="hx.concurrent.collection._SynchronizedLinkedList.SynchronizedLinkedListImpl",L.__interfaces__=[D],L.prototype={_items:null,_sync:null,get_length:function(){var e=this;return this._sync.execute((function(){for(var t=0,r=e._items.h;null!=r;)r.item,r=r.next,++t;return t}))},add:function(e){var t=this;this._sync.execute((function(){t._items.add(e)}))},addAll:function(e){var t=this;this._sync.execute((function(){var r=e;switch(r._hx_index){case 0:for(var i=r.v.iterator();i.hasNext();){var n=i.next();t._items.add(n)}break;case 1:for(var a=r.v,s=0;s<a.length;)i=a[s],++s,t._items.add(i);break;case 2:for(var l=r.v.h;null!=l;){var o=l.item;l=l.next,i=o,t._items.add(i)}}}))},clear:function(){var e=this;this._sync.execute((function(){return e._items=new kt}))},remove:function(e){var t=this;return this._sync.execute((function(){return-1!=t.indexOf(e)&&t._items.remove(e)}))},indexOf:function(e,t){null==t&&(t=0);var r=this;return this._sync.execute((function(){for(var i=0,n=r._items.h;null!=n;){var a=n.item;if(n=n.next,t<=i&&a==e)return i;++i}return-1}))},iterator:function(){var e=this;return this._sync.execute((function(){return new Bt(e._items.h)}))},toArray:function(){var e=this;return this._sync.execute((function(){for(var t=[],r=e._items.h;null!=r;){var i=r.item;r=r.next;var n=i;t.push(n)}return t}))},__class__:L,__properties__:{get_length:"get_length"}};var U=function(e){this.delayedTasks=P(),this.executor=null,this.name=e};(n["apptimize.util.ABTDispatch"]=U).__name__="apptimize.util.ABTDispatch",U.dispatchImmediately=function(e){e()},U.prototype={executor:null,delayedTasks:null,name:null,dispatch:function(e,t){if(null==t&&(t=0),null!=this.executor)try{var r=Qt.a(e);this.executor.submit(r,jt.ONCE(t))}catch(e){gt.lastError=e;var i=ct.caught(e).unwrap();E.e("Dispatcher '"+this.name+"' threw an exception submitting a task: "+f.string(i),{fileName:"src/apptimize/util/ABTDispatch.hx",lineNumber:56,className:"apptimize.util.ABTDispatch",methodName:"dispatch"})}else this.delayedTasks.add(new Xe(e,t))},start:function(e){if(null==e&&(e=1),null==this.executor){e<1&&(E.w("Invalid thread count of "+e+". Starting dispatcher '"+this.name+"' with minimum thread pool size of 1.",{fileName:"src/apptimize/util/ABTDispatch.hx",lineNumber:76,className:"apptimize.util.ABTDispatch",methodName:"start"}),e=1),this.executor=Ht.create(e);for(var t=new kt,r=this.delayedTasks.iterator();r.hasNext();){var i=r.next();try{var n=ar.__cast(Math.max(0,i.startTimestampMs-(new Date).getTime()),_r),a=Qt.a(i.task);this.executor.submit(a,jt.ONCE(n))}catch(e){gt.lastError=e;var s=ct.caught(e).unwrap();t.add(s)}}if(this.delayedTasks.clear(),!t.isEmpty()){E.e("One or more errors occurred starting dispatcher '"+this.name+"':",{fileName:"src/apptimize/util/ABTDispatch.hx",lineNumber:97,className:"apptimize.util.ABTDispatch",methodName:"start"});for(var l=t.h;null!=l;){var o=l.item;l=l.next;var u=o;E.e("Dispatcher '"+this.name+"' threw an exception submitting a task: "+u,{fileName:"src/apptimize/util/ABTDispatch.hx",lineNumber:99,className:"apptimize.util.ABTDispatch",methodName:"start"})}}}},__class__:U};var M=function(e,t,r,i,n){this._failureCount=0,this._apiClient=e,this._appKey=t,this._success=i,this._failure=n,this._uniqueID=r.getUniqueUserKey(),this._url=this._getUrl(t);var a=wt.ofString(r.toJSON());this._requestBytes=a};(n["apptimize.api.ABTApiResultsPost"]=M).__name__="apptimize.api.ABTApiResultsPost",M._getPendingResultsCount=function(){var e=0;M.PENDING_LOCK.acquire();try{e=M._pendingResults.get_length()}catch(e){gt.lastError=e;var t=ct.caught(e).unwrap();throw M.PENDING_LOCK.release(),ct.thrown(t)}return M.PENDING_LOCK.release(),e},M.onSuccess=function(e,t){M.clearFailureDelay(),M.PENDING_LOCK.acquire();try{M._pendingResults.remove(e),0<M.decrementPendingCount(e._uniqueID)&&M.postNextRequestForID(e._uniqueID)}catch(e){gt.lastError=e;var r=ct.caught(e).unwrap();throw M.PENDING_LOCK.release(),ct.thrown(r)}M.PENDING_LOCK.release(),null!=e&&null!=e._success&&e._success(t),M.savePendingLogs()},M.postNextRequestForID=function(e){M.PENDING_LOCK.acquire();try{for(var t=M._pendingResults.iterator();t.hasNext();){var r=[t.next()];if(r[0]._uniqueID==e){var i=function(e){return function(){e[0]._post()}}(r);null!=M._postDispatch?M._postDispatch.dispatch(i,0):U.dispatchImmediately(i);break}}}catch(e){gt.lastError=e;var n=ct.caught(e).unwrap();throw M.PENDING_LOCK.release(),ct.thrown(n)}M.PENDING_LOCK.release()},M.decrementPendingCount=function(e){var t=0;M.PENDING_LOCK.acquire();try{if(t=M._pendingMap.h[e],0==--t){var r=M._pendingMap;Object.prototype.hasOwnProperty.call(r.h,e)&&delete r.h[e]}else M._pendingMap.h[e]=t}catch(e){gt.lastError=e;var i=ct.caught(e).unwrap();throw M.PENDING_LOCK.release(),ct.thrown(i)}return M.PENDING_LOCK.release(),t},M.incrementFailureDelay=function(){var e=2*M._failureDelayMs.get_value();return e>M.MAX_FAILURE_DELAY_MS&&(e=M.MAX_FAILURE_DELAY_MS),M._failureDelayMs.set_value(e),M._failureDelayMs.get_value()},M.clearFailureDelay=function(){M._failureDelayMs.set_value(M.DEFAULT_FAILURE_DELAY_MS)},M.onFailure=function(e,t){if(e._failureCount>He.sharedInstance().valueForProperty(He.MAXIMUM_RESULT_POST_FAILURE_KEY)){E.e("Dropping result post after repeated failure.",{fileName:"src/apptimize/api/ABTApiResultsPost.hx",lineNumber:267,className:"apptimize.api.ABTApiResultsPost",methodName:"onFailure"}),M.PENDING_LOCK.acquire();try{M._pendingResults.remove(e),0<M.decrementPendingCount(e._uniqueID)&&M.postNextRequestForID(e._uniqueID)}catch(e){gt.lastError=e;var r=ct.caught(e).unwrap();throw M.PENDING_LOCK.release(),ct.thrown(r)}M.PENDING_LOCK.release()}else{var i=function(){e._post()};null!=M._postDispatch?M._postDispatch.dispatch(i,M.incrementFailureDelay()):U.dispatchImmediately(i)}null!=e._failure&&e._failure(t),M.savePendingLogs()},M.pushRequest=function(e,t){null==t&&(t=!0),M.PENDING_LOCK.acquire();try{if(M._pendingResults.add(e),Object.prototype.hasOwnProperty.call(M._pendingMap.h,e._uniqueID))M._pendingMap.h[e._uniqueID]+=1;else{M._pendingMap.h[e._uniqueID]=1;var r=function(){e._post()};null!=M._postDispatch?M._postDispatch.dispatch(r,0):U.dispatchImmediately(r)}t&&M.savePendingLogs()}catch(e){gt.lastError=e;var i=ct.caught(e).unwrap();throw M.PENDING_LOCK.release(),ct.thrown(i)}M.PENDING_LOCK.release()},M.savePendingLogs=function(){M.PENDING_LOCK.acquire();try{Ge.saveObject(Ge.kResultPostsListKey,M._pendingResults.toArray())}catch(t){gt.lastError=t;var e=ct.caught(t).unwrap();throw M.PENDING_LOCK.release(),ct.thrown(e)}M.PENDING_LOCK.release()},M.loadPendingLogs=function(){M.PENDING_LOCK.acquire();try{if(0==M._loadedPending){var e=Ge.loadObject(Ge.kResultPostsListKey);try{for(var t=null==e?[]:e,r=0;r<t.length;){var i=t[r];++r,M.pushRequest(i,!1)}}catch(r){gt.lastError=r;var n=ct.caught(r).unwrap();E.e("Unable to load pending results posts: "+f.string(n),{fileName:"src/apptimize/api/ABTApiResultsPost.hx",lineNumber:335,className:"apptimize.api.ABTApiResultsPost",methodName:"loadPendingLogs"})}}M._loadedPending=!0}catch(r){throw gt.lastError=r,n=ct.caught(r).unwrap(),M.PENDING_LOCK.release(),ct.thrown(n)}M.PENDING_LOCK.release()},M.startDispatching=function(e){M._postDispatch.start(e)},M.prototype={_apiClient:null,_appKey:null,_uniqueID:null,_requestBytes:null,_success:null,_failure:null,_failureCount:null,_url:null,_getUrl:function(e){var t=S.sharedInstance().getMetaData(e);if(null==t)return null;var r=t.getCheckinUrls();return null==r||r.length<1?null:r[Math.floor((r.length-1+1)*Math.random())]+"v4/"},_post:function(){var e=this;if(z._isInitialized()){if(null==this._url&&(this._url=this._getUrl(this._appKey),null==this._url))return E.e("Unable to post results until metadata is available.",{fileName:"src/apptimize/api/ABTApiResultsPost.hx",lineNumber:155,className:"apptimize.api.ABTApiResultsPost",methodName:"_post"}),void M.onFailure(this,null);E.v("Posting results to: "+this._url,{fileName:"src/apptimize/api/ABTApiResultsPost.hx",lineNumber:161,className:"apptimize.api.ABTApiResultsPost",methodName:"_post"}),me.post(this._url,this._requestBytes,this._appKey,(function(t){E.d("Successfully posted results.",{fileName:"src/apptimize/api/ABTApiResultsPost.hx",lineNumber:171,className:"apptimize.api.ABTApiResultsPost",methodName:"_post"}),E.d("Results JSON:\n"+f.string(e._requestBytes),{fileName:"src/apptimize/api/ABTApiResultsPost.hx",lineNumber:173,className:"apptimize.api.ABTApiResultsPost",methodName:"_post"}),M.onSuccess(e,t)}),(function(t){e.incrementFailureCountForCode(t.responseCode),E.e("Failed to post results, queuing for retry later: "+t.responseCode+" "+t.text,{fileName:"src/apptimize/api/ABTApiResultsPost.hx",lineNumber:180,className:"apptimize.api.ABTApiResultsPost",methodName:"_post"}),E.e("Results JSON:\n"+f.string(e._requestBytes),{fileName:"src/apptimize/api/ABTApiResultsPost.hx",lineNumber:182,className:"apptimize.api.ABTApiResultsPost",methodName:"_post"}),M.onFailure(e,t)}))}},incrementFailureCountForCode:function(e){400<=e&&this._failureCount++},hxSerialize:function(e){e.serialize(this._appKey),e.serialize(this._requestBytes),e.serialize(this._failureCount),e.serialize(this._url),e.serialize(this._uniqueID)},hxUnserialize:function(e){this._appKey=e.unserialize(),this._requestBytes=e.unserialize(),this._failureCount=e.unserialize(),this._url=e.unserialize(),this._uniqueID=e.unserialize()},__class__:M};var K=function(){};(n["apptimize.api.ABTMetadataPoller"]=K).__name__="apptimize.api.ABTMetadataPoller",K.stopPolling=function(){K._stopMetadataTimer(),K._isPolling=!1},K.startPolling=function(e){null==e&&(e=!0),K._isThreadingEnabled=He.sharedInstance().valueForProperty(He.THREADING_ENABLED_KEY),K._interval=He.sharedInstance().valueForProperty(He.METADATA_POLLING_INTERVAL_MS_KEY),K._backgroundInterval=He.sharedInstance().valueForProperty(He.METADATA_POLLING_BACKGROUND_INTERVAL_MS_KEY),K._stopMetadataTimer();var t=e?K._interval:K._backgroundInterval;0<t&&(E.v("Metadata update interval set to "+t+" milliseconds.",{fileName:"src/apptimize/api/ABTMetadataPoller.hx",lineNumber:52,className:"apptimize.api.ABTMetadataPoller",methodName:"startPolling"}),K._startMetadataTimer(t),K._isPolling=!0)},K._stopMetadataTimer=function(){null!=K._metadataTimer&&(K._metadataTimer.stop(),K._metadataTimer=null)},K._startMetadataTimer=function(e){null!=K._metadataTimer&&K._stopMetadataTimer(),(K._metadataTimer=new At(e)).run=o.updateApptimizeMetadataOnce};var V=function(){};(n["apptimize.api.ABTMetadataProcessor"]=V).__name__="apptimize.api.ABTMetadataProcessor",V.jsonFromMetadataDownload=function(e){var t=ot.decompress(e);return t.getString(0,t.length)};var q=function(){this._fetching=!1};(n["apptimize.api.ABTSecondaryValuesClient"]=q).__name__="apptimize.api.ABTSecondaryValuesClient",q.prototype={_fetching:null,fetching:function(){return this._fetching},fetch:function(e,t,r){var i=this;this._fetching=!0;var n=new G(e,t),a=!n.missingUrls.isEmpty();this.fetchNext(n,(function(e){i._fetching=!1,r(e,a)}))},fetchNext:function(e,t){var r=this;if(e.missingUrls.isEmpty())t(e.allValues);else{var i=e.missingUrls.pop();me.get(i,null,(function(n){var a=wt.ofData(n.bytes),s=e.allValues,l=new Ot(a.getString(0,a.length)).doParse();s.h[i]=l,r.fetchNext(e,t)}),(function(n){E.e("GET "+i+" failed: "+n.responseCode,{fileName:"src/apptimize/api/ABTSecondaryValuesClient.hx",lineNumber:47,className:"apptimize.api.ABTSecondaryValuesClient",methodName:"fetchNext"}),r.fetchNext(e,t)}))}},needNewUrls:function(e,t){for(var r=[],i=0,n=t;i<n.length;){var a=n[i];++i,e.indexOf(a)<0&&r.push(a)}return 0<r.length},__class__:q};var G=function(e,t){for(var r=new kt,i=new C,n=0;n<e.length;){var a=e[n];if(++n,null!=t&&Object.prototype.hasOwnProperty.call(t.h,a)){var s=t.h[a];i.h[a]=s}else r.add(a)}this.missingUrls=r,this.allValues=i};(n["apptimize.api.ABTSecValFetchState"]=G).__name__="apptimize.api.ABTSecValFetchState",G.prototype={missingUrls:null,allValues:null,__class__:G};var Y=function(){};(n["apptimize.api.ABTUserGuid"]=Y).__name__="apptimize.api.ABTUserGuid",Y.generateUserGuid=function(){return Y._userGuid=Y.S4()+Y.S4()+"-"+Y.S4()+"-"+Y.S4()+"-"+Y.S4()+"-"+Y.S4()+Y.S4()+Y.S4(),Y._userGuid},Y.S4=function(e){null==e&&(e=Math.random);var t=65536*e()|0;return v.hex(t,4)},Y.isValidGuid=function(e){return new p("(^([0-9A-Fa-f]{8}[-][0-9A-Fa-f]{4}[-][0-9A-Fa-f]{4}[-][0-9A-Fa-f]{4}[-][0-9A-Fa-f]{12})$)","").match(e)};var j=s["apptimize.events.ApptimizeUnenrollmentReason"]={__ename__:"apptimize.events.ApptimizeUnenrollmentReason",__constructs__:null,ExperimentStopped:{_hx_name:"ExperimentStopped",_hx_index:0,__enum__:"apptimize.events.ApptimizeUnenrollmentReason",toString:a},ExperimentWinnerSelected:{_hx_name:"ExperimentWinnerSelected",_hx_index:1,__enum__:"apptimize.events.ApptimizeUnenrollmentReason",toString:a},VariantChanged:{_hx_name:"VariantChanged",_hx_index:2,__enum__:"apptimize.events.ApptimizeUnenrollmentReason",toString:a},UserIdChanged:{_hx_name:"UserIdChanged",_hx_index:3,__enum__:"apptimize.events.ApptimizeUnenrollmentReason",toString:a},Other:{_hx_name:"Other",_hx_index:4,__enum__:"apptimize.events.ApptimizeUnenrollmentReason",toString:a},Unknown:{_hx_name:"Unknown",_hx_index:5,__enum__:"apptimize.events.ApptimizeUnenrollmentReason",toString:a}};j.__constructs__=[j.ExperimentStopped,j.ExperimentWinnerSelected,j.VariantChanged,j.UserIdChanged,j.Other,j.Unknown];var H=function(){};(n["apptimize.events.ABTEventManager"]=H).__name__="apptimize.events.ABTEventManager",H.setOnMetadataUpdatedCallback=function(e){H._onMetadataUpdatedCallback=e},H.dispatchOnMetadataUpdated=function(){null!=H._onMetadataUpdatedCallback&&H._onMetadataUpdatedCallback()},H.setOnParticipationCallback=function(e){H._onParticipationCallback=e},H.dispatchOnParticipation=function(e,t){null!=H._onParticipationCallback&&H._onParticipationCallback(e,t)},H.setOnParticipatedInExperimentCallback=function(e){H._onParticipatedInExperimentCallback=e},H.dispatchOnParticipatedInExperiment=function(e,t){null!=H._onParticipatedInExperimentCallback&&H._onParticipatedInExperimentCallback(e,t),H.dispatchOnParticipation(e.getExperimentName(),e.getVariantName())},H.setOnEnrolledInExperimentCallback=function(e){H._onEnrolledInExperimentCallback=e},H.dispatchOnEnrolledInExperiment=function(e){null!=H._onEnrolledInExperimentCallback&&H._onEnrolledInExperimentCallback(e)},H.setOnUnenrolledInExperimentCallback=function(e){H._onUnenrolledInExperimentCallback=e},H.dispatchOnUnenrolledInExperiment=function(e,t){null!=H._onUnenrolledInExperimentCallback&&H._onUnenrolledInExperimentCallback(e,t)},H.setOnApptimizeInitializedCallback=function(e){H._onApptimizeInitializedCallback=e},H.dispatchOnApptimizeInitialized=function(){null!=H._onApptimizeInitializedCallback&&H._onApptimizeInitializedCallback()},H.isEnrollmentListenerRegistered=function(){return null!=H._onEnrolledInExperimentCallback},H.isUnenrollmentListenerRegistered=function(){return null!=H._onUnenrolledInExperimentCallback};var J=s["apptimize.filter.ABTFilterResult"]={__ename__:"apptimize.filter.ABTFilterResult",__constructs__:null,ABTFilterResultUnknown:{_hx_name:"ABTFilterResultUnknown",_hx_index:0,__enum__:"apptimize.filter.ABTFilterResult",toString:a},ABTFilterResultFalse:{_hx_name:"ABTFilterResultFalse",_hx_index:1,__enum__:"apptimize.filter.ABTFilterResult",toString:a},ABTFilterResultTrue:{_hx_name:"ABTFilterResultTrue",_hx_index:2,__enum__:"apptimize.filter.ABTFilterResult",toString:a}};J.__constructs__=[J.ABTFilterResultUnknown,J.ABTFilterResultFalse,J.ABTFilterResultTrue];var Z=s["apptimize.filter.ABTFilterPropertySource"]={__ename__:"apptimize.filter.ABTFilterPropertySource",__constructs__:null,ABTFilterPropertySourceDevice:{_hx_name:"ABTFilterPropertySourceDevice",_hx_index:0,__enum__:"apptimize.filter.ABTFilterPropertySource",toString:a},ABTFilterPropertySourceUser:{_hx_name:"ABTFilterPropertySourceUser",_hx_index:1,__enum__:"apptimize.filter.ABTFilterPropertySource",toString:a},ABTFilterPropertySourcePrefixed:{_hx_name:"ABTFilterPropertySourcePrefixed",_hx_index:2,__enum__:"apptimize.filter.ABTFilterPropertySource",toString:a}};Z.__constructs__=[Z.ABTFilterPropertySourceDevice,Z.ABTFilterPropertySourceUser,Z.ABTFilterPropertySourcePrefixed];var W=s["apptimize.filter.ABTFilterType"]={__ename__:"apptimize.filter.ABTFilterType",__constructs__:null,ABTFilterTypeUnknown:{_hx_name:"ABTFilterTypeUnknown",_hx_index:0,__enum__:"apptimize.filter.ABTFilterType",toString:a},ABTFilterTypeSimple:{_hx_name:"ABTFilterTypeSimple",_hx_index:1,__enum__:"apptimize.filter.ABTFilterType",toString:a},ABTFilterTypeList:{_hx_name:"ABTFilterTypeList",_hx_index:2,__enum__:"apptimize.filter.ABTFilterType",toString:a},ABTFilterTypeSet:{_hx_name:"ABTFilterTypeSet",_hx_index:3,__enum__:"apptimize.filter.ABTFilterType",toString:a},ABTFilterTypeCompound:{_hx_name:"ABTFilterTypeCompound",_hx_index:4,__enum__:"apptimize.filter.ABTFilterType",toString:a},ABTFilterTypePropertyless:{_hx_name:"ABTFilterTypePropertyless",_hx_index:5,__enum__:"apptimize.filter.ABTFilterType",toString:a},ABTFilterTypeNamed:{_hx_name:"ABTFilterTypeNamed",_hx_index:6,__enum__:"apptimize.filter.ABTFilterType",toString:a}};W.__constructs__=[W.ABTFilterTypeUnknown,W.ABTFilterTypeSimple,W.ABTFilterTypeList,W.ABTFilterTypeSet,W.ABTFilterTypeCompound,W.ABTFilterTypePropertyless,W.ABTFilterTypeNamed];var X=s["apptimize.filter.ABTFilterOperator"]={__ename__:"apptimize.filter.ABTFilterOperator",__constructs__:null,ABTFilterOperatorUnknown:{_hx_name:"ABTFilterOperatorUnknown",_hx_index:0,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorEquals:{_hx_name:"ABTFilterOperatorEquals",_hx_index:1,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorNotEquals:{_hx_name:"ABTFilterOperatorNotEquals",_hx_index:2,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorRegex:{_hx_name:"ABTFilterOperatorRegex",_hx_index:3,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorNotRegex:{_hx_name:"ABTFilterOperatorNotRegex",_hx_index:4,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorGreaterThan:{_hx_name:"ABTFilterOperatorGreaterThan",_hx_index:5,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorGreaterThanOrEqual:{_hx_name:"ABTFilterOperatorGreaterThanOrEqual",_hx_index:6,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorLessThan:{_hx_name:"ABTFilterOperatorLessThan",_hx_index:7,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorLessThanOrEqual:{_hx_name:"ABTFilterOperatorLessThanOrEqual",_hx_index:8,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorInList:{_hx_name:"ABTFilterOperatorInList",_hx_index:9,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorNotInList:{_hx_name:"ABTFilterOperatorNotInList",_hx_index:10,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorIntersection:{_hx_name:"ABTFilterOperatorIntersection",_hx_index:11,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorCompoundOr:{_hx_name:"ABTFilterOperatorCompoundOr",_hx_index:12,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorCompoundAnd:{_hx_name:"ABTFilterOperatorCompoundAnd",_hx_index:13,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorCompoundSingleNot:{_hx_name:"ABTFilterOperatorCompoundSingleNot",_hx_index:14,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorCompoundSingleIsNull:{_hx_name:"ABTFilterOperatorCompoundSingleIsNull",_hx_index:15,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorCompoundSingleIsNotNull:{_hx_name:"ABTFilterOperatorCompoundSingleIsNotNull",_hx_index:16,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorPropertyIsNull:{_hx_name:"ABTFilterOperatorPropertyIsNull",_hx_index:17,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorPropertyIsNotNull:{_hx_name:"ABTFilterOperatorPropertyIsNotNull",_hx_index:18,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorPropertyIsRecognized:{_hx_name:"ABTFilterOperatorPropertyIsRecognized",_hx_index:19,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorPropertyIsNotRecognized:{_hx_name:"ABTFilterOperatorPropertyIsNotRecognized",_hx_index:20,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorOperatorIsRecognized:{_hx_name:"ABTFilterOperatorOperatorIsRecognized",_hx_index:21,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorOperatorIsNotRecognized:{_hx_name:"ABTFilterOperatorOperatorIsNotRecognized",_hx_index:22,__enum__:"apptimize.filter.ABTFilterOperator",toString:a},ABTFilterOperatorValueOf:{_hx_name:"ABTFilterOperatorValueOf",_hx_index:23,__enum__:"apptimize.filter.ABTFilterOperator",toString:a}};X.__constructs__=[X.ABTFilterOperatorUnknown,X.ABTFilterOperatorEquals,X.ABTFilterOperatorNotEquals,X.ABTFilterOperatorRegex,X.ABTFilterOperatorNotRegex,X.ABTFilterOperatorGreaterThan,X.ABTFilterOperatorGreaterThanOrEqual,X.ABTFilterOperatorLessThan,X.ABTFilterOperatorLessThanOrEqual,X.ABTFilterOperatorInList,X.ABTFilterOperatorNotInList,X.ABTFilterOperatorIntersection,X.ABTFilterOperatorCompoundOr,X.ABTFilterOperatorCompoundAnd,X.ABTFilterOperatorCompoundSingleNot,X.ABTFilterOperatorCompoundSingleIsNull,X.ABTFilterOperatorCompoundSingleIsNotNull,X.ABTFilterOperatorPropertyIsNull,X.ABTFilterOperatorPropertyIsNotNull,X.ABTFilterOperatorPropertyIsRecognized,X.ABTFilterOperatorPropertyIsNotRecognized,X.ABTFilterOperatorOperatorIsRecognized,X.ABTFilterOperatorOperatorIsNotRecognized,X.ABTFilterOperatorValueOf];var $=function(){};(n["apptimize.filter.ABTFilter"]=$).__name__="apptimize.filter.ABTFilter",$.filterFromJSON=function(e){var t=$.filterForTypeFromJSON(e),r=$.classForType(t);if(null==r)return E.e("Unable to find filter type: "+f.string(t),{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:110,className:"apptimize.filter.ABTFilter",methodName:"filterFromJSON"}),null;var i=y.createInstance(r,[]);return i.fromJSON(e),i},$.classForType=function(e){return e==W.ABTFilterTypeSimple?Q:e==W.ABTFilterTypeCompound?ee:e==W.ABTFilterTypeList?te:e==W.ABTFilterTypeSet?re:e==W.ABTFilterTypeNamed?ae:ie},$.filterForTypeFromJSON=function(e){var t=$.operatorFromString(d.field(e,$.kABTFilterKeyOperator));return $.typeFromOperator(t)},$.operatorFromString=function(e){return"="==e?X.ABTFilterOperatorEquals:"!="==e?X.ABTFilterOperatorNotEquals:"regex"==e?X.ABTFilterOperatorRegex:"not_regex"==e?X.ABTFilterOperatorNotRegex:">"==e?X.ABTFilterOperatorGreaterThan:">="==e?X.ABTFilterOperatorGreaterThanOrEqual:"<"==e?X.ABTFilterOperatorLessThan:"<="==e?X.ABTFilterOperatorLessThanOrEqual:"in"==e?X.ABTFilterOperatorInList:"not_in"==e?X.ABTFilterOperatorNotInList:"intersection"==e?X.ABTFilterOperatorIntersection:"or"==e?X.ABTFilterOperatorCompoundOr:"and"==e?X.ABTFilterOperatorCompoundAnd:"not"==e?X.ABTFilterOperatorCompoundSingleNot:"is_null"==e?X.ABTFilterOperatorCompoundSingleIsNull:"is_not_null"==e?X.ABTFilterOperatorCompoundSingleIsNotNull:"is_property_null"==e?X.ABTFilterOperatorPropertyIsNull:"is_property_not_null"==e?X.ABTFilterOperatorPropertyIsNotNull:"is_recognized_property"==e?X.ABTFilterOperatorPropertyIsRecognized:"is_not_recognized_property"==e?X.ABTFilterOperatorPropertyIsNotRecognized:"is_recognized_operator"==e?X.ABTFilterOperatorOperatorIsRecognized:"is_not_recognized_operator"==e?X.ABTFilterOperatorOperatorIsNotRecognized:"value_of"==e?X.ABTFilterOperatorValueOf:X.ABTFilterOperatorUnknown},$.typeFromOperator=function(e){switch(e._hx_index){case 0:break;case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:return W.ABTFilterTypeSimple;case 9:case 10:return W.ABTFilterTypeList;case 11:return W.ABTFilterTypeSet;case 12:case 13:case 14:case 15:case 16:return W.ABTFilterTypeCompound;case 17:case 18:case 19:case 20:case 21:case 22:return W.ABTFilterTypePropertyless;case 23:return W.ABTFilterTypeNamed}return E.e("Unknown filter type. Filter match is unknown.",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:298,className:"apptimize.filter.ABTFilter",methodName:"typeFromOperator"}),W.ABTFilterTypeUnknown},$.prototype={property:null,propertySource:null,value:null,filterType:null,filterOperator:null,callServerURLKey:null,fromJSON:function(e){var t=d.field(e,$.kABTFilterKeyProperty);null!=t?(this.property=t,this.propertySource=Z.ABTFilterPropertySourceDevice):null!=(t=d.field(e,$.kABTFilterKeyUserAttribute))?(this.property=t,this.propertySource=Z.ABTFilterPropertySourceUser):null!=(t=d.field(e,$.kABTFilterKeyPrefixedAttribute))&&(this.property=t,this.propertySource=Z.ABTFilterPropertySourcePrefixed),this.filterOperator=$.operatorFromString(d.field(e,$.kABTFilterKeyOperator)),this.filterType=$.filterForTypeFromJSON(e),this.filterType==W.ABTFilterTypeUnknown&&(E.w("Unknown filter type: setting value without type checking.",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:149,className:"apptimize.filter.ABTFilter",methodName:"fromJSON"}),this.value=d.field(e,$.kABTFilterKeyValue)),this.callServerURLKey=d.field(e,$.kABTFilterKeyCallURLKey)},isSupportedOperator:function(e){return $.operatorFromString(e)!=X.ABTFilterOperatorUnknown},isSupportedProperty:function(e,t,r){var i=null!=e.valueForProperty(t,r);return i||E.d('Property "'+t+'" not found which is expected by a filter.',{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:166,className:"apptimize.filter.ABTFilter",methodName:"isSupportedProperty"}),i},currentDeviceValue:function(e){return e.valueForProperty(this.property,this.propertySource)},hasSupportedProperty:function(e){return this.isSupportedProperty(e,this.property,this.propertySource)},filterMatchesEnvironment:function(e){return E.e("Unknown filter type. Filter match is unknown.",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:181,className:"apptimize.filter.ABTFilter",methodName:"filterMatchesEnvironment"}),J.ABTFilterResultUnknown},getUrlKeys:function(){return null==this.callServerURLKey?[]:[this.callServerURLKey]},__class__:$};var Q=function(){$.call(this)};(n["apptimize.filter.ABTSimpleFilter"]=Q).__name__="apptimize.filter.ABTSimpleFilter",Q.__super__=$,Q.prototype=l($.prototype,{fromJSON:function(e){$.prototype.fromJSON.call(this,e),this.value=d.field(e,$.kABTFilterKeyValue)},filterMatchesEnvironment:function(e){if(!this.hasSupportedProperty(e))return J.ABTFilterResultUnknown;var t=this.currentDeviceValue(e),r=this.value;return null==t||null==r?(E.w("Filter has null value type. Filter match is unknown.",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:329,className:"apptimize.filter.ABTSimpleFilter",methodName:"filterMatchesEnvironment"}),J.ABTFilterResultUnknown):ar.getClass(t)==String?y.typeof(r)==A.TFloat||y.typeof(r)==A.TInt?se.ABTEvaluateNumber(t,this.filterOperator,r):ar.getClass(r)!=String?(E.w("Filter value does not match property type of string. Filter match is unknown.",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:340,className:"apptimize.filter.ABTSimpleFilter",methodName:"filterMatchesEnvironment"}),J.ABTFilterResultUnknown):"apptimize_version"==this.property||"system_version"==this.property||"app_version"==this.property||"operating_system_version"==this.property?se.ABTEvaluateVersionString(t,this.filterOperator,r):se.ABTEvaluateString(t,this.filterOperator,r):y.typeof(t)==A.TFloat||y.typeof(t)==A.TInt?ar.getClass(r)==String?se.ABTEvaluateNumber(t,this.filterOperator,r):y.typeof(r)!=A.TFloat&&y.typeof(r)!=A.TInt?(E.w("Filter value does not match property type of number. Filter match is unknown.",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:358,className:"apptimize.filter.ABTSimpleFilter",methodName:"filterMatchesEnvironment"}),J.ABTFilterResultUnknown):se.ABTEvaluateNumber(t,this.filterOperator,r):y.typeof(t)==A.TBool?(ar.getClass(r)==String&&("true"==r.toLowerCase()?r=!0:"false"==r.toLowerCase()&&(r=!1)),se.ABTEvaluateBool(t,this.filterOperator,r)):(E.w("Simple filter match is unknown.",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:378,className:"apptimize.filter.ABTSimpleFilter",methodName:"filterMatchesEnvironment"}),J.ABTFilterResultUnknown)},__class__:Q});var ee=function(){$.call(this)};(n["apptimize.filter.ABTCompoundFilter"]=ee).__name__="apptimize.filter.ABTCompoundFilter",ee.__super__=$,ee.prototype=l($.prototype,{fromJSON:function(e){$.prototype.fromJSON.call(this,e);for(var t=[],r=e.value,i=0;i<r.length;){var n=r[i];++i;var a=$.filterFromJSON(n);t.push(a)}this.value=t},filterMatchesEnvironment:function(e){var t=this.value;if(t.length<1)return E.w('Compound filter "'+f.string(this)+'" has an empty compound set. Filter match is unknown.',{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:407,className:"apptimize.filter.ABTCompoundFilter",methodName:"filterMatchesEnvironment"}),J.ABTFilterResultUnknown;if(this.filterOperator==X.ABTFilterOperatorCompoundAnd){for(var r=J.ABTFilterResultTrue,i=0;i<t.length;){var n=t[i];++i;var a=n.filterMatchesEnvironment(e);r=se.ABTFilterAnd(r,a)}return r}if(this.filterOperator==X.ABTFilterOperatorCompoundOr){for(r=J.ABTFilterResultFalse,i=0;i<t.length;)n=t[i],++i,a=n.filterMatchesEnvironment(e),r=se.ABTFilterOr(r,a);return r}return this.filterOperator==X.ABTFilterOperatorCompoundSingleNot&&1==t.length?((r=t[0].filterMatchesEnvironment(e))==J.ABTFilterResultFalse?r=J.ABTFilterResultTrue:r==J.ABTFilterResultTrue&&(r=J.ABTFilterResultFalse),r):this.filterOperator==X.ABTFilterOperatorCompoundSingleIsNull&&1==t.length?r=t[0].filterMatchesEnvironment(e)==J.ABTFilterResultUnknown?J.ABTFilterResultTrue:J.ABTFilterResultFalse:this.filterOperator==X.ABTFilterOperatorCompoundSingleIsNotNull&&1==t.length?t[0].filterMatchesEnvironment(e)!=J.ABTFilterResultUnknown?J.ABTFilterResultTrue:J.ABTFilterResultFalse:(E.w('Filter "'+f.string(this)+'" has an unsupported compound operator or children count. Filter match is unknown.',{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:463,className:"apptimize.filter.ABTCompoundFilter",methodName:"filterMatchesEnvironment"}),J.ABTFilterResultUnknown)},getUrlKeys:function(){for(var e=[],t=0,r=this.value;t<r.length;){var i=r[t++];e.push(i.getUrlKeys())}for(var n=[],a=hr(e);a.hasNext();)for(i=hr(a.next());i.hasNext();){var s=i.next();n.push(s)}var l=m.array(n);return null==this.callServerURLKey?l:[this.callServerURLKey].concat(l)},__class__:ee});var te=function(){$.call(this)};(n["apptimize.filter.ABTListFilter"]=te).__name__="apptimize.filter.ABTListFilter",te.__super__=$,te.prototype=l($.prototype,{fromJSON:function(e){$.prototype.fromJSON.call(this,e),this.value=e.value},filterMatchesEnvironment:function(e){if(!this.hasSupportedProperty(e))return J.ABTFilterResultUnknown;var t=this.value,r=this.currentDeviceValue(e);if(null==r)return E.w('Filter "'+f.string(this)+'" is attempting to match against a null device property.',{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:502,className:"apptimize.filter.ABTListFilter",methodName:"filterMatchesEnvironment"}),-1<t.indexOf(r)?this.filterOperator==X.ABTFilterOperatorInList?J.ABTFilterResultTrue:J.ABTFilterResultFalse:this.filterOperator==X.ABTFilterOperatorInList?J.ABTFilterResultFalse:J.ABTFilterResultTrue;for(var i=!1,n=0;n<t.length;){var a=t[n];++n,i=ar.getClass(r)==String?i||se.ABTEvaluateString(r,X.ABTFilterOperatorEquals,a)==J.ABTFilterResultTrue:i||se.ABTEvaluateNumber(r,X.ABTFilterOperatorEquals,a)==J.ABTFilterResultTrue}return this.filterOperator==X.ABTFilterOperatorNotInList?i?J.ABTFilterResultFalse:J.ABTFilterResultTrue:i?J.ABTFilterResultTrue:J.ABTFilterResultFalse},__class__:te});var re=function(){$.call(this)};(n["apptimize.filter.ABTSetFilter"]=re).__name__="apptimize.filter.ABTSetFilter",re.__super__=$,re.prototype=l($.prototype,{fromJSON:function(e){$.prototype.fromJSON.call(this,e);for(var t=[],r=e.value,i=0;i<r.length;){var n=r[i];++i,t.push(n)}this.value=t},filterMatchesEnvironment:function(e){if(this.filterOperator!=X.ABTFilterOperatorIntersection)return E.v("Set filter with unsupported operator "+f.string(this.filterOperator),{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:554,className:"apptimize.filter.ABTSetFilter",methodName:"filterMatchesEnvironment"}),J.ABTFilterResultUnknown;var t=e.secondaryUrlForKey(this.callServerURLKey);if(null==t)return J.ABTFilterResultUnknown;var r=e.getSecondaryValuesForUrl(t);if(null==r)return J.ABTFilterResultUnknown;var i=this.value;if(null==i)return E.v("Set filter with a non-list value",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:573,className:"apptimize.filter.ABTSetFilter",methodName:"filterMatchesEnvironment"}),J.ABTFilterResultUnknown;for(var n=[],a=0,s=r;a<s.length;){var l=s[a];++a,0<=i.indexOf(l)&&n.push(l)}return 0==n.length?J.ABTFilterResultFalse:J.ABTFilterResultTrue},__class__:re});var ie=function(){$.call(this)};(n["apptimize.filter.ABTUnknownFilter"]=ie).__name__="apptimize.filter.ABTUnknownFilter",ie.__super__=$,ie.prototype=l($.prototype,{fromJSON:function(e){$.prototype.fromJSON.call(this,e)},filterMatchesEnvironment:function(e){return E.e("Unknown filter requested. Filter match is unknown.",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:599,className:"apptimize.filter.ABTUnknownFilter",methodName:"filterMatchesEnvironment"}),J.ABTFilterResultUnknown},__class__:ie});var ne=function(){$.call(this)};(n["apptimize.filter.ABTPropertylessFilter"]=ne).__name__="apptimize.filter.ABTPropertylessFilter",ne.__super__=$,ne.prototype=l($.prototype,{fromJSON:function(e){$.prototype.fromJSON.call(this,e),this.value=d.field(e,$.kABTFilterKeyValue)},filterMatchesEnvironment:function(e){var t=this.value;if(null==t||ar.getClass(t)!=String)return E.w("Property-less filter requires a string value. Filter match is unknown.",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:619,className:"apptimize.filter.ABTPropertylessFilter",methodName:"filterMatchesEnvironment"}),J.ABTFilterResultUnknown;var r=t;return this.filterOperator==X.ABTFilterOperatorPropertyIsNull?null==e.valueForProperty(r,Z.ABTFilterPropertySourceDevice)?J.ABTFilterResultTrue:J.ABTFilterResultFalse:this.filterOperator==X.ABTFilterOperatorPropertyIsNotNull?null!=e.valueForProperty(r,Z.ABTFilterPropertySourceDevice)?J.ABTFilterResultTrue:J.ABTFilterResultFalse:this.filterOperator==X.ABTFilterOperatorPropertyIsRecognized?1==this.isSupportedProperty(e,r,Z.ABTFilterPropertySourceDevice)?J.ABTFilterResultTrue:J.ABTFilterResultFalse:this.filterOperator==X.ABTFilterOperatorPropertyIsNotRecognized?0==this.isSupportedProperty(e,r,Z.ABTFilterPropertySourceDevice)?J.ABTFilterResultTrue:J.ABTFilterResultFalse:this.filterOperator==X.ABTFilterOperatorOperatorIsRecognized?1==this.isSupportedOperator(r)?J.ABTFilterResultTrue:J.ABTFilterResultFalse:this.filterOperator==X.ABTFilterOperatorOperatorIsNotRecognized?0==this.isSupportedOperator(r)?J.ABTFilterResultTrue:J.ABTFilterResultFalse:(E.w("Property-less filter attempted with an invalid operator. Filter match is unknown.",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:651,className:"apptimize.filter.ABTPropertylessFilter",methodName:"filterMatchesEnvironment"}),J.ABTFilterResultUnknown)},__class__:ne});var ae=function(){$.call(this)};(n["apptimize.filter.ABTNamedFilterProxy"]=ae).__name__="apptimize.filter.ABTNamedFilterProxy",ae.__super__=$,ae.prototype=l($.prototype,{namedFilter:null,fromJSON:function(e){$.prototype.fromJSON.call(this,e),this.namedFilter=d.field(e,$.kABTFilterKeyNamedFilter)},filterMatchesEnvironment:function(e){return e.namedFilterResult(this.namedFilter)},__class__:ae});var se=function(){};(n["apptimize.filter.ABTFilterUtils"]=se).__name__="apptimize.filter.ABTFilterUtils",se.ABTFilterAnd=function(e,t){return e==J.ABTFilterResultTrue&&t==J.ABTFilterResultUnknown?J.ABTFilterResultUnknown:e==J.ABTFilterResultTrue&&t==J.ABTFilterResultFalse||e==J.ABTFilterResultUnknown&&t==J.ABTFilterResultFalse?J.ABTFilterResultFalse:e},se.ABTFilterOr=function(e,t){return e==J.ABTFilterResultUnknown&&t==J.ABTFilterResultFalse?J.ABTFilterResultUnknown:e==J.ABTFilterResultTrue&&t==J.ABTFilterResultFalse||e==J.ABTFilterResultTrue&&t==J.ABTFilterResultUnknown?J.ABTFilterResultTrue:t},se.ABTEvaluateString=function(e,t,r){var i="",n="";return null==e||null==r?(E.w("String comparison attempted with null string. Filter match is unknown.",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:703,className:"apptimize.filter.ABTFilterUtils",methodName:"ABTEvaluateString"}),J.ABTFilterResultUnknown):(ar.getClass(e)==String&&(i=e),ar.getClass(r)==String&&(n=r),i=i.toLowerCase(),n=n.toLowerCase(),t==X.ABTFilterOperatorEquals?i==n?J.ABTFilterResultTrue:J.ABTFilterResultFalse:t==X.ABTFilterOperatorNotEquals?i!=n?J.ABTFilterResultTrue:J.ABTFilterResultFalse:(E.w("String comparison attempted with an invalid operator. Filter match is unknown.",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:723,className:"apptimize.filter.ABTFilterUtils",methodName:"ABTEvaluateString"}),J.ABTFilterResultUnknown))},se.ABTEvaluateBool=function(e,t,r){return t==X.ABTFilterOperatorEquals?e==r?J.ABTFilterResultTrue:J.ABTFilterResultFalse:t==X.ABTFilterOperatorNotEquals?e!=r?J.ABTFilterResultTrue:J.ABTFilterResultFalse:(E.w("Bool comparison attempted with an invalid operator. Filter match is unknown.",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:732,className:"apptimize.filter.ABTFilterUtils",methodName:"ABTEvaluateBool"}),J.ABTFilterResultUnknown)},se.ABTEvaluateNumber=function(e,t,r){var i,n;return null==e||null==r?J.ABTFilterResultUnknown:(i=ar.getClass(e)==String?parseFloat(e):e,n=ar.getClass(r)==String?parseFloat(r):r,t==X.ABTFilterOperatorEquals?i==n?J.ABTFilterResultTrue:J.ABTFilterResultFalse:t==X.ABTFilterOperatorNotEquals?i!=n?J.ABTFilterResultTrue:J.ABTFilterResultFalse:t==X.ABTFilterOperatorGreaterThan?n<i?J.ABTFilterResultTrue:J.ABTFilterResultFalse:t==X.ABTFilterOperatorGreaterThanOrEqual?n<=i?J.ABTFilterResultTrue:J.ABTFilterResultFalse:t==X.ABTFilterOperatorLessThan?i<n?J.ABTFilterResultTrue:J.ABTFilterResultFalse:t==X.ABTFilterOperatorLessThanOrEqual?i<=n?J.ABTFilterResultTrue:J.ABTFilterResultFalse:(E.w("Number comparison attempted with an invalid operator. Filter match is unknown.",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:764,className:"apptimize.filter.ABTFilterUtils",methodName:"ABTEvaluateNumber"}),J.ABTFilterResultUnknown))},se.ABTEvaluateVersionString=function(e,t,r){if(null!=e&&""!=e||(e="0"),null!=r&&""!=r||(r="0"),ar.getClass(e)!=String||ar.getClass(r)!=String)return E.w("Unable to compare versions as values are not strings. Filter match is unknown.",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:782,className:"apptimize.filter.ABTFilterUtils",methodName:"ABTEvaluateVersionString"}),J.ABTFilterResultUnknown;var i=e,n=r,a=i.split("."),s=n.split("."),l=a.length;if(l<3)for(var o=l,u=3;o<u;)o++,a.push("0");var h,c,p=s.length;if(p<3)for(o=p,u=3;o<u;)o++,s.push("0");i=a.join("."),n=s.join(".");try{h=or.stringToVersion(i)}catch(o){return gt.lastError=o,E.w("Unable to validate left (current) version: "+i+". Filter match is unknown.",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:822,className:"apptimize.filter.ABTFilterUtils",methodName:"ABTEvaluateVersionString"}),J.ABTFilterResultUnknown}try{c=or.stringToVersion(n)}catch(o){return gt.lastError=o,E.w("Unable to validate right (filter) version: "+n+". Filter match is unknown.",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:828,className:"apptimize.filter.ABTFilterUtils",methodName:"ABTEvaluateVersionString"}),J.ABTFilterResultUnknown}return t==X.ABTFilterOperatorEquals?or.equals(h,c)?J.ABTFilterResultTrue:J.ABTFilterResultFalse:t==X.ABTFilterOperatorNotEquals?or.equals(h,c)?J.ABTFilterResultFalse:J.ABTFilterResultTrue:t==X.ABTFilterOperatorGreaterThan?or.greaterThan(h,c)?J.ABTFilterResultTrue:J.ABTFilterResultFalse:t==X.ABTFilterOperatorGreaterThanOrEqual?or.greaterThanOrEqual(h,c)?J.ABTFilterResultTrue:J.ABTFilterResultFalse:t==X.ABTFilterOperatorLessThan?or.lessThan(h,c)?J.ABTFilterResultTrue:J.ABTFilterResultFalse:t==X.ABTFilterOperatorLessThanOrEqual?or.lessThanOrEqual(h,c)?J.ABTFilterResultTrue:J.ABTFilterResultFalse:(E.w("Version comparison attempted with an invalid operator. Filter match is unknown.",{fileName:"src/apptimize/filter/ABTFilter.hx",lineNumber:840,className:"apptimize.filter.ABTFilterUtils",methodName:"ABTEvaluateVersionString"}),J.ABTFilterResultUnknown)};var le=function(e,t,r,i,n,a){this.userID=e,this.anonID=t,this.internalProps=a,this.customAttrs=r,this.appkey=i,this.appProps=n};(n["apptimize.filter.ABTFilterEnvParams"]=le).__name__="apptimize.filter.ABTFilterEnvParams",le.prototype={userID:null,anonID:null,customAttrs:null,appProps:null,appkey:null,internalProps:null,__class__:le};var oe=function(e,t,r,i,n,a){this.userID=e.userID,this.anonID=e.anonID,this.customProperties=new Ze,this.secondaryValueUrlTemplates=t,this.secondaryValueLists=r,this.applicationProperties=e.appProps,this.internalProperties=e.internalProps,this.appkey=e.appkey,this.sequenceNumber=i,null!=e.customAttrs&&this.customProperties.setProperties(e.customAttrs),this.customProperties.setPropertyForNamespace("app_key",e.appkey,Je.ApptimizeLocal),this.namedFilters=n,null==this.namedFilters&&(this.namedFilters=[]);for(var s=new C,l=0,o=this.namedFilters;l<o.length;){var u=o[l];++l,s.h[u.filterName]=u}this.namedFilterCalculator=new ue(s,a,[])};(n["apptimize.filter.ABTFilterEnvironment"]=oe).__name__="apptimize.filter.ABTFilterEnvironment",oe.prototype={userID:null,anonID:null,customProperties:null,applicationProperties:null,internalProperties:null,sequenceNumber:null,appkey:null,secondaryValueUrlTemplates:null,secondaryValueLists:null,namedFilters:null,namedFilterCalculator:null,hash:function(){var e=new Qe,t=[null==this.userID?this.anonID:this.userID,this.customProperties.availableProperties,this.applicationProperties.availableProperties,this.internalProperties.availableProperties,this.secondaryValueLists,this.secondaryValueUrlTemplates,this.sequenceNumber];return e.push(wt.ofString(Ct.print(t,null,null))),e.hash().toHex()},getUniqueUserID:function(){return this.appkey+"_"+this.getUserOrAnonID()},getUserOrAnonID:function(){return null!=this.userID?this.userID:this.anonID},getSecondaryValuesForUrl:function(e){return this.secondaryValueLists.h[e]},valueForProperty:function(e,t){if(t==Z.ABTFilterPropertySourceDevice)return this.applicationProperties.valueForProperty(e);if(t==Z.ABTFilterPropertySourceUser)return this.customProperties.valueForNamespacedProperty(e,Je.UserAttribute);if(t==Z.ABTFilterPropertySourcePrefixed){var r=this.customProperties.valueForProperty(e);return null==r&&(r=this.internalProperties.valueForProperty(e)),r}return null},namedFilterResult:function(e){return this.namedFilterCalculator.resolve(e,this)},secondaryUrlForKey:function(e){if(null==e||""==e)return null;var t=this.secondaryValueUrlTemplates.h[e];if(null==t)return E.e("unknown secondary url key "+e,{fileName:"src/apptimize/filter/ABTFilterEnvironment.hx",lineNumber:152,className:"apptimize.filter.ABTFilterEnvironment",methodName:"secondaryUrlForKey"}),null;var r=this.injectPropsInUrlTemplate(t);if(null==r)return null;var i="&";return-1==r.indexOf("?")&&(i="?"),""+r+i+"metadataSequenceNumber="+this.sequenceNumber},injectPropsInUrlTemplate:function(e){var t=this,r=new p("\\{([^}]+)}","g"),i=!1,n=r.map(e,(function(e){var r=e.matched(1),n=t.valueForProperty(r,Z.ABTFilterPropertySourcePrefixed);return null==n?(i=!0,"<MISSING:"+r+"}>"):encodeURIComponent(n)}));return i?null:n},__class__:oe};var ue=function(e,t,r){this.allNamedFilters=e,this.evaluations=t,this.evaluationStack=r};(n["apptimize.filter.ABTNamedFilterCalculator"]=ue).__name__="apptimize.filter.ABTNamedFilterCalculator",ue.prototype={allNamedFilters:null,evaluations:null,evaluationStack:null,resolve:function(e,t){var r=this.allNamedFilters.h[e];if(null==r)return E.e("Failed to resolve filter "+e,{fileName:"src/apptimize/filter/ABTFilterEnvironment.hx",lineNumber:217,className:"apptimize.filter.ABTNamedFilterCalculator",methodName:"resolve"}),J.ABTFilterResultUnknown;var i=this.getExistingResult(r);if(null!=i)return i;if(-1!=this.evaluationStack.indexOf(e))return E.e("Found a circular reference on resolving "+e,{fileName:"src/apptimize/filter/ABTFilterEnvironment.hx",lineNumber:228,className:"apptimize.filter.ABTNamedFilterCalculator",methodName:"resolve"}),J.ABTFilterResultUnknown;this.evaluationStack.push(e);var n=r.performFilterMatchingWithEnvironment(t).result;return this.evaluations.h[e]=n,_.remove(this.evaluationStack,e),n},getExistingResult:function(e){if(!Object.prototype.hasOwnProperty.call(this.evaluations.h,e.filterName))return null;var t=this.evaluations.h[e.filterName];return t==J.ABTFilterResultTrue&&e.trueIsSticky||t==J.ABTFilterResultFalse&&e.falseIsSticky||t==J.ABTFilterResultUnknown&&e.nullIsSticky?t:null},__class__:ue};var he=function(){this.initialize()};(n["apptimize.filter.ABTFilterableObject"]=he).__name__="apptimize.filter.ABTFilterableObject",he.prototype={filters:null,filters2:null,overridingInclusiveFilters:null,matchingFilters:null,nonMatchingFilters:null,initialize:function(){this.filters=[],this.filters2=[],this.matchingFilters=[],this.nonMatchingFilters=[],this.overridingInclusiveFilters=[]},performFilterMatchingWithEnvironment:function(e){for(var t={result:J.ABTFilterResultTrue,overriding:!1},r=0,i=this.filters;r<i.length;){var n=i[r];++r;var a=n.filterMatchesEnvironment(e);t.result=se.ABTFilterAnd(t.result,a)}for(r=0,i=this.overridingInclusiveFilters;r<i.length;)n=i[r],++r,(a=n.filterMatchesEnvironment(e))==J.ABTFilterResultTrue&&(t.result=J.ABTFilterResultTrue,t.overriding=!0);return t},computeNewOverrideState:function(e,t){if(e){if(t.overriding)return!1}else if(t.result!=J.ABTFilterResultTrue)return!0;return e},fromJSON:function(e){this.filters=this.jsonToFilterArray(e.filters),this.filters2=this.jsonToFilterArray(e.filters2),this.overridingInclusiveFilters=this.jsonToFilterArray(e.overridingInclusiveFilters),0<this.filters2.length&&(this.filters=this.filters.concat(this.filters2))},jsonToFilterArray:function(e){for(var t=null==e?[]:e,r=new Array(t.length),i=0,n=t.length;i<n;){var a=i++;r[a]=$.filterFromJSON(t[a])}return r},getUrlKeys:function(){return this.getLocalUrlKeys().concat(this.getUrlKeysFrom(this.getUrlKeyProviders()))},getUrlKeyProviders:function(){return[]},getUrlKeysFrom:function(e){for(var t=[],r=0,i=e;r<i.length;){var n=i[r++];t.push(n.getUrlKeys())}for(var a=[],s=hr(t);s.hasNext();)for(n=hr(s.next());n.hasNext();){var l=n.next();a.push(l)}return m.array(a)},getLocalUrlKeys:function(){return this.getUrlKeysFrom(this.filters).concat(this.getUrlKeysFrom(this.overridingInclusiveFilters))},asUrlProviders:function(e){for(var t=new Array(e.length),r=0,i=e.length;r<i;){var n=r++;t[n]=e[n]}return t},__class__:he};var ce=function(e){he.call(this),this.fromJSON(e)};(n["apptimize.filter.ABTNamedFilter"]=ce).__name__="apptimize.filter.ABTNamedFilter",ce.__super__=he,ce.prototype=l(he.prototype,{filterName:null,trueIsSticky:null,falseIsSticky:null,nullIsSticky:null,fromJSON:function(e){he.prototype.fromJSON.call(this,e),this.filterName=d.field(e,ce.kABTNamedFilterKeyFilterName),this.trueIsSticky=d.field(e,ce.kABTNamedFilterKeyTrueIsSticky),this.falseIsSticky=d.field(e,ce.kABTNamedFilterKeyFalseIsSticky),this.nullIsSticky=d.field(e,ce.kABTNamedFilterKeyNullIsSticky)},__class__:ce});var pe=function(){this.responseCode=-1,this.text="",this.bytes=null};(n["apptimize.http.ABTHttpResponse"]=pe).__name__="apptimize.http.ABTHttpResponse",pe.prototype={bytes:null,text:null,responseCode:null,etag:null,isSuccess:function(){return 200==this.responseCode||304==this.responseCode},__class__:pe};var _e=function(){};(n["apptimize.http.ABTHttpRequestInterface"]=_e).__name__="apptimize.http.ABTHttpRequestInterface",_e.__isInterface__=!0,_e.prototype={get:null,post:null,__class__:_e};var me=function(){};(n["apptimize.http.ABTHttpRequest"]=me).__name__="apptimize.http.ABTHttpRequest",me.getRequestInterface=function(){return me.getRealRequestInterface()},me.getRealRequestInterface=function(){return new de},me.get=function(e,t,r,i){me.getRequestInterface().get(e,t,r,i)},me.post=function(e,t,r,i,n){me.getRequestInterface().post(e,t,r,i,n)};var de=function(){};(n["apptimize.http.ABTHttpRequestJS"]=de).__name__="apptimize.http.ABTHttpRequestJS",de.__interfaces__=[_e],de.prototype={_sentDate:null,get:function(e,t,r,i){var n=this,a=new XMLHttpRequest;if(this._sentDate=new Date,a.open("GET",e,!0),null!=t)for(var s=t.h,l=Object.keys(s),o=l.length,u=0;u<o;){var h=l[u++];a.setRequestHeader(h,t.h[h])}this._logRequest("GET",e,t),a.responseType="arraybuffer",a.onerror=function(t){var r=new pe;a.response,r.responseCode=a.status,n._logResponse(e,a),i(r)},a.onload=function(t){var s=new pe,l=a.response;if(null==l)return l=a.responseText,s.text="Unable to parse response on this browser.",s.responseCode=a.status,n._logResponse(e,a,wt.ofString(s.text)),void i(s);var o=n._getDataForResponse(l);n._logResponse(e,a,o),s.bytes=o.b.bufferValue,s.responseCode=a.status,s.etag=a.getResponseHeader("etag"),s.isSuccess()?r(s):i(s)},a.send()},post:function(e,t,r,i,n){var a=this,s=new XMLHttpRequest;this._sentDate=new Date,s.open("POST",e,!0);var l=new C;l.h["X-App-Key"]=r,l.h["Content-Type"]="application/json; charset=UTF-8";for(var o=l,u=o.h,h=Object.keys(u),c=h.length,p=0;p<c;){var _=h[p++];s.setRequestHeader(_,o.h[_])}this._logRequest("POST",e,o,t),s.onerror=function(t){var r=new pe;s.response,r.responseCode=s.status,a._logResponse(e,s),n(r)},s.onload=function(t){var r=new pe,l=s.response;if(null==l)return l=s.responseText,r.text="Unable to parse response on this browser.",r.responseCode=s.status,a._logResponse(e,s,wt.ofString(r.text)),void n(r);var o=a._getDataForResponse(l);a._logResponse(e,s,o),r.bytes=o.b.bufferValue,r.responseCode=s.status,r.isSuccess()?i(r):n(r)},s.send(t.b.bufferValue)},_logRequest:function(e,t,r,i){if(fe.shouldLog()){var n=null==r?"[]":C.stringify(r.h),a=null==i?"":i.toString();fe.logRequest(e,t,n,a)}},_logResponse:function(e,t,r){if(fe.shouldLog()){var i=(new Date).getTime()-this._sentDate.getTime(),n=null==r?"":r.toString();fe.logResponse(e,i,t.getAllResponseHeaders().toString(),n)}},_getDataForResponse:function(e){if("string"==typeof e)return wt.ofString(e);for(var t=new Uint8Array(e),r=new wt(new ArrayBuffer(t.length)),i=0,n=t.length;i<n;){var a=i++;r.b[a]=t[a]}return r},__class__:de};var fe=function(){};(n["apptimize.http.ABTNetworkLogger"]=fe).__name__="apptimize.http.ABTNetworkLogger",fe.shouldLog=function(){return E.logLevel==E.LOG_LEVEL_VERBOSE},fe.logRequest=function(e,t,r,i){E.v("URL Request "+e+" "+t+"\nHeaders: "+f.string(r)+"\nBody: "+i,{fileName:"src/apptimize/http/ABTNetworkLogger.hx",lineNumber:9,className:"apptimize.http.ABTNetworkLogger",methodName:"logRequest"})},fe.logResponse=function(e,t,r,i){E.v("URL Response "+e+"\nHeaders: "+f.string(r)+"\nBody: "+i+"\nResponse Time(ms): "+t,{fileName:"src/apptimize/http/ABTNetworkLogger.hx",lineNumber:13,className:"apptimize.http.ABTNetworkLogger",methodName:"logResponse"})};var ge=function(){he.call(this)};(n["apptimize.models.ABTAlteration"]=ge).__name__="apptimize.models.ABTAlteration",ge.alterationFromJSON=function(e,t){var r=ge.classForType(e.type),i=y.createInstance(r,[]);return i.initialize(),i.fromJSON(e),i._variant=t,i},ge.classForType=function(e){return"block"==e?ve:Ae},ge.__super__=he,ge.prototype=l(he.prototype,{_variant:null,_key:null,fromJSON:function(e){he.prototype.fromJSON.call(this,e)},selectAlterationsIntoArray:function(e,t,r){var i=this.performFilterMatchingWithEnvironment(e);(i.overriding||!r)&&i.result==J.ABTFilterResultTrue&&(E.v('Selecting alteration "'+this.getKey()+'" for variant "'+this.getVariant().getVariantName()+'" for user '+e.getUserOrAnonID()+".",{fileName:"src/apptimize/models/ABTAlteration.hx",lineNumber:50,className:"apptimize.models.ABTAlteration",methodName:"selectAlterationsIntoArray"}),t.push(this))},getKey:function(){return this._key},getVariant:function(){return this._variant},__class__:ge});var ve=function(){ge.call(this)};(n["apptimize.models.ABTBlockAlteration"]=ve).__name__="apptimize.models.ABTBlockAlteration",ve.__super__=ge,ve.prototype=l(ge.prototype,{methodName:null,fromJSON:function(e){ge.prototype.fromJSON.call(this,e),this._key=e.key,this.methodName=e.methodName},__class__:ve});var Ae=function(){ge.call(this)};(n["apptimize.models.ABTValueAlteration"]=Ae).__name__="apptimize.models.ABTValueAlteration",Ae.__super__=ge,Ae.prototype=l(ge.prototype,{_value:null,_type:null,_nestedType:null,_useDefaultValue:null,fromJSON:function(e){ge.prototype.fromJSON.call(this,e),this._key=e.key,this._value=e.value,this._type=e.type,this._nestedType=e.nestedType,this._useDefaultValue=e.useDefaultValue,null!=this._value&&"dictionary"==this._type&&(this._value=lt.dynamicToNativeDictionary(this._value))},useDefaultValue:function(){return this._useDefaultValue},getValue:function(){return this._value},getType:function(){return this._type},getNestedType:function(){return this._nestedType},__class__:Ae});var ye=function(){};(n["apptimize.models.ABTJSONObject"]=ye).__name__="apptimize.models.ABTJSONObject";var be=function(){this._alterationCache=new rt(He.sharedInstance().valueForProperty(He.ALTERATION_CACHE_SIZE_KEY)),this._namedFiltersEvaluations=new C};(n["apptimize.models.ABTMetadata"]=be).__name__="apptimize.models.ABTMetadata",be.loadFromString=function(e){var t=new be;return t._load_data(e),t},be.prototype={_jsonData:null,_seedGroups:null,_hotfixes:null,_alterationCache:null,_namedFilters:null,_namedFiltersEvaluations:null,_etag:null,_secondaryValues:null,resetFilterEvaluations:function(){this._namedFiltersEvaluations.h=Object.create(null)},copyPersistentValues:function(e){null!=e&&null!=e._namedFiltersEvaluations&&(this._namedFiltersEvaluations=C.createCopy(e._namedFiltersEvaluations.h))},makeEnvironment:function(e,t){var r=this._secondaryValues,i=new C,n=this.getGroupsUrlTemplate("lpilot_targeting_id");i.h.groupsApiUrl=n,n=this.getGroupsUrlTemplate("m_cohort_id"),i.h.cohortsApiUrl=n;var a=i;return null!=t&&null!=t.callServerUrls&&(a=t.callServerUrls),new oe(e,a,r,this.getSequenceNumber(),this._namedFilters,this._namedFiltersEvaluations)},getGroupsUrlTemplate:function(e){return He.sharedInstance().valueForProperty(He.GROUPS_BASE_URL_KEY)+"/api/pilot-groups/?appKey={lapp_key}&pilotTargetingId={"+e+"}"},_load_data:function(e){this._alterationCache=new rt(He.sharedInstance().valueForProperty(He.ALTERATION_CACHE_SIZE_KEY)),this._jsonData=new Ot(e).doParse(),this.reprocessJson()},reprocessJson:function(){if(null==this._jsonData)throw ct.thrown("Unable to process metadata");if(this._seedGroups=[],null!=this._jsonData.seedGroups)for(var e=0,t=this._jsonData.seedGroups;e<t.length;){var r=t[e];++e,this._seedGroups.push(new Se(r))}if(this._hotfixes=[],null!=this._jsonData.hotfixes)for(e=0,t=this._jsonData.hotfixes;e<t.length;){var i=t[e];++e,this._hotfixes.push(new ze(i))}if(E.i("JSONNamedFilters: "+f.string(this._jsonData.namedFilters),{fileName:"src/apptimize/models/ABTMetadata.hx",lineNumber:197,className:"apptimize.models.ABTMetadata",methodName:"reprocessJson"}),this._namedFilters=[],null!=this._jsonData.namedFilters)for(e=0,t=this._jsonData.namedFilters;e<t.length;){var n=t[e];++e,this._namedFilters.push(new ce(n))}},getAllVariants:function(){for(var e=[],t=0,r=this._seedGroups;t<r.length;){var i=r[t];++t,i.addAllVariantsIntoArray(e)}return e},clone:function(){var e=new be;return e.setEtag(this.getEtag()),e._jsonData=this._jsonData,e.copyPersistentValues(this),e.reprocessJson(),e},uncachedSelectAlterationsIntoArray:function(e,t){null==t&&(t=!0);var r=e.hash();if(t){var i=this.getAlterationCacheValue(r);if(null!=i)return i}for(var n=[],a=0,s=this._seedGroups;a<s.length;){var l=s[a];++a,l.selectAlterationsIntoArray(e,n,!1)}for(a=0,s=this._hotfixes;a<s.length;){var o=s[a];++a,o.selectAlterationsIntoArray(e,n,!1)}return n},selectAlterationsIntoArray:function(e){var t=e.hash(),r=this.getAlterationCacheValue(t);if(null!=r)return r;var i=this.uncachedSelectAlterationsIntoArray(e,!1);return this._alterationCache.insert(t,i),this.metadataProcessed(e,i),i},getAlterationCacheValue:function(e){return this._alterationCache.getValue(e)},extractNeededSecondaryUrls:function(e){for(var t=[],r=0,i=this._seedGroups;r<i.length;){var n=i[r];++r,t=t.concat(n.getUrlKeys())}for(r=0,i=this._hotfixes;r<i.length;){var a=i[r];++r,t=t.concat(a.getUrlKeys())}var s=[],l=Object.create(null);for(r=0;r<t.length;){var o=t[r];if(++r,!Object.prototype.hasOwnProperty.call(l,o)){var u=e.secondaryUrlForKey(o);null!=(l[o]=u)&&s.push(u)}}return s},extractSdkParameters:function(e){var t=new xe(null);if(null!=this._seedGroups)for(var r=0,i=this._seedGroups;r<i.length;){var n=i[r];++r,n.applySdkParameters(t,e)}return t},metadataProcessed:function(e,t){var r=new Fe(e,this.getSequenceNumber(),this.getVariantsCyclesPhases(t));S.sharedInstance().addResultLogEntry(e,r)},getVariantsCyclesPhases:function(e){for(var t=new zt,r=0;r<e.length;){var i=e[r];++r;var n,a=i.getVariant(),s=a.getPhase(),l="v"+a.getVariantID()+"_"+a.getCycle();if(We.sharedInstance().isNamespacedPropertyAvailable(l,Je.ApptimizeInternal)&&(s=We.sharedInstance().valueForNamespacedProperty(l,Je.ApptimizeInternal)),ar.getClass(a)!=ze){var o=a.getVariantID();n=!t.h.hasOwnProperty(o)}else n=!1;if(n){var u=a.getVariantID(),h={v:a.getVariantID(),c:a.getCycle(),p:s};t.h[u]=h}}return m.array(t)},clearAlterationCache:function(){this._alterationCache.clear()},getMetaData:function(){return this._jsonData},getSequenceNumber:function(){return this._jsonData.sequenceNumber},getCheckinUrls:function(){return this._jsonData.checkinUrls},getAppKey:function(){return this._jsonData.appKey},getEtag:function(){return this._etag},setEtag:function(e){this._etag=e},setSecondaryValues:function(e){this._secondaryValues=e},getSecondaryValues:function(){return this._secondaryValues},getDisabledVersions:function(){var e=d.field(this._jsonData,"disableAllVersions"),t=d.field(this._jsonData,"disabledCrossPlatformVersions"),r=[];return e&&r.push(o.getApptimizeSDKVersion()),null!=t&&(r=r.concat(this._jsonData.disabledCrossPlatformVersions)),r},hxSerialize:function(e){this.serializeV1(e),e.serialize(this._secondaryValues),e.serialize(this._namedFiltersEvaluations)},serializeV1:function(e){e.serialize(Ct.print(this._jsonData,null,null)),e.serialize(this._etag)},hxUnserialize:function(e){this._load_data(e.unserialize()),this._etag=e.unserialize();try{this._secondaryValues=e.unserialize()}catch(e){gt.lastError=e,this._secondaryValues=null}try{this._namedFiltersEvaluations=e.unserialize()}catch(e){gt.lastError=e,this._namedFiltersEvaluations=new C}},__class__:be};var Te=function(e){this.fromJSON(e)};(n["apptimize.models.ABTRange"]=Te).__name__="apptimize.models.ABTRange",Te.prototype={start:null,end:null,fromJSON:function(e){this.start=e[0],this.end=e[1]},__class__:Te};var we=function(e){he.call(this),this.fromJSON(e)};(n["apptimize.models.ABTRangeGroup"]=we).__name__="apptimize.models.ABTRangeGroup",we.__super__=he,we.prototype=l(he.prototype,{ranges:null,sdkParameters:null,seedGroups:null,variants:null,fromJSON:function(e){he.prototype.fromJSON.call(this,e);var t=e;if(this.ranges=[],null!=t.ranges)for(var r=0,i=t.ranges;r<i.length;){var n=i[r];++r,this.ranges.push(new Te(n))}if(this.seedGroups=[],null!=t.seedGroups)for(r=0,i=t.seedGroups;r<i.length;){var a=i[r];++r,this.seedGroups.push(new Se(a))}if(this.variants=[],null!=t.variants)for(r=0,i=t.variants;r<i.length;){var s=i[r];++r,this.variants.push(new Ee(s))}Object.prototype.hasOwnProperty.call(e,"sdkParameters")&&(this.sdkParameters=new xe(e.sdkParameters))},addAllVariantsIntoArray:function(e){for(var t=0,r=this.variants;t<r.length;){var i=r[t];++t,e.push(i)}for(t=0,r=this.seedGroups;t<r.length;){var n=r[t];++t,n.addAllVariantsIntoArray(e)}},selectAlterationsIntoArray:function(e,t,r){for(var i=this.performFilterMatchingWithEnvironment(e),n=this.computeNewOverrideState(r,i),a=0,s=this.variants;a<s.length;){var l=s[a];++a,l.selectAlterationsIntoArray(e,t,n)}for(a=0,s=this.seedGroups;a<s.length;){var o=s[a];++a,o.selectAlterationsIntoArray(e,t,n)}},isSelectedBySeed:function(e){for(var t=0,r=this.ranges;t<r.length;){var i=r[t];if(++t,e>=i.start&&e<i.end)return!0}return!1},getUrlKeyProviders:function(){return this.asUrlProviders(this.seedGroups).concat(this.asUrlProviders(this.variants))},applySdkParameters:function(e,t){null!=this.sdkParameters&&e.mergeOther(this.sdkParameters);for(var r=0,i=this.seedGroups;r<i.length;){var n=i[r];++r,n.applySdkParameters(e,t)}},__class__:we});var xe=function(e){this.minPostFrequencyMs=null,(this.callServerUrls=null)!=e&&this.fromJSON(e)};(n["apptimize.models.ABTSdkParameters"]=xe).__name__="apptimize.models.ABTSdkParameters",xe.prototype={minPostFrequencyMs:null,callServerUrls:null,fromJSON:function(e){var t=d.field(e,"minPostFrequencyMs");null!=t&&(this.minPostFrequencyMs=t),null!=(t=d.field(e,"callServerUrls"))&&(this.callServerUrls=lt.dynamicObjectToStringMap(t))},mergeOther:function(e){null!=e.minPostFrequencyMs&&(this.minPostFrequencyMs=e.minPostFrequencyMs),null!=e.callServerUrls&&(this.callServerUrls=e.callServerUrls)},__class__:xe};var Ne=function(e){this.fromDef(e)};(n["apptimize.models.ABTSeed"]=Ne).__name__="apptimize.models.ABTSeed",Ne.prototype={type:null,value:null,fromDef:function(e){this.type=e.type,this.value=e.value},computedSeedMaterial:function(e){if("guid"==this.type){var t=wt.ofString("0123456789abcdef"),r=v.replace(e,"-","").toLowerCase();try{if(32==r.length)return Qe.Sha1(new St(t).decodeBytes(wt.ofString(r)))}catch(e){if(gt.lastError=e,"string"!=typeof ct.caught(e).unwrap())throw e;E.w("Invalid GUID supplied - treating as string user ID.",{fileName:"src/apptimize/models/ABTSeed.hx",lineNumber:33,className:"apptimize.models.ABTSeed",methodName:"computedSeedMaterial"})}return Qe.Sha1(wt.ofString(e))}return null!=this.value?Qe.Sha1(wt.ofString(this.value)):(E.e("Unable to calculate seed for supplied user ID of type: "+this.type+".",{fileName:"src/apptimize/models/ABTSeed.hx",lineNumber:41,className:"apptimize.models.ABTSeed",methodName:"computedSeedMaterial"}),null)},__class__:Ne};var Se=function(e){he.call(this),this.fromJSON(e)};(n["apptimize.models.ABTSeedGroup"]=Se).__name__="apptimize.models.ABTSeedGroup",Se.__super__=he,Se.prototype=l(he.prototype,{rangeGroups:null,seeds:null,fromJSON:function(e){he.prototype.fromJSON.call(this,e);var t=e;if(this.rangeGroups=[],null!=t.rangeGroups)for(var r=0,i=t.rangeGroups;r<i.length;){var n=i[r];++r,this.rangeGroups.push(new we(n))}if(this.seeds=[],null!=t.seeds)for(r=0,i=t.seeds;r<i.length;){var a=i[r];++r,this.seeds.push(new Ne(a))}},computedSeedMaterial:function(e){for(var t=new Pt,r=0,i=this.seeds;r<i.length;){var n=i[r];++r;var a=n.computedSeedMaterial(e);t.addBytes(a,0,a.length)}return Qe.Sha1(t.getBytes())},seed:function(e){var t=this.computedSeedMaterial(e),r=t.length;if(r<4)return E.e("User ID length too short for seed: "+r+".",{fileName:"src/apptimize/models/ABTSeedGroup.hx",lineNumber:64,className:"apptimize.models.ABTSeedGroup",methodName:"seed"}),0;var i=r-4;return 1073741823&(t.b[i+3]|t.b[i+2]<<8|t.b[i+1]<<16|t.b[i]<<24)},selectAlterationsIntoArray:function(e,t,r){var i=this.performFilterMatchingWithEnvironment(e),n=this.computeNewOverrideState(r,i),a=this.seed(e.getUserOrAnonID());E.v("Calculated seed for user "+e.getUserOrAnonID()+": "+a+".",{fileName:"src/apptimize/models/ABTSeedGroup.hx",lineNumber:89,className:"apptimize.models.ABTSeedGroup",methodName:"selectAlterationsIntoArray"});for(var s=0,l=this.rangeGroups;s<l.length;){var o=l[s];++s,o.isSelectedBySeed(a)?o.selectAlterationsIntoArray(e,t,n):o.selectAlterationsIntoArray(e,t,!0)}},addAllVariantsIntoArray:function(e){for(var t=0,r=this.rangeGroups;t<r.length;){var i=r[t];++t,i.addAllVariantsIntoArray(e)}},getUrlKeyProviders:function(){return this.asUrlProviders(this.rangeGroups)},applySdkParameters:function(e,t){if(this.performFilterMatchingWithEnvironment(t).result==J.ABTFilterResultTrue)for(var r=this.seed(t.getUserOrAnonID()),i=0,n=this.rangeGroups;i<n.length;){var a=n[i];++i,a.isSelectedBySeed(r)&&a.applySdkParameters(e,t)}},__class__:Se});var Ee=function(e){he.call(this),this.fromJSON(e)};(n["apptimize.models.ABTVariant"]=Ee).__name__="apptimize.models.ABTVariant",Ee.__super__=he,Ee.prototype=l(he.prototype,{alterations:null,alterations2:null,codeBlockName:null,experimentId:null,experimentName:null,experimentType:null,startTime:null,variantId:null,variantName:null,cycle:null,phase:null,fromJSON:function(e){he.prototype.fromJSON.call(this,e);var t=e;this.alterations=[],this.alterations2=[];for(var r=0,i=t.alterations;r<i.length;){var n=i[r];++r,this.alterations.push(ge.alterationFromJSON(n,this))}if(this.codeBlockName=t.codeBlockName,ar.getClass(this)!=ze&&(this.experimentId=t.experimentId,this.experimentName=t.experimentName,this.experimentType=t.experimentType,this.startTime=t.startTime,this.variantName=t.variantName,this.variantId=t.variantId,this.cycle=t.cycle,this.phase=t.phase),Object.prototype.hasOwnProperty.call(t,"alterations2")&&null!=t.alterations2){for(r=0,i=t.alterations2;r<i.length;)n=i[r],++r,this.alterations2.push(ge.alterationFromJSON(n,this));this.alterations=this.alterations.concat(this.alterations2)}},selectAlterationsIntoArray:function(e,t,r){for(var i=this.performFilterMatchingWithEnvironment(e),n=this.computeNewOverrideState(r,i),a=0,s=this.alterations;a<s.length;){var l=s[a];++a,l.selectAlterationsIntoArray(e,t,n)}},getVariantID:function(){return this.variantId},getVariantName:function(){return this.variantName},getExperimentID:function(){return this.experimentId},getExperimentName:function(){return this.experimentName},getExperimentType:function(){return this.experimentType},getCodeBlockName:function(){return this.codeBlockName},getPhase:function(){return this.phase},getCycle:function(){return this.cycle},getUrlKeyProviders:function(){return this.asUrlProviders(this.alterations)},__class__:Ee});var ze=function(e){Ee.call(this,e)};(n["apptimize.models.ABTHotfixVariant"]=ze).__name__="apptimize.models.ABTHotfixVariant",ze.__super__=Ee,ze.prototype=l(Ee.prototype,{hotfixName:null,fromJSON:function(e){Ee.prototype.fromJSON.call(this,e);var t=e;this.hotfixName=t.hotfixName},getHotfixName:function(){return this.hotfixName},__class__:ze});var ke=function(e){ke.RESULT_ENTRY_CREATION_LOCK.acquire();try{this._id=this._getNextSequenceNumber(),this._deviceTimestamp=dt.fromFloat((new Date).getTime()),this._monotonicTimestamp=this._getMonotonicTimestamp(this._deviceTimestamp)}catch(e){gt.lastError=e;var t=ct.caught(e).unwrap();throw ke.RESULT_ENTRY_CREATION_LOCK.release(),ct.thrown(t)}ke.RESULT_ENTRY_CREATION_LOCK.release(),this._prefixedAttributes=new C,null!=e&&null!=e.customProperties.availableProperties&&e.customProperties.addJSONProperties(this._prefixedAttributes),We.sharedInstance().addJSONProperties(this._prefixedAttributes),e.applicationProperties.addJSONProperties(this._prefixedAttributes)};(n["apptimize.models.results.ABTResultEntry"]=ke).__name__="apptimize.models.results.ABTResultEntry",ke.__super__=ye,ke.prototype=l(ye.prototype,{_id:null,_monotonicTimestamp:null,_deviceTimestamp:null,_userAttributes:null,_prefixedAttributes:null,_getNextSequenceNumber:function(){var e=Ge.loadString(Ge.kResultEntrySequenceKey),t=new mt(0,0);return null!=e&&(t=dt.parseString(e)),(t=new mt(t.high,t.low)).low++,t.low=0|t.low,0==t.low&&(t.high++,t.high=0|t.high),Ge.saveString(Ge.kResultEntrySequenceKey,_t.toString(t)),t},_getMonotonicTimestamp:function(e){var t=e,r=new mt(0,0),i=Ge.loadString(Ge.kResultEntryTimestampKey);null!=i&&(r=dt.parseString(i));var n=r.high-e.high|0;if(0==n&&(n=pt.ucompare(r.low,e.low)),0<=(r.high<0?e.high<0?n:-1:0<=e.high?n:1)){var a=r.high+0|0,s=r.low+1|0;pt.ucompare(s,r.low)<0&&(a++,a|=0),t=new mt(a,s)}return Ge.saveString(Ge.kResultEntryTimestampKey,_t.toString(t)),t},JSONRepresentation:function(){var e=new C,t=et.toPreprocessedString(this._id);e.h.ei=t,t=et.toPreprocessedString(this._monotonicTimestamp),e.h.mt=t,t=et.toPreprocessedString(this._deviceTimestamp),e.h.dt=t,t=lt.filterNullValues(this._prefixedAttributes),e.h.pa=t;var r=e;if(null!=this._userAttributes){var i=lt.filterNullValues(this._userAttributes);r.h.ua=i}return r},hxSerialize:function(e){et._serializeInt64(this._id,e),et._serializeInt64(this._monotonicTimestamp,e),et._serializeInt64(this._deviceTimestamp,e),e.serialize(this._userAttributes),e.serialize(this._prefixedAttributes)},hxUnserialize:function(e){this._id=et._deserializeInt64(e),this._monotonicTimestamp=et._deserializeInt64(e),this._deviceTimestamp=et._deserializeInt64(e),this._userAttributes=e.unserialize(),this._prefixedAttributes=e.unserialize()},__class__:ke});var Ie=function(e,t,r,i){this._type="v",ke.call(this,e),this._variantID=t,this._cycle=r,this._phase=i};(n["apptimize.models.results.ABTResultEntryVariantShown"]=Ie).__name__="apptimize.models.results.ABTResultEntryVariantShown",Ie.__super__=ke,Ie.prototype=l(ke.prototype,{_type:null,_variantID:null,_cycle:null,_phase:null,JSONRepresentation:function(){var e=ke.prototype.JSONRepresentation.call(this),t=this._type;e.h.ty=t,t=this._variantID,e.h.v=t;var r=new C;return r.h.v=this._variantID,r.h.c=this._cycle,r.h.p=this._phase,t=r,e.h.vp=t,e},hxSerialize:function(e){ke.prototype.hxSerialize.call(this,e),e.serialize(this._type),e.serialize(this._variantID),e.serialize(this._cycle),e.serialize(this._phase)},hxUnserialize:function(e){ke.prototype.hxUnserialize.call(this,e),this._type=e.unserialize(),this._variantID=e.unserialize(),this._cycle=e.unserialize(),this._phase=e.unserialize()},__class__:Ie});var Be=function(e,t,r,i){this._type="ee",ke.call(this,e),this._name=t,this._source=r,this._attributes=i};(n["apptimize.models.results.ABTResultEntryEvent"]=Be).__name__="apptimize.models.results.ABTResultEntryEvent",Be.__super__=ke,Be.prototype=l(ke.prototype,{_type:null,_name:null,_source:null,_attributes:null,JSONRepresentation:function(){var e=ke.prototype.JSONRepresentation.call(this),t=this._type;return e.h.ty=t,t=this._name,e.h.n=t,t=this._source,e.h.s=t,t=this._attributes,e.h.a=t,e},hxSerialize:function(e){ke.prototype.hxSerialize.call(this,e),e.serialize(this._type),e.serialize(this._name),e.serialize(this._source),e.serialize(this._attributes)},hxUnserialize:function(e){ke.prototype.hxUnserialize.call(this,e),this._type=e.unserialize(),this._name=e.unserialize(),this._source=e.unserialize(),this._attributes=e.unserialize()},__class__:Be});var Fe=function(e,t,r){this._type="md",ke.call(this,e),this._metadataSequenceNumber=t,this._enrolledVariantsCyclesPhases=r,this._enrolledVariantIDs=[];for(var i=0,n=this._enrolledVariantsCyclesPhases;i<n.length;){var a=n[i];++i,this._enrolledVariantIDs.push(a.v)}};(n["apptimize.models.results.ABTResultEntryMetadataProcessed"]=Fe).__name__="apptimize.models.results.ABTResultEntryMetadataProcessed",Fe.__super__=ke,Fe.prototype=l(ke.prototype,{_type:null,_metadataSequenceNumber:null,_enrolledVariantsCyclesPhases:null,_enrolledVariantIDs:null,JSONRepresentation:function(){var e=ke.prototype.JSONRepresentation.call(this);if(0<this._enrolledVariantsCyclesPhases.length){var t=this._enrolledVariantsCyclesPhases;e.h.vp=t}return t=this._enrolledVariantIDs,e.h.v=t,t=this._metadataSequenceNumber,e.h.s=t,t=this._type,e.h.ty=t,e},hxSerialize:function(e){ke.prototype.hxSerialize.call(this,e),e.serialize(this._type),e.serialize(this._metadataSequenceNumber),e.serialize(this._enrolledVariantIDs),e.serialize(this._enrolledVariantsCyclesPhases)},hxUnserialize:function(e){ke.prototype.hxUnserialize.call(this,e),this._type=e.unserialize(),this._metadataSequenceNumber=e.unserialize(),this._enrolledVariantIDs=e.unserialize(),this._enrolledVariantsCyclesPhases=e.unserialize()},__class__:Fe});var Oe=function(e,t){this._type="ac",ke.call(this,e),this._enrolledVariantsCyclesPhases=t,this._enrolledVariantIDs=[];for(var r=0,i=this._enrolledVariantsCyclesPhases;r<i.length;){var n=i[r];++r,this._enrolledVariantIDs.push(n.v)}};(n["apptimize.models.results.ABTResultEntryAttributesChanged"]=Oe).__name__="apptimize.models.results.ABTResultEntryAttributesChanged",Oe.__super__=ke,Oe.prototype=l(ke.prototype,{_type:null,_enrolledVariantsCyclesPhases:null,_enrolledVariantIDs:null,JSONRepresentation:function(){var e=ke.prototype.JSONRepresentation.call(this),t=this._type;return e.h.ty=t,t=this._enrolledVariantIDs,e.h.v=t,0<this._enrolledVariantsCyclesPhases.length&&(t=this._enrolledVariantsCyclesPhases,e.h.vp=t),e},hxSerialize:function(e){ke.prototype.hxSerialize.call(this,e),e.serialize(this._type),e.serialize(this._enrolledVariantIDs),e.serialize(this._enrolledVariantsCyclesPhases)},hxUnserialize:function(e){ke.prototype.hxUnserialize.call(this,e),this._type=e.unserialize(),this._enrolledVariantIDs=e.unserialize(),this._enrolledVariantsCyclesPhases=e.unserialize()},__class__:Oe});var Ce=function(e,t){this._type="ue",ke.call(this,e),this._nextUserID=t};(n["apptimize.models.results.ABTResultEntryUserEnd"]=Ce).__name__="apptimize.models.results.ABTResultEntryUserEnd",Ce.__super__=ke,Ce.prototype=l(ke.prototype,{_type:null,_nextUserID:null,JSONRepresentation:function(){var e=ke.prototype.JSONRepresentation.call(this),t=this._type;return e.h.ty=t,t=this._nextUserID,e.h.n=t,e},hxSerialize:function(e){ke.prototype.hxSerialize.call(this,e),e.serialize(this._type),e.serialize(this._nextUserID)},hxUnserialize:function(e){ke.prototype.hxUnserialize.call(this,e),this._type=e.unserialize(),this._nextUserID=e.unserialize()},__class__:Ce});var Pe=function(e,t){this._type="us",ke.call(this,e),this._previousUserID=t};(n["apptimize.models.results.ABTResultEntryUserStart"]=Pe).__name__="apptimize.models.results.ABTResultEntryUserStart",Pe.__super__=ke,Pe.prototype=l(ke.prototype,{_type:null,_previousUserID:null,JSONRepresentation:function(){var e=ke.prototype.JSONRepresentation.call(this),t=this._type;return e.h.ty=t,t=this._previousUserID,e.h.p=t,e},hxSerialize:function(e){ke.prototype.hxSerialize.call(this,e),e.serialize(this._type),e.serialize(this._previousUserID)},hxUnserialize:function(e){ke.prototype.hxUnserialize.call(this,e),this._type=e.unserialize(),this._previousUserID=e.unserialize()},__class__:Pe});var Re=function(e,t,r){this._lastEntryID=new mt(0,0),this._firstEntryID=new mt(0,0),this._timestampFromServer=new mt(0,0),this._type="sp",ke.call(this,null),this._timestampFromServer=e,this._firstEntryID=t,this._lastEntryID=r};(n["apptimize.models.results.ABTResultEntrySuccessfullyPosted"]=Re).__name__="apptimize.models.results.ABTResultEntrySuccessfullyPosted",Re.__super__=ke,Re.prototype=l(ke.prototype,{_type:null,_timestampFromServer:null,_firstEntryID:null,_lastEntryID:null,JSONRepresentation:function(){var e=ke.prototype.JSONRepresentation.call(this),t=this._type;return e.h.ty=t,t=et.toPreprocessedString(this._timestampFromServer),e.h.t=t,t=et.toPreprocessedString(this._firstEntryID),e.h.f=t,t=et.toPreprocessedString(this._lastEntryID),e.h.l=t,e},hxSerialize:function(e){ke.prototype.hxSerialize.call(this,e),e.serialize(this._type),et._serializeInt64(this._timestampFromServer,e),et._serializeInt64(this._firstEntryID,e),et._serializeInt64(this._lastEntryID,e)},hxUnserialize:function(e){ke.prototype.hxUnserialize.call(this,e),this._type=e.unserialize(),this._timestampFromServer=et._deserializeInt64(e),this._firstEntryID=et._deserializeInt64(e),this._lastEntryID=et._deserializeInt64(e)},__class__:Re});var De=function(e){this._currentEntryCount=new mt(0,0),this._type="dl",ke.call(this,null),this._currentEntryCount=e};(n["apptimize.models.results.ABTResultEntryDataTypeLimitReached"]=De).__name__="apptimize.models.results.ABTResultEntryDataTypeLimitReached",De.__super__=ke,De.prototype=l(ke.prototype,{_type:null,_currentEntryCount:null,JSONRepresentation:function(){var e=ke.prototype.JSONRepresentation.call(this),t=this._type;return e.h.ty=t,t=et.toPreprocessedString(this._currentEntryCount),e.h.c=t,e},hxSerialize:function(e){ke.prototype.hxSerialize.call(this,e),e.serialize(this._type),et._serializeInt64(this._currentEntryCount,e)},hxUnserialize:function(e){ke.prototype.hxUnserialize.call(this,e),this._type=e.unserialize(),this._currentEntryCount=et._deserializeInt64(e)},__class__:De});var Le=function(e){null!=e&&(this.userID=e.userID,this.anonID=e.anonID,this.appkey=e.appkey,this.uniqueID=e.getUniqueUserID()),this.entries=[]};(n["apptimize.models.results.ABTResultLog"]=Le).__name__="apptimize.models.results.ABTResultLog",Le.prototype={entries:null,userID:null,anonID:null,appkey:null,uniqueID:null,logEntry:function(e){this.entries.push(e)},entryCount:function(){return this.entries.length},getAppKey:function(){return this.appkey},getUniqueUserKey:function(){return this.uniqueID},toJSON:function(){for(var e=new C,t=[],r=0,i=this.entries;r<i.length;){var n=i[r];++r,t.push(n.JSONRepresentation())}var a="v4";e.h.type=a,a=this.getAppKey(),e.h.a=a,null!=this.anonID&&(a=this.anonID,e.h.g=a),new Date;var s=dt.fromFloat((new Date).getTime());return a=et.toPreprocessedString(s),e.h.c=a,a=t,e.h.e=a,a="Cross Platform "+o.getApptimizeSDKVersion(),e.h.v=a,null!=this.userID&&(a=this.userID,e.h.u=a),tt.stringify(e)},__class__:Le};var Ue=r(692),Me=function(){};(n["apptimize.support.initialize.ABTPlatformInitialize"]=Me).__name__="apptimize.support.initialize.ABTPlatformInitialize",Me.initialize=function(){Ge.saveString(Ge.kApptimizeVersionKey,o.getApptimizeSDKVersion()),Me._isThreadingEnabled=He.sharedInstance().valueForProperty(He.THREADING_ENABLED_KEY);var e=window;e.onblur=Me.onBlur,e.onfocus=Me.onFocus,e.onunload=o.flushTracking,K.startPolling(),Me.hookShutdown(Me._isThreadingEnabled)},Me.hookShutdown=function(e){He.sharedInstance().valueForProperty(He.AUTOMATIC_SHUTDOWN_HOOK)||E.v("Process exits will not be handled to persist Apptimize library state across server restarts.",{fileName:"src/apptimize/support/initialize/ABTPlatformInitialize.hx",lineNumber:119,className:"apptimize.support.initialize.ABTPlatformInitialize",methodName:"hookShutdown"})},Me.shutdownPlatform=function(){K.stopPolling()},Me.onBlur=function(){o.flushTracking(),K.startPolling(!1)},Me.onFocus=function(){K.startPolling()};var Ke=function(){};(n["apptimize.support.persistence.ABTPersistentInterface"]=Ke).__name__="apptimize.support.persistence.ABTPersistentInterface",Ke.prototype={save:function(e,t,r,i){throw null==i&&(i=!1),null==r&&(r=0),ct.thrown("ABTPersistentInterface.save not implemented")},load:function(e,t,r){throw null==t&&(t=0),ct.thrown("ABTPersistentInterface.load not implemented")},clear:function(e){null==e&&(e=2)},saveObject:function(e,t,r,i){null==i&&(i=!1),null==r&&(r=0);var n=new vt;n.serialize(t),n.serialize(o.getApptimizeSDKVersion()),this.save(e,n.toString(),r,i)},loadObject:function(e,t,r){null==t&&(t=0);var i=this,n=null,a=function(e,t){if(null!=t){try{var a=new bt(t);null!=(n=a.unserialize())&&i.hasDidUnserialize(n)&&n.didUnserialize()}catch(t){gt.lastError=t;var s=ct.caught(t).unwrap();E.e('Error deserializing "'+e+'" from persistent storage. Error: '+f.string(s),{fileName:"src/apptimize/support/persistence/ABTPersistence.hx",lineNumber:50,className:"apptimize.support.persistence.ABTPersistentInterface",methodName:"loadObject"})}if(null!=r)return r(e,n),n}return null!=r&&r(e,null),n};return null!=r?this.load(e,t,a):a(e,this.load(e,t,r))},hasDidUnserialize:function(e){return null!=e.didUnserialize},__class__:Ke};var Ve=function(){this.syncedKeys=[],this.sharedCache=window.document.defaultView.localStorage,this.localCache=window.document.defaultView.sessionStorage,window.onstorage=cr(this,this.onStorage)};(n["apptimize.support.persistence.ABTPIBrowserSyncedCache"]=Ve).__name__="apptimize.support.persistence.ABTPIBrowserSyncedCache",Ve.isSyncedCacheSupported=function(){try{return null!=window.document.defaultView.localStorage&&null!=window.document.defaultView.sessionStorage&&nt.getHumanReadableBrowserName(t.navigator.userAgent)!=nt.kBrowserNameInternetExplorer}catch(t){gt.lastError=t;var e=ct.caught(t).unwrap();return E.e("Error checking local storage status: "+f.string(e),{fileName:"src/apptimize/support/persistence/ABTPIBrowserSyncedCache.hx",lineNumber:39,className:"apptimize.support.persistence.ABTPIBrowserSyncedCache",methodName:"isSyncedCacheSupported"}),!1}},Ve.__super__=Ke,Ve.prototype=l(Ke.prototype,{sharedCache:null,localCache:null,syncedKeys:null,_isKeySynced:function(e,t){null==t&&(t=!1);var r=-1!=this.syncedKeys.indexOf(e);return t&&!r&&this._syncKey(e),r},_syncKey:function(e){this._isKeySynced(e,!1)||this.syncedKeys.push(e)},onStorage:function(e){this._isKeySynced(e.key,!0),this.localCache.setItem(e.key,e.newValue)},save:function(e,t,r,i){null==i&&(i=!1),null==r&&(r=0),i&&He.sharedInstance().valueForProperty(He.COMPRESS_PERSISTENCE_STORE_KEY)&&(t=Ve.compressionPrefix+ot.compressStringToBase64(t)),null!=t?(this.localCache.setItem(e,t),this.sharedCache.setItem(e,t)):(this.localCache.removeItem(e),this.sharedCache.removeItem(e)),this._syncKey(e)},load:function(e,t,r){if(null==t&&(t=0),!this._isKeySynced(e,!0)){var i=this.sharedCache.getItem(e);null!=i&&this.localCache.setItem(e,i)}var n=this.localCache.getItem(e);return this.isCompressed(n)&&(E.v("Requested persistence key "+e+" is compressed.",{fileName:"src/apptimize/support/persistence/ABTPIBrowserSyncedCache.hx",lineNumber:101,className:"apptimize.support.persistence.ABTPIBrowserSyncedCache",methodName:"load"}),n=ot.decompressBase64ToString(_.substr(n,Ve.compressionPrefix.length,null))),null!=r&&r(e,n),n},clear:function(e){null==e&&(e=2),this.syncedKeys=[],this.sharedCache.clear(),this.localCache.clear()},isCompressed:function(e){return!(null==e||e.length<Ve.compressionPrefix.length||_.substr(e,0,Ve.compressionPrefix.length)!=Ve.compressionPrefix)},__class__:Ve});var qe=function(){this.cacheMap=new C};(n["apptimize.support.persistence.ABTPICacheStorage"]=qe).__name__="apptimize.support.persistence.ABTPICacheStorage",qe.__super__=Ke,qe.prototype=l(Ke.prototype,{cacheMap:null,save:function(e,t,r,i){if(null==i&&(i=!1),null==r&&(r=0),null!=t)this.cacheMap.h[e]=t;else{var n=this.cacheMap;Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e]}},saveObject:function(e,t,r,i){if(null==i&&(i=!1),null==r&&(r=0),null!=t)this.cacheMap.h[e]=t;else{var n=this.cacheMap;Object.prototype.hasOwnProperty.call(n.h,e)&&delete n.h[e]}},loadObject:function(e,t,r){null==t&&(t=0);var i=this.cacheMap.h[e];return null!=r&&r(e,i),i},load:function(e,t,r){null==t&&(t=0);var i=this.cacheMap.h[e];return null!=r&&r(e,i),i},clear:function(e){null==e&&(e=0),this.cacheMap=new C},__class__:qe});var Ge=function(){};(n["apptimize.support.persistence.ABTPersistence"]=Ge).__name__="apptimize.support.persistence.ABTPersistence",Ge.getPersistentInterface=function(){if(null==Ge._persistentInterface){if(He.sharedInstance().isPropertyAvailable(He.STORAGE_TYPE_KEY)&&"memory"==He.sharedInstance().valueForProperty(He.STORAGE_TYPE_KEY))return Ge._persistentInterface=new qe,Ge._persistentInterface;Ve.isSyncedCacheSupported()?Ge._persistentInterface=new Ve:(E.w("Local storage not available.  Using local memory cache. No data will be persisted between sessions or tabs.",{fileName:"src/apptimize/support/persistence/ABTPersistence.hx",lineNumber:137,className:"apptimize.support.persistence.ABTPersistence",methodName:"getPersistentInterface"}),Ge._persistentInterface=new qe)}return Ge._persistentInterface},Ge.shutdown=function(){Ge._persistentInterface=null},Ge.loadFromHighLatency=function(e){e()},Ge.saveToHighLatency=function(){},Ge.clear=function(){N.SYSTEM_DATA_LOCK.acquire();try{Ge.getPersistentInterface().clear(Ge.ALL_LATENCY)}catch(t){gt.lastError=t;var e=ct.caught(t).unwrap();throw N.SYSTEM_DATA_LOCK.release(),ct.thrown(e)}N.SYSTEM_DATA_LOCK.release()},Ge.saveString=function(e,t,r,i){null==i&&(i=!1),null==r&&(r=0),N.SYSTEM_DATA_LOCK.acquire();try{try{Ge.getPersistentInterface().save(e,t,r,i)}catch(t){gt.lastError=t;var n=ct.caught(t).unwrap();E.e('Unable to store "'+e+'" to persistent storage. Submitting all pending results data. Error: '+f.string(n),{fileName:"src/apptimize/support/persistence/ABTPersistence.hx",lineNumber:213,className:"apptimize.support.persistence.ABTPersistence",methodName:"saveString"}),o.flushTracking()}}catch(t){gt.lastError=t;var a=ct.caught(t).unwrap();throw N.SYSTEM_DATA_LOCK.release(),ct.thrown(a)}N.SYSTEM_DATA_LOCK.release()},Ge.saveObject=function(e,t,r,i){null==i&&(i=!1),null==r&&(r=0),N.SYSTEM_DATA_LOCK.acquire();try{try{Ge.getPersistentInterface().saveObject(e,t,r,i)}catch(t){gt.lastError=t;var n=ct.caught(t).unwrap();E.e('Unable to store "'+e+'" to persistent storage. Submitting all pending results data. Error: '+f.string(n),{fileName:"src/apptimize/support/persistence/ABTPersistence.hx",lineNumber:224,className:"apptimize.support.persistence.ABTPersistence",methodName:"saveObject"}),o.flushTracking()}}catch(t){gt.lastError=t;var a=ct.caught(t).unwrap();throw N.SYSTEM_DATA_LOCK.release(),ct.thrown(a)}N.SYSTEM_DATA_LOCK.release()},Ge.saveStringMap=function(e,t){Ge.saveObject(e,t,0,!1)},Ge.loadString=function(e,t){null==t&&(t=0);var r=null;N.SYSTEM_DATA_LOCK.acquire();try{try{r=Ge.getPersistentInterface().load(e,t)}catch(t){gt.lastError=t;var i=ct.caught(t).unwrap();return E.e('Unable to retrieve "'+e+'" from persistent storage. Error: '+f.string(i),{fileName:"src/apptimize/support/persistence/ABTPersistence.hx",lineNumber:240,className:"apptimize.support.persistence.ABTPersistence",methodName:"loadString"}),null}}catch(t){gt.lastError=t;var n=ct.caught(t).unwrap();throw N.SYSTEM_DATA_LOCK.release(),ct.thrown(n)}return N.SYSTEM_DATA_LOCK.release(),r},Ge.loadObject=function(e,t){null==t&&(t=0);var r=null;N.SYSTEM_DATA_LOCK.acquire();try{try{r=Ge.getPersistentInterface().loadObject(e,t,null)}catch(t){gt.lastError=t;var i=ct.caught(t).unwrap();return E.e('Unable to retrieve "'+e+'" from persistent storage. Error: '+f.string(i),{fileName:"src/apptimize/support/persistence/ABTPersistence.hx",lineNumber:253,className:"apptimize.support.persistence.ABTPersistence",methodName:"loadObject"}),null}}catch(t){gt.lastError=t;var n=ct.caught(t).unwrap();throw N.SYSTEM_DATA_LOCK.release(),ct.thrown(n)}return N.SYSTEM_DATA_LOCK.release(),r},Ge.loadStringMap=function(e,t){return null==t&&(t=0),Ge.loadObject(e,t)};var Ye=function(){this.PROPERTYLOCK=N.getNewLock("property_lock"),this.availableProperties=new C,this.PROPERTYLOCK.acquire();try{this.availableProperties=new C,this.setPropertyDefaults()}catch(t){gt.lastError=t;var e=ct.caught(t).unwrap();throw this.PROPERTYLOCK.release(),ct.thrown(e)}this.PROPERTYLOCK.release()};(n["apptimize.support.properties.ABTProperties"]=Ye).__name__="apptimize.support.properties.ABTProperties",Ye.prototype={availableProperties:null,PROPERTYLOCK:null,setPropertyDefaults:function(){},isPropertyAvailable:function(e){var t=null;this.PROPERTYLOCK.acquire();try{t=this.availableProperties.h[e]}catch(e){gt.lastError=e;var r=ct.caught(e).unwrap();throw this.PROPERTYLOCK.release(),ct.thrown(r)}return this.PROPERTYLOCK.release(),null!=t},valueForProperty:function(e){var t=null;this.PROPERTYLOCK.acquire();try{t=this.availableProperties.h[e]}catch(e){gt.lastError=e;var r=ct.caught(e).unwrap();throw this.PROPERTYLOCK.release(),ct.thrown(r)}return this.PROPERTYLOCK.release(),t},setProperty:function(e,t){this.PROPERTYLOCK.acquire();try{this.availableProperties.h[e]=t}catch(e){gt.lastError=e;var r=ct.caught(e).unwrap();throw this.PROPERTYLOCK.release(),ct.thrown(r)}this.PROPERTYLOCK.release()},setProperties:function(e){for(var t=e.h,r=Object.keys(t),i=r.length,n=0;n<i;){var a=r[n++];this.setProperty(a,e.h[a])}},__class__:Ye};var je=function(){Ye.call(this)};(n["apptimize.support.properties.ABTApplicationProperties"]=je).__name__="apptimize.support.properties.ABTApplicationProperties",je.sharedInstance=function(){return null==je._instance&&(je._instance=new je),je._instance},je.getPlatformVersion=function(){return""},je.__super__=Ye,je.prototype=l(Ye.prototype,{setPropertyDefaults:function(){var e=this.availableProperties,r=o.getApptimizeSDKVersion();if(e.h.apptimize_version=r,e=this.availableProperties,r=o.getApptimizeSDKPlatform(),e.h.apptimize_platform=r,r=null,this.availableProperties.h.app_version=r,r=null,this.availableProperties.h.app_name=r,e=this.availableProperties,r=je.getPlatformVersion(),e.h.system_version=r,sr.get_supported()){e=this.availableProperties,r=t.navigator.language.split("-")[0],e.h.system_language=r,e=this.availableProperties,r=t.navigator.language,e.h.browser_language=r;var i=t.navigator.userAgent;this.availableProperties.h.browser_userAgent=i,e=this.availableProperties,r=nt.getHumanReadableBrowserName(i),e.h.browser_name=r,e=this.availableProperties,r=nt.getBrowserVersion(i),e.h.browser_version=r,e=this.availableProperties,r=nt.getDeviceCategory(i),e.h.device_category=r}},addJSONProperties:function(e){for(var t=this.availableProperties.h,r=Object.keys(t),i=r.length,n=0;n<i;){var a=r[n++],s=this.availableProperties.h[a];e.h[je._sigilForApplicationNamespace+a]=s}},__class__:je});var He=function(){Ye.call(this)};(n["apptimize.support.properties.ABTConfigProperties"]=He).__name__="apptimize.support.properties.ABTConfigProperties",He.sharedInstance=function(){return null==He._instance&&(He._instance=new He),He._instance},He.__super__=Ye,He.prototype=l(Ye.prototype,{setPropertyDefaults:function(){this.availableProperties.h[He.META_DATA_URL_LL_KEY]="https://md-ll.apptimize.com/api/metadata/v4/",this.availableProperties.h[He.META_DATA_URL_HL_KEY]="https://md-hl.apptimize.com/api/metadata/v4/";var e=null;this.availableProperties.h[He.META_DATA_URL_KEY]=e,this.availableProperties.h[He.LOG_LEVEL_KEY]="LOG_LEVEL_WARN",this.availableProperties.h[He.FOREGROUND_PERIOD_MS_KEY]=1e4,this.availableProperties.h[He.RESULT_POST_DELAY_MS_KEY]=6e4,this.availableProperties.h[He.ALTERATION_CACHE_SIZE_KEY]=10,this.availableProperties.h[He.RESULTS_CACHE_SIZE_KEY]=10,this.availableProperties.h[He.MAXIMUM_RESULT_ENTRIES_KEY]=1e3,this.availableProperties.h[He.MAXIMUM_PENDING_RESULTS_KEY]=1e3,this.availableProperties.h[He.METADATA_POLLING_INTERVAL_MS_KEY]=6e5,this.availableProperties.h[He.MAXIMUM_RESULT_POST_FAILURE_KEY]=3,this.availableProperties.h[He.MAXIMUM_RESULT_POST_SENDER_TIMEOUT_MS_KEY]=3e3,this.availableProperties.h[He.METADATA_POLLING_BACKGROUND_INTERVAL_MS_KEY]=864e5,e=null,this.availableProperties.h[He.STORAGE_TYPE_KEY]=e,e=null,this.availableProperties.h[He.APPTIMIZE_ENVIRONMENT_KEY]=e,this.availableProperties.h[He.AUTOMATIC_SHUTDOWN_HOOK]=!0,this.availableProperties.h[He.GROUPS_BASE_URL_KEY]="https://mapi.apptimize.com",this.availableProperties.h[He.LOCAL_DISK_STORAGE_PATH_KEY]="data/apptimize/",e=null,this.availableProperties.h[He.REACT_NATIVE_STORAGE_KEY]=e,this.availableProperties.h[He.THREADING_ENABLED_KEY]=!1,this.availableProperties.h[He.RESULT_POST_THREAD_POOL_SIZE_KEY]=1,this.availableProperties.h[He.EXCEPTIONS_ENABLED_KEY]=!1,this.availableProperties.h[He.COMPRESS_PERSISTENCE_STORE_KEY]=!0},__class__:He});var Je=s["apptimize.support.properties.CustomPropertyNamespace"]={__ename__:"apptimize.support.properties.CustomPropertyNamespace",__constructs__:null,UserAttribute:{_hx_name:"UserAttribute",_hx_index:0,__enum__:"apptimize.support.properties.CustomPropertyNamespace",toString:a},ApptimizeLocal:{_hx_name:"ApptimizeLocal",_hx_index:1,__enum__:"apptimize.support.properties.CustomPropertyNamespace",toString:a},ApptimizeInternal:{_hx_name:"ApptimizeInternal",_hx_index:2,__enum__:"apptimize.support.properties.CustomPropertyNamespace",toString:a},Mixpanel:{_hx_name:"Mixpanel",_hx_index:3,__enum__:"apptimize.support.properties.CustomPropertyNamespace",toString:a}};Je.__constructs__=[Je.UserAttribute,Je.ApptimizeLocal,Je.ApptimizeInternal,Je.Mixpanel];var Ze=function(){Ye.call(this)};(n["apptimize.support.properties.ABTCustomProperties"]=Ze).__name__="apptimize.support.properties.ABTCustomProperties",Ze.__super__=Ye,Ze.prototype=l(Ye.prototype,{setPropertyDefaults:function(){},setProperty:function(e,t){this.setPropertyForNamespace(e,t,Je.UserAttribute)},setPropertyForNamespace:function(e,t,r){Ye.prototype.setProperty.call(this,this.sigilForNamespace(r)+e,t)},sigilForNamespace:function(e){switch(e._hx_index){case 0:return"%";case 1:return"l";case 2:return"^";case 3:return"m"}},isNamespacedPropertyAvailable:function(e,t){return Ye.prototype.isPropertyAvailable.call(this,this.sigilForNamespace(t)+e)},valueForNamespacedProperty:function(e,t){return Ye.prototype.valueForProperty.call(this,this.sigilForNamespace(t)+e)},addJSONProperties:function(e){for(var t=this.availableProperties.h,r=Object.keys(t),i=r.length,n=0;n<i;){var a=r[n++];if(a.charAt(0)!=this.sigilForNamespace(Je.ApptimizeLocal)){var s=this.availableProperties.h[a];e.h[a]=s}}},__class__:Ze});var We=function(){Ze.call(this)};(n["apptimize.support.properties.ABTInternalProperties"]=We).__name__="apptimize.support.properties.ABTInternalProperties",We.sharedInstance=function(){return null==We._instance&&(We._instance=new We),We._instance},We.__super__=Ze,We.prototype=l(Ze.prototype,{isPropertyAvailable:function(e){return this._loadProperties(),Ze.prototype.isPropertyAvailable.call(this,e)},valueForProperty:function(e){return this._loadProperties(),this.availableProperties.h[e]},setProperty:function(e,t){this.setPropertyForNamespace(e,t,Je.ApptimizeInternal)},_loadProperties:function(){this.availableProperties=Ge.loadObject(Ge.kInternalPropertiesKey),null==this.availableProperties&&(this.availableProperties=new C)},_saveProperties:function(){Ge.saveObject(Ge.kInternalPropertiesKey,this.availableProperties)},setPropertyForNamespace:function(e,t,r){this._loadProperties(),Ze.prototype.setPropertyForNamespace.call(this,e,t,r),this._saveProperties()},isNamespacedPropertyAvailable:function(e,t){return this._loadProperties(),Ze.prototype.isNamespacedPropertyAvailable.call(this,e,t)},valueForNamespacedProperty:function(e,t){return this._loadProperties(),Ze.prototype.valueForNamespacedProperty.call(this,e,t)},__class__:We});var Xe=function(e,t){this.task=e,this.startTimestampMs=(new Date).getTime()+t};(n["apptimize.util.ABTDispatchTask"]=Xe).__name__="apptimize.util.ABTDispatchTask",Xe.prototype={task:null,startTimestampMs:null,__class__:Xe};var $e=function(){};(n["apptimize.util.ABTException"]=$e).__name__="apptimize.util.ABTException",$e.throwException=function(e){if(He.sharedInstance().valueForProperty(He.EXCEPTIONS_ENABLED_KEY))throw ct.thrown(e)};var Qe=function(){this.bytesBuffer=new Pt};(n["apptimize.util.ABTHash"]=Qe).__name__="apptimize.util.ABTHash",Qe.Sha1=function(e){return Et.make(e)},Qe.prototype={bytesBuffer:null,push:function(e){this.bytesBuffer.addBytes(e,0,e.length)},hash:function(){return Qe.Sha1(this.bytesBuffer.getBytes())},__class__:Qe};var et=function(){};(n["apptimize.util.ABTInt64Utils"]=et).__name__="apptimize.util.ABTInt64Utils",et.toPreprocessedString=function(e){return"wideInt_"+_t.toString(e)+"_wideInt"},et._serializeInt64=function(e,t){t.serialize(e.high),t.serialize(e.low)},et._deserializeInt64=function(e){return new mt(e.unserialize(),e.unserialize())};var tt=function(){};(n["apptimize.util.ABTJSONUtils"]=tt).__name__="apptimize.util.ABTJSONUtils",tt.stringify=function(e){var t=Ct.print(e,null,null);return t=v.replace(t,'"wideInt_',""),v.replace(t,'_wideInt"',"")};var rt=function(e){this.cacheLock=N.getNewLock("ABTLRUCache_lock"),this._cacheSize=e,this.clear()};(n["apptimize.util.ABTLRUCache"]=rt).__name__="apptimize.util.ABTLRUCache",rt.prototype={_cacheSize:null,_list:null,_map:null,cacheLock:null,clear:function(e,t){this.cacheLock.acquire();try{if(null!=e)for(var r=0,i=this._list;r<i.length;){var n=i[r];++r;var a=function(t){return function(){e(t[0])}}([this._map.h[n]]);null!=t?t.dispatch(a,0):U.dispatchImmediately(a)}this._list=[],this._map=new C}catch(r){gt.lastError=r;var s=ct.caught(r).unwrap();throw this.cacheLock.release(),ct.thrown(s)}this.cacheLock.release()},hasKey:function(e){var t=!1;this.cacheLock.acquire();try{t=null!=this._map.h[e]}catch(e){gt.lastError=e;var r=ct.caught(e).unwrap();throw this.cacheLock.release(),ct.thrown(r)}return this.cacheLock.release(),t},getValue:function(e){var t=null;this.cacheLock.acquire();try{this.hasKey(e)&&(t=this._map.h[e])}catch(e){gt.lastError=e;var r=ct.caught(e).unwrap();throw this.cacheLock.release(),ct.thrown(r)}return this.cacheLock.release(),t},remove:function(e,t,r){this.cacheLock.acquire();try{if(!this.hasKey(e))return;if(null!=t){var i=this._map.h[e],n=function(){t(i)};null!=r?r.dispatch(n,0):U.dispatchImmediately(n)}_.remove(this._list,e);var a=this._map;Object.prototype.hasOwnProperty.call(a.h,e)&&delete a.h[e]}catch(e){gt.lastError=e;var s=ct.caught(e).unwrap();throw this.cacheLock.release(),ct.thrown(s)}this.cacheLock.release()},insert:function(e,t,r,i){this.cacheLock.acquire();try{if(this.hasKey(e))this._map.h[e]=t,_.remove(this._list,e),this._list.push(e);else if(this._map.h[e]=t,this._list.push(e),this._list.length>this._cacheSize){var n=this._list.shift();if(null!=r){t=this._map.h[n];var a=function(){r(t)};null!=i?i.dispatch(a,0):U.dispatchImmediately(a)}var s=this._map;Object.prototype.hasOwnProperty.call(s.h,n)&&delete s.h[n]}}catch(e){gt.lastError=e;var l=ct.caught(e).unwrap();throw this.cacheLock.release(),ct.thrown(l)}this.cacheLock.release()},hxSerialize:function(e){var t=new C;t.h._cacheSize=this._cacheSize,t.h._list=this._list,t.h._map=this._map;var r=t;e.serialize(r)},hxUnserialize:function(e){var t=e.unserialize();this._cacheSize=t.h._cacheSize,this._list=t.h._list,this._map=t.h._map,this.initMissingFields()},didUnserialize:function(){this.initMissingFields()},initMissingFields:function(){null==this.cacheLock&&(this.cacheLock=N.getNewLock("ABTLRUCache_lock"))},__class__:rt};var it=function(){};(n["apptimize.util.ABTTypes"]=it).__name__="apptimize.util.ABTTypes",it.isString=function(e){var t=y.typeof(e);return 6==t._hx_index&&"String"==t.c.__name__},it.isNullOrString=function(e){return null==e||it.isString(e)};var nt=function(){};(n["apptimize.util.ABTUserAgentParser"]=nt).__name__="apptimize.util.ABTUserAgentParser",nt.getBrowserName=function(e){var t=nt.kBrowserUnknown;return 0<=e.indexOf(nt.kBrowserSeaMonkey)?t=nt.kBrowserSeaMonkey:0<=e.indexOf(nt.kBrowserFirefox)?t=nt.kBrowserFirefox:0<=e.indexOf(nt.kBrowserFirefoxiOS)?t=nt.kBrowserFirefoxiOS:0<=e.indexOf(nt.kBrowserInternetExplorer)?t=nt.kBrowserInternetExplorer:0<=e.indexOf(nt.kBrowserInternetExplorer11)?t=nt.kBrowserInternetExplorer11:0<=e.indexOf(nt.kBrowserEdge)?t=nt.kBrowserEdge:0<=e.indexOf(nt.kBrowserEdgeiOS)?t=nt.kBrowserEdgeiOS:0<=e.indexOf(nt.kBrowserEdgeAndroid)?t=nt.kBrowserEdgeAndroid:0<=e.indexOf(nt.kBrowserOperaNew)?t=v.trim(nt.kBrowserOperaNew):0<=e.indexOf(nt.kBrowserOpera)?t=nt.kBrowserOpera:0<=e.indexOf(nt.kBrowserChromeiOS)?t=nt.kBrowserChromeiOS:0<=e.indexOf(nt.kBrowserChrome)?t=0<=e.indexOf(nt.kBrowserAndroidWebViewGeneral)&&0<=e.indexOf(nt.kBrowserAndroidWebViewLAbove)?v.trim(nt.kBrowserAndroidWebViewLAbove):0<=e.indexOf(nt.kBrowserAndroidWebViewGeneral)&&0<=e.indexOf(nt.kBrowserAndroidWebViewKtoL)?v.trim(nt.kBrowserAndroidWebViewKtoL):nt.kBrowserChrome:0<=e.indexOf(nt.kBrowserChromium)?t=v.trim(nt.kBrowserChromium):0<=e.indexOf(nt.kBrowserAndroidWebViewPreK)?t=v.trim(nt.kBrowserAndroidWebViewPreK):0<=e.indexOf(nt.kBrowserSafari)&&(t=nt.kBrowserSafari),t},nt.getBrowserVersion=function(e){var t=nt.kBrowserUnknown,r=nt.getBrowserName(e);if(r!=nt.kBrowserUnknown){v.trim(nt.kBrowserAndroidWebViewLAbove)==r||v.trim(nt.kBrowserAndroidWebViewKtoL)==r?r=nt.kBrowserChrome:nt.kBrowserInternetExplorer==r&&(r=nt.kBrowserInternetExplorer11);var i=r+"[ /]",n=new p("[; )$]","");t=null==(t=new p(i,"").split(e)[1])?nt.kBrowserUnknown:n.split(t)[0]}return t},nt.getDeviceCategory=function(e){var t=new p("Mobi","").match(e),r=new p("iPad","").match(e),i=new p("Android","").match(e);return t&&!r?nt.kDeviceCategoryMobile:r||i&&!t?nt.kDeviceCategoryTablet:nt.kDeviceCategoryDesktop},nt.getHumanReadableBrowserName=function(e){var t=nt.getBrowserName(e);return t==nt.kBrowserChrome||t==nt.kBrowserChromeiOS||t==nt.kBrowserChromium?nt.kBrowserNameChrome:t==nt.kBrowserFirefox||t==nt.kBrowserFirefoxiOS?nt.kBrowserNameFirefox:t==nt.kBrowserSafari?nt.kBrowserNameSafari:t==nt.kBrowserInternetExplorer||t==nt.kBrowserInternetExplorer11?nt.kBrowserNameInternetExplorer:nt.kBrowserNameUnknown};var at=s["apptimize.util.ArrayType"]={__ename__:"apptimize.util.ArrayType",__constructs__:null,Int:{_hx_name:"Int",_hx_index:0,__enum__:"apptimize.util.ArrayType",toString:a},Bool:{_hx_name:"Bool",_hx_index:1,__enum__:"apptimize.util.ArrayType",toString:a},Double:{_hx_name:"Double",_hx_index:2,__enum__:"apptimize.util.ArrayType",toString:a},String:{_hx_name:"String",_hx_index:3,__enum__:"apptimize.util.ArrayType",toString:a},VariantInfo:{_hx_name:"VariantInfo",_hx_index:4,__enum__:"apptimize.util.ArrayType",toString:a}};at.__constructs__=[at.Int,at.Bool,at.Double,at.String,at.VariantInfo];var st=function(){};(n["apptimize.util.ABTUtilArray"]=st).__name__="apptimize.util.ABTUtilArray",st.toNativeArray=function(e,t){return e};var lt=function(){};(n["apptimize.util.ABTUtilDictionary"]=lt).__name__="apptimize.util.ABTUtilDictionary",lt.dynamicToNativeDictionary=function(e){var t={},r=e;if(y.typeof(r)==A.TObject&&(r=lt.dynamicObjectToStringMap(e)),null!=r)for(var i=r.h,n=Object.keys(i),a=n.length,s=0;s<a;){var l=n[s++];t[l]=r.h[l]}return t},lt.stringMapToNativeDictionary=function(e){var t={};if(null!=e)for(var r=e.h,i=Object.keys(r),n=i.length,a=0;a<n;){var s=i[a++];t[s]=e.h[s]}return t},lt.nativeObjectToStringMap=function(e){return y.typeof(e)==A.TObject?lt.dynamicObjectToStringMap(e):ar.getClass(e)==C?e:lt.dynamicMapToStringMap(e)},lt.dynamicObjectToStringMap=function(e){for(var t=new C,r=d.fields(e),i=0;i<r.length;){var n=r[i];++i;var a=d.getProperty(e,n);t.h[n]=a}return t},lt.dynamicMapToStringMap=function(e){for(var t=new C,r=e,i=0,n=d.fields(r);i<n.length;){var a=n[i];++i,t.h[a]=r[a]}return t},lt.filterNullValues=function(e){for(var t=new C,r=e.h,i=Object.keys(r),n=i.length,a=0;a<n;){var s=i[a++],l=e.h[s];null!=l&&(t.h[s]=l)}return t};var ot=function(){};(n["apptimize.util.ABTUtilGzip"]=ot).__name__="apptimize.util.ABTUtilGzip",ot.jsonSignatureLength=function(e){var t=wt.ofData(e);return t.b[0]<<8|t.b[1]},ot.decompressBytes=function(e){var t=Dt.fromBytes(e),r=null;try{r=Ue.inflate(t,{gzip:!0})}catch(e){gt.lastError=e;var i=ct.caught(e).unwrap();return E.e("Error decompressing data "+f.string(i),{fileName:"src/apptimize/util/ABTUtilGzip.hx",lineNumber:45,className:"apptimize.util.ABTUtilGzip",methodName:"decompressBytes"}),null}return wt.ofData(r.buffer)},ot.decompress=function(e){var t=wt.ofData(e),r=ot.jsonSignatureLength(e)+2,i=t.length-r,n=wt.ofData(e).sub(r,i);return ot.decompressBytes(n)},ot.compress=function(e){var t=Ue.deflate(Dt.fromBytes(e),{gzip:!0});return wt.ofData(t.buffer)},ot.compressStringToBase64=function(e){if(null==e)return null;var t=wt.ofString(e),r=ot.compress(t);return Nt.encode(r)},ot.decompressBase64ToString=function(e){if(null==e)return null;var t=Nt.decode(e);return ot.decompressBytes(t).toString()};var ut=s["haxe.StackItem"]={__ename__:"haxe.StackItem",__constructs__:null,CFunction:{_hx_name:"CFunction",_hx_index:0,__enum__:"haxe.StackItem",toString:a},Module:(i=function(e){return{_hx_index:1,m:e,__enum__:"haxe.StackItem",toString:a}},i._hx_name="Module",i.__params__=["m"],i),FilePos:(i=function(e,t,r,i){return{_hx_index:2,s:e,file:t,line:r,column:i,__enum__:"haxe.StackItem",toString:a}},i._hx_name="FilePos",i.__params__=["s","file","line","column"],i),Method:(i=function(e,t){return{_hx_index:3,classname:e,method:t,__enum__:"haxe.StackItem",toString:a}},i._hx_name="Method",i.__params__=["classname","method"],i),LocalFunction:(i=function(e){return{_hx_index:4,v:e,__enum__:"haxe.StackItem",toString:a}},i._hx_name="LocalFunction",i.__params__=["v"],i)};ut.__constructs__=[ut.CFunction,ut.Module,ut.FilePos,ut.Method,ut.LocalFunction];var ht={callStack:function(){return gt.toHaxe(gt.callStack())},exceptionStack:function(e){null==e&&(e=!1);var t=gt.toHaxe(gt.exceptionStack());return e?t:ht.subtract(t,ht.callStack())},toString:function(e){for(var t=new g,r=0,i=e;r<i.length;){var n=i[r];++r,t.b+="\nCalled from ",ht.itemToString(t,n)}return t.b},subtract:function(e,t){for(var r=-1,i=-1;++i<e.length;){for(var n=0,a=t.length;n<a;){var s=n++;if(ht.equalItems(e[i],t[s])){if(r<0&&(r=i),++i>=e.length)break}else r=-1}if(0<=r)break}return 0<=r?e.slice(0,r):e},equalItems:function(e,t){if(null==e)return null==t;switch(e._hx_index){case 0:return null!=t&&0==t._hx_index;case 1:if(null==t)return!1;if(1==t._hx_index){var r=t.m;return e.m==r}return!1;case 2:if(null==t)return!1;if(2==t._hx_index){var i=t.s,n=t.file,a=t.line,s=t.column,l=e.column,o=e.line,u=e.file,h=e.s;return u==n&&o==a&&l==s&&ht.equalItems(h,i)}return!1;case 3:if(null==t)return!1;if(3==t._hx_index){var c=t.classname,p=t.method,_=e.method;return e.classname==c&&_==p}return!1;case 4:if(null==t)return!1;if(4==t._hx_index){var m=t.v;return e.v==m}return!1}},itemToString:function(e,t){switch(t._hx_index){case 0:e.b+="a C function";break;case 1:var r=t.m;e.b+="module ",e.b+=null==r?"null":""+r;break;case 2:var i=t.s,n=t.file,a=t.line,s=t.column;null!=i&&(ht.itemToString(e,i),e.b+=" ("),e.b+=null==n?"null":""+n,e.b+=" line ",e.b+=null==a?"null":""+a,null!=s&&(e.b+=" column ",e.b+=null==s?"null":""+s),null!=i&&(e.b+=")");break;case 3:var l=t.classname,o=t.method;e.b+=f.string(null==l?"<unknown>":l),e.b+=".",e.b+=null==o?"null":""+o;break;case 4:var u=t.v;e.b+="local function #",e.b+=null==u?"null":""+u}}},ct=function(e,t,r){Error.call(this,e),this.message=e,this.__previousException=t,this.__nativeException=null!=r?r:this,this.__skipStack=0;var i=Error.prepareStackTrace;if(Error.prepareStackTrace=function(e){return e.stack},r instanceof Error)this.stack=r.stack;else{var n=null;if(Error.captureStackTrace)Error.captureStackTrace(this,ct),n=this;else if(void 0===(n=new Error).stack){try{throw n}catch(e){}this.__skipStack++}this.stack=n.stack}Error.prepareStackTrace=i};(n["haxe.Exception"]=ct).__name__="haxe.Exception",ct.caught=function(e){return e instanceof ct?e:e instanceof Error?new ct(e.message,null,e):new Tt(e,null,e)},ct.thrown=function(e){if(e instanceof ct)return e.get_native();if(e instanceof Error)return e;var t=new Tt(e);return t.__skipStack++,t},ct.__super__=Error,ct.prototype=l(Error.prototype,{__skipStack:null,__nativeException:null,__previousException:null,unwrap:function(){return this.__nativeException},__shiftStack:function(){this.__skipStack++},get_native:function(){return this.__nativeException},get_stack:function(){var e=this.__exceptionStack;if(null==e){var t=gt.toHaxe(gt.normalize(this.stack),this.__skipStack);return this.setProperty("__exceptionStack",t),t}return e},setProperty:function(e,t){try{Object.defineProperty(this,e,{value:t})}catch(r){this[e]=t}},__class__:ct,__properties__:{get_native:"get_native",get_stack:"get_stack"}});var pt={ucompare:function(e,t){return e<0?t<0?~t-~e|0:1:t<0?-1:e-t|0}},_t={toString:function(e){var t=e,r=0,i=0;if(t.high==r&&t.low==i)return"0";var n="",a=!1;t.high<0&&(a=!0);for(var s=e=new mt(0,10);r=0,i=0,t.high!=r||t.low!=i;){var l=_t.divMod(t,s);if(l.modulus.high<0){var o=l.modulus,u=(o.high,1+~o.low|0);n=u+n;var h=l.quotient,c=~h.high,p=1+~h.low|0;0==p&&(c++,c|=0),t=e=new mt(c,p)}else n=l.modulus.low+n,t=l.quotient}return a&&(n="-"+n),n},divMod:function(e,t){if(0==t.high)switch(t.low){case 0:throw ct.thrown("divide by zero");case 1:return{quotient:new mt(e.high,e.low),modulus:new mt(0,0)}}var r,i=e.high<0!=t.high<0;if(e.high<0){var n=~e.high;0==(c=1+~e.low|0)&&(n++,n|=0),r=new mt(n,c)}else r=new mt(e.high,e.low);t.high<0&&(n=~t.high,0==(c=1+~t.low|0)&&(n++,n|=0),t=new mt(n,c));for(var a=new mt(0,0),s=new mt(0,1);!(t.high<0);){var l=0!=(h=pt.ucompare(t.high,r.high))?h:pt.ucompare(t.low,r.low),o=1;t=0==(o&=63)?new mt(t.high,t.low):o<32?new mt(t.high<<o|t.low>>>32-o,t.low<<o):new mt(t.low<<o-32,0);var u=1;if(s=0==(u&=63)?new mt(s.high,s.low):u<32?new mt(s.high<<u|s.low>>>32-u,s.low<<u):new mt(s.low<<u-32,0),0<=l)break}for(;;){var h;if(0==s.high&&0==s.low)break;if(0<=(0!=(h=pt.ucompare(r.high,t.high))?h:pt.ucompare(r.low,t.low))){a=new mt(a.high|s.high,a.low|s.low),n=r.high-t.high|0;var c=r.low-t.low|0;pt.ucompare(r.low,t.low)<0&&(n--,n|=0),r=new mt(n,c)}o=1,s=0==(o&=63)?new mt(s.high,s.low):o<32?new mt(s.high>>>o,s.high<<32-o|s.low>>>o):new mt(0,s.high>>>o-32),u=1,t=0==(u&=63)?new mt(t.high,t.low):u<32?new mt(t.high>>>u,t.high<<32-u|t.low>>>u):new mt(0,t.high>>>u-32)}return i&&(n=~a.high,0==(c=1+~a.low|0)&&(n++,n|=0),a=new mt(n,c)),e.high<0&&(n=~r.high,0==(c=1+~r.low|0)&&(n++,n|=0),r=new mt(n,c)),{quotient:a,modulus:r}}},mt=function(e,t){this.high=e,this.low=t};(n["haxe._Int64.___Int64"]=mt).__name__="haxe._Int64.___Int64",mt.prototype={high:null,low:null,__class__:mt};var dt=function(){};(n["haxe.Int64Helper"]=dt).__name__="haxe.Int64Helper",dt.parseString=function(e){var t=new mt(0,0),r=new mt(0,1),i=!1,n=v.trim(e);"-"==n.charAt(0)&&(i=!0,n=n.substring(1,n.length));for(var a=n.length,s=0,l=a;s<l;){var o=s++,u=_.cca(n,a-1-o)-48;if(u<0||9<u)throw ct.thrown("NumberFormatError");if(0!=u){var h=u>>31,c=u;if(i){var p=65535&r.low,m=r.low>>>16,d=65535&c,f=c>>>16,g=pt._mul(p,d),A=pt._mul(m,d),y=pt._mul(p,f),b=g,T=(pt._mul(m,f)+(y>>>16)|0)+(A>>>16)|0;b=b+(y<<=16)|0,pt.ucompare(b,y)<0&&(T++,T|=0),b=b+(A<<=16)|0,pt.ucompare(b,A)<0&&(T++,T|=0);var w=T=T+(pt._mul(r.low,h)+pt._mul(r.high,c)|0)|0,x=b,N=t.high-w|0,S=t.low-x|0;if(pt.ucompare(t.low,x)<0&&(N--,N|=0),!((t=new mt(N,S)).high<0))throw ct.thrown("NumberFormatError: Underflow")}else{var E=65535&r.low,z=r.low>>>16,k=65535&c,I=c>>>16,B=pt._mul(E,k),F=pt._mul(z,k),O=pt._mul(E,I),C=B,P=(pt._mul(z,I)+(O>>>16)|0)+(F>>>16)|0;C=C+(O<<=16)|0,pt.ucompare(C,O)<0&&(P++,P|=0),C=C+(F<<=16)|0,pt.ucompare(C,F)<0&&(P++,P|=0);var R=P=P+(pt._mul(r.low,h)+pt._mul(r.high,c)|0)|0,D=C,L=t.high+R|0,U=t.low+D|0;if(pt.ucompare(U,t.low)<0&&(L++,L|=0),(t=new mt(L,U)).high<0)throw ct.thrown("NumberFormatError: Overflow")}}var M=65535&r.low,K=r.low>>>16,V=pt._mul(M,10),q=pt._mul(K,10),G=pt._mul(M,0),Y=V,j=(pt._mul(K,0)+(G>>>16)|0)+(q>>>16)|0;Y=Y+(G<<=16)|0,pt.ucompare(Y,G)<0&&(j++,j|=0),Y=Y+(q<<=16)|0,pt.ucompare(Y,q)<0&&(j++,j|=0),j=j+(pt._mul(r.low,0)+pt._mul(r.high,10)|0)|0,r=new mt(j,Y)}return t},dt.fromFloat=function(e){if(isNaN(e)||!isFinite(e))throw ct.thrown("Number is NaN or Infinite");var t=e-e%1;if(9007199254740991<t)throw ct.thrown("Conversion overflow");if(t<-9007199254740991)throw ct.thrown("Conversion underflow");for(var r=new mt(0,0),i=t<0,n=i?-t:t,a=0;1<=n;){var s=n%2;if(n/=2,1<=s){var l,o=a;l=0==(o&=63)?new mt(0,1):o<32?new mt(0<<o|1>>>32-o,1<<o):new mt(1<<o-32,0);var u=r.high+l.high|0,h=r.low+l.low|0;pt.ucompare(h,r.low)<0&&(u++,u|=0),r=new mt(u,h)}++a}return i&&(u=~r.high,0==(h=1+~r.low|0)&&(u++,u|=0),r=new mt(u,h)),r};var ft=function(){};(n["haxe.Log"]=ft).__name__="haxe.Log",ft.formatOutput=function(e,t){var r=f.string(e);if(null==t)return r;var i=t.fileName+":"+t.lineNumber;if(null!=t.customParams)for(var n=0,a=t.customParams;n<a.length;)e=a[n],++n,r+=", "+f.string(e);return i+": "+r},ft.trace=function(e,t){var r=ft.formatOutput(e,t);"undefined"!=typeof console&&null!=console.log&&console.log(r)};var gt=function(){};(n["haxe.NativeStackTrace"]=gt).__name__="haxe.NativeStackTrace",gt.saveStack=function(e){gt.lastError=e},gt.callStack=function(){var e=new Error(""),t=gt.tryHaxeStack(e);if(void 0===t){try{throw e}catch(e){}t=e.stack}return gt.normalize(t,2)},gt.exceptionStack=function(){return gt.normalize(gt.tryHaxeStack(gt.lastError))},gt.toHaxe=function(e,t){if(null==t&&(t=0),null==e)return[];if("string"==typeof e){var r=e.split("\n");"Error"==r[0]&&r.shift();for(var i=[],n=0,a=r.length;n<a;){var s=n++;if(!(s<t)){var l=r[s],o=l.match(/^    at ([A-Za-z0-9_. ]+) \(([^)]+):([0-9]+):([0-9]+)\)$/);if(null!=o){var u=o[1].split(".");"$hxClasses"==u[0]&&u.shift();var h=u.pop(),c=o[2],p=f.parseInt(o[3]),_=f.parseInt(o[4]);i.push(ut.FilePos("Anonymous function"==h?ut.LocalFunction():"Global code"==h?null:ut.Method(u.join("."),h),c,p,_))}else i.push(ut.Module(v.trim(l)))}}return i}return 0<t&&Array.isArray(e)?e.slice(t):e},gt.tryHaxeStack=function(e){if(null==e)return[];var t=Error.prepareStackTrace;Error.prepareStackTrace=gt.prepareHxStackTrace;var r=e.stack;return Error.prepareStackTrace=t,r},gt.prepareHxStackTrace=function(e,t){for(var r=[],i=0;i<t.length;){var n=t[i];++i,null!=gt.wrapCallSite&&(n=gt.wrapCallSite(n));var a=null,s=n.getFunctionName();if(null!=s){var l=s.lastIndexOf(".");if(0<=l){var o=s.substring(0,l),u=s.substring(l+1);a=ut.Method(o,u)}else a=ut.Method(null,s)}var h=n.getFileName(),c=null==h?-1:h.indexOf("file:");null!=gt.wrapCallSite&&0<c&&(h=h.substring(c+6)),r.push(ut.FilePos(a,h,n.getLineNumber(),n.getColumnNumber()))}return r},gt.normalize=function(e,t){if(null==t&&(t=0),Array.isArray(e)&&0<t)return e.slice(t);if("string"==typeof e){switch(e.substring(0,6)){case"Error\n":case"Error:":++t}return gt.skipLines(e,t)}return e},gt.skipLines=function(e,t,r){return null==r&&(r=0),0<t?(r=e.indexOf("\n",r))<0?"":gt.skipLines(e,--t,r+1):e.substring(r)};var vt=function(){this.buf=new g,this.cache=[],this.useCache=vt.USE_CACHE,this.useEnumIndex=vt.USE_ENUM_INDEX,this.shash=new C,this.scount=0};(n["haxe.Serializer"]=vt).__name__="haxe.Serializer",vt.prototype={buf:null,cache:null,shash:null,scount:null,useCache:null,useEnumIndex:null,toString:function(){return this.buf.b},serializeString:function(e){var t=this.shash.h[e];if(null!=t)return this.buf.b+="R",void(this.buf.b+=null==t?"null":""+t);this.shash.h[e]=this.scount++,this.buf.b+="y",e=encodeURIComponent(e),this.buf.b+=f.string(e.length),this.buf.b+=":",this.buf.b+=null==e?"null":""+e},serializeRef:function(e){for(var t=typeof e,r=0,i=this.cache.length;r<i;){var n=r++,a=this.cache[n];if(typeof a==t&&a==e)return this.buf.b+="r",this.buf.b+=null==n?"null":""+n,!0}return this.cache.push(e),!1},serializeFields:function(e){for(var t=0,r=d.fields(e);t<r.length;){var i=r[t];++t,this.serializeString(i),this.serialize(d.field(e,i))}this.buf.b+="g"},serialize:function(e){switch((B=y.typeof(e))._hx_index){case 0:this.buf.b+="n";break;case 1:if(0==(t=e))return void(this.buf.b+="z");this.buf.b+="i",this.buf.b+=null==t?"null":""+t;break;case 2:var t=e;isNaN(t)?this.buf.b+="k":isFinite(t)?(this.buf.b+="d",this.buf.b+=null==t?"null":""+t):this.buf.b+=t<0?"m":"p";break;case 3:this.buf.b+=e?"t":"f";break;case 4:if(ar.__instanceof(e,gr)){var r=e.__name__;this.buf.b+="A",this.serializeString(r)}else if(ar.__instanceof(e,vr))this.buf.b+="B",this.serializeString(e.__ename__);else{if(this.useCache&&this.serializeRef(e))return;this.buf.b+="o",this.serializeFields(e)}break;case 5:throw ct.thrown("Cannot serialize function");case 6:var i=B.c;if(i==String)return void this.serializeString(e);if(this.useCache&&this.serializeRef(e))return;switch(i){case Array:var n=0;this.buf.b+="a";for(var a=0,l=e.length;a<l;)null==e[m=a++]?++n:(0<n&&(1==n?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==n?"null":""+n),n=0),this.serialize(e[m]));0<n&&(1==n?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==n?"null":""+n)),this.buf.b+="h";break;case Date:var o=e;this.buf.b+="v",this.buf.b+=f.string(o.getTime());break;case zt:this.buf.b+="q";for(var u=(t=e).keys();u.hasNext();){var h=u.next();this.buf.b+=":",this.buf.b+=null==h?"null":""+h,this.serialize(t.h[h])}this.buf.b+="h";break;case kt:this.buf.b+="l";for(var c=(t=e).h;null!=c;){var p=c.item;c=c.next;var m=p;this.serialize(m)}this.buf.b+="h";break;case Ft:for(this.buf.b+="M",u=(t=e).keys();u.hasNext();){h=u.next();var g=d.field(h,"__id__");d.deleteField(h,"__id__"),this.serialize(h),h.__id__=g,this.serialize(t.h[h.__id__])}this.buf.b+="h";break;case C:this.buf.b+="b";for(var v=(t=e).h,A=Object.keys(v),b=A.length,T=0;T<b;)u=A[T++],this.serializeString(u),this.serialize(t.h[u]);this.buf.b+="h";break;case wt:t=e,this.buf.b+="s",this.buf.b+=f.string(Math.ceil(8*t.length/6)),this.buf.b+=":",m=0;var w=t.length-2,x=vt.BASE64_CODES;if(null==x){for(x=new Array(vt.BASE64.length),a=0,l=vt.BASE64.length;a<l;){var N=a++;x[N]=_.cca(vt.BASE64,N)}vt.BASE64_CODES=x}for(;m<w;){var S=t.b[m++],E=t.b[m++],z=t.b[m++];this.buf.b+=String.fromCodePoint(x[S>>2]),this.buf.b+=String.fromCodePoint(x[63&(S<<4|E>>4)]),this.buf.b+=String.fromCodePoint(x[63&(E<<2|z>>6)]),this.buf.b+=String.fromCodePoint(x[63&z])}m==w?(S=t.b[m++],E=t.b[m++],this.buf.b+=String.fromCodePoint(x[S>>2]),this.buf.b+=String.fromCodePoint(x[63&(S<<4|E>>4)]),this.buf.b+=String.fromCodePoint(x[E<<2&63])):m==w+1&&(S=t.b[m++],this.buf.b+=String.fromCodePoint(x[S>>2]),this.buf.b+=String.fromCodePoint(x[S<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=e.hxSerialize?(this.buf.b+="C",this.serializeString(i.__name__),this.useCache&&this.cache.push(e),e.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(i.__name__),this.useCache&&this.cache.push(e),this.serializeFields(e))}break;case 7:var k=B.e;if(this.useCache){if(this.serializeRef(e))return;this.cache.pop()}this.buf.b+=f.string(this.useEnumIndex?"j":"w"),this.serializeString(k.__ename__),this.useEnumIndex?(this.buf.b+=":",this.buf.b+=f.string(e._hx_index)):(k=e,this.serializeString(s[k.__enum__].__constructs__[k._hx_index]._hx_name)),this.buf.b+=":";var I=y.enumParameters(e);this.buf.b+=f.string(I.length);for(var B=0;B<I.length;){var F=I[B];++B,this.serialize(F)}this.useCache&&this.cache.push(e);break;default:throw ct.thrown("Cannot serialize "+f.string(e))}},__class__:vt};var At=function(e){var t=this;this.id=setInterval((function(){t.run()}),e)};(n["haxe.Timer"]=At).__name__="haxe.Timer",At.delay=function(e,t){var r=new At(t);return r.run=function(){r.stop(),e()},r},At.prototype={id:null,stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:At};var yt=function(){};(n["haxe._Unserializer.DefaultResolver"]=yt).__name__="haxe._Unserializer.DefaultResolver",yt.prototype={resolveClass:function(e){return n[e]},resolveEnum:function(e){return s[e]},__class__:yt};var bt=function(e){this.buf=e,this.length=this.buf.length,this.pos=0,this.scache=[],this.cache=[];var t=bt.DEFAULT_RESOLVER;null==t&&(t=new yt,bt.DEFAULT_RESOLVER=t),this.resolver=t};(n["haxe.Unserializer"]=bt).__name__="haxe.Unserializer",bt.initCodes=function(){for(var e=[],t=0,r=bt.BASE64.length;t<r;){var i=t++;e[bt.BASE64.charCodeAt(i)]=i}return e},bt.prototype={buf:null,pos:null,length:null,cache:null,scache:null,resolver:null,readDigits:function(){for(var e=0,t=!1,r=this.pos;;){var i=this.buf.charCodeAt(this.pos);if(i!=i)break;if(45!=i){if(i<48||57<i)break;e=10*e+(i-48),this.pos++}else{if(this.pos!=r)break;t=!0,this.pos++}}return t&&(e*=-1),e},readFloat:function(){for(var e=this.pos;;){var t=this.buf.charCodeAt(this.pos);if(t!=t)break;if(!(43<=t&&t<58||101==t||69==t))break;this.pos++}return parseFloat(_.substr(this.buf,e,this.pos-e))},unserializeObject:function(e){for(;;){if(this.pos>=this.length)throw ct.thrown("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var t=this.unserialize();if("string"!=typeof t)throw ct.thrown("Invalid object key");var r=this.unserialize();e[t]=r}this.pos++},unserializeEnum:function(e,t){if(58!=this.buf.charCodeAt(this.pos++))throw ct.thrown("Invalid enum format");var r=this.readDigits();if(0==r)return y.createEnum(e,t);for(var i=[];0<r--;)i.push(this.unserialize());return y.createEnum(e,t,i)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var e=this.unserialize();if(null==(o=this.resolver.resolveClass(e)))throw ct.thrown("Class not found "+e);return o;case 66:if(e=this.unserialize(),null==(f=this.resolver.resolveEnum(e)))throw ct.thrown("Enum not found "+e);return f;case 67:if(e=this.unserialize(),null==(o=this.resolver.resolveClass(e)))throw ct.thrown("Class not found "+e);var t=Object.create(o.prototype);if(this.cache.push(t),t.hxUnserialize(this),103!=this.buf.charCodeAt(this.pos++))throw ct.thrown("Invalid custom data");return t;case 77:var r=new Ft;this.cache.push(r);for(var i=this.buf;104!=this.buf.charCodeAt(this.pos);){var n=this.unserialize();r.set(n,this.unserialize())}return this.pos++,r;case 82:if((s=this.readDigits())<0||s>=this.scache.length)throw ct.thrown("Invalid string reference");return this.scache[s];case 97:i=this.buf;var a=[];for(this.cache.push(a);;){if(104==(v=this.buf.charCodeAt(this.pos))){this.pos++;break}if(117==v){this.pos++;var s=this.readDigits();a[a.length+s-1]=null}else a.push(this.unserialize())}return a;case 98:for(r=new C,this.cache.push(r),i=this.buf;104!=this.buf.charCodeAt(this.pos);){n=this.unserialize();var l=this.unserialize();r.h[n]=l}return this.pos++,r;case 99:var o;if(e=this.unserialize(),null==(o=this.resolver.resolveClass(e)))throw ct.thrown("Class not found "+e);return t=Object.create(o.prototype),this.cache.push(t),this.unserializeObject(t),t;case 100:return this.readFloat();case 102:return!1;case 105:return this.readDigits();case 106:if(e=this.unserialize(),null==(B=this.resolver.resolveEnum(e)))throw ct.thrown("Enum not found "+e);this.pos++;for(var u=this.readDigits(),h=B.__constructs__,c=new Array(h.length),p=0,m=h.length;p<m;)c[A=p++]=h[A]._hx_name;var d=c[u];if(null==d)throw ct.thrown("Unknown enum index "+e+"@"+u);var f=this.unserializeEnum(B,d);return this.cache.push(f),f;case 107:return NaN;case 108:var g=new kt;for(this.cache.push(g),i=this.buf;104!=this.buf.charCodeAt(this.pos);)g.add(this.unserialize());return this.pos++,g;case 109:return-1/0;case 110:return null;case 111:return t={},this.cache.push(t),this.unserializeObject(t),t;case 112:return 1/0;case 113:r=new zt,this.cache.push(r),i=this.buf;for(var v=this.buf.charCodeAt(this.pos++);58==v;){var A=this.readDigits();l=this.unserialize(),r.h[A]=l,v=this.buf.charCodeAt(this.pos++)}if(104!=v)throw ct.thrown("Invalid IntMap format");return r;case 114:if((s=this.readDigits())<0||s>=this.cache.length)throw ct.thrown("Invalid reference");return this.cache[s];case 115:var y=this.readDigits();if(i=this.buf,58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<y)throw ct.thrown("Invalid bytes length");var b=bt.CODES;null==b&&(b=bt.initCodes(),bt.CODES=b);for(var T=3&y,w=(A=this.pos)+(y-T),x=new wt(new ArrayBuffer(3*(y>>2)+(2<=T?T-1:0))),N=0;A<w;){var S=b[i.charCodeAt(A++)],E=b[i.charCodeAt(A++)];x.b[N++]=S<<2|E>>4;var z=b[i.charCodeAt(A++)];x.b[N++]=E<<4|z>>2;var k=b[i.charCodeAt(A++)];x.b[N++]=z<<6|k}return 2<=T&&(S=b[i.charCodeAt(A++)],E=b[i.charCodeAt(A++)],x.b[N++]=S<<2|E>>4,3==T&&(z=b[i.charCodeAt(A++)],x.b[N++]=E<<4|z>>2)),this.pos+=y,this.cache.push(x),x;case 116:return!0;case 118:var I;return 48<=this.buf.charCodeAt(this.pos)&&this.buf.charCodeAt(this.pos)<=57&&48<=this.buf.charCodeAt(this.pos+1)&&this.buf.charCodeAt(this.pos+1)<=57&&48<=this.buf.charCodeAt(this.pos+2)&&this.buf.charCodeAt(this.pos+2)<=57&&48<=this.buf.charCodeAt(this.pos+3)&&this.buf.charCodeAt(this.pos+3)<=57&&45==this.buf.charCodeAt(this.pos+4)?(I=_.strDate(_.substr(this.buf,this.pos,19)),this.pos+=19):I=new Date(this.readFloat()),this.cache.push(I),I;case 119:var B;if(e=this.unserialize(),null==(B=this.resolver.resolveEnum(e)))throw ct.thrown("Enum not found "+e);return f=this.unserializeEnum(B,this.unserialize()),this.cache.push(f),f;case 120:throw ct.thrown(this.unserialize());case 121:if(y=this.readDigits(),58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<y)throw ct.thrown("Invalid string length");return n=_.substr(this.buf,this.pos,y),this.pos+=y,n=decodeURIComponent(n.split("+").join(" ")),this.scache.push(n),n;case 122:return 0}throw this.pos--,ct.thrown("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos)},__class__:bt};var Tt=function(e,t,r){ct.call(this,String(e),t,r),this.value=e,this.__skipStack++};(n["haxe.ValueException"]=Tt).__name__="haxe.ValueException",Tt.__super__=ct,Tt.prototype=l(ct.prototype,{value:null,unwrap:function(){return this.value},__class__:Tt});var wt=function(e){this.length=e.byteLength,this.b=new Uint8Array(e),(this.b.bufferValue=e).hxBytes=this,e.bytes=this.b};(n["haxe.io.Bytes"]=wt).__name__="haxe.io.Bytes",wt.ofString=function(e,t){if(t==xt.RawNative){for(var r=new Uint8Array(e.length<<1),i=0,n=e.length;i<n;){var a=i++,s=e.charCodeAt(a);r[a<<1]=255&s,r[a<<1|1]=s>>8}return new wt(r.buffer)}var l=[];for(a=0;a<e.length;)55296<=(s=e.charCodeAt(a++))&&s<=56319&&(s=s-55232<<10|1023&e.charCodeAt(a++)),s<=127?l.push(s):(s<=2047?l.push(192|s>>6):(s<=65535?l.push(224|s>>12):(l.push(240|s>>18),l.push(128|s>>12&63)),l.push(128|s>>6&63)),l.push(128|63&s));return new wt(new Uint8Array(l).buffer)},wt.ofData=function(e){var t=e.hxBytes;return null!=t?t:new wt(e)},wt.prototype={length:null,b:null,sub:function(e,t){if(e<0||t<0||e+t>this.length)throw ct.thrown(Rt.OutsideBounds);return new wt(this.b.buffer.slice(e+this.b.byteOffset,e+this.b.byteOffset+t))},getString:function(e,t,r){if(e<0||t<0||e+t>this.length)throw ct.thrown(Rt.OutsideBounds);null==r&&(r=xt.UTF8);var i="",n=this.b,a=e,s=e+t;switch(r._hx_index){case 0:for(;a<s;)if((h=n[a++])<128){if(0==h)break;i+=String.fromCodePoint(h)}else if(h<224){var l=(63&h)<<6|127&n[a++];i+=String.fromCodePoint(l)}else if(h<240){var o=(31&h)<<12|(127&n[a++])<<6|127&n[a++];i+=String.fromCodePoint(o)}else{var u=(15&h)<<18|(127&n[a++])<<12|(127&n[a++])<<6|127&n[a++];i+=String.fromCodePoint(u)}break;case 1:for(;a<s;){var h=n[a++]|n[a++]<<8;i+=String.fromCodePoint(h)}}return i},toString:function(){return this.getString(0,this.length)},toHex:function(){for(var e="",t=[],r="0123456789abcdef",i=0,n=r.length;i<n;){var a=i++;t.push(_.cca(r,a))}for(i=0,n=this.length;i<n;){a=i++;var s=this.b[a];e+=String.fromCodePoint(t[s>>4]),e+=String.fromCodePoint(t[15&s])}return e},__class__:wt};var xt=s["haxe.io.Encoding"]={__ename__:"haxe.io.Encoding",__constructs__:null,UTF8:{_hx_name:"UTF8",_hx_index:0,__enum__:"haxe.io.Encoding",toString:a},RawNative:{_hx_name:"RawNative",_hx_index:1,__enum__:"haxe.io.Encoding",toString:a}};xt.__constructs__=[xt.UTF8,xt.RawNative];var Nt=function(){};(n["haxe.crypto.Base64"]=Nt).__name__="haxe.crypto.Base64",Nt.encode=function(e,t){null==t&&(t=!0);var r=new St(Nt.BYTES).encodeBytes(e).toString();if(t)switch(e.length%3){case 1:r+="==";break;case 2:r+="="}return r},Nt.decode=function(e,t){if(null==t&&(t=!0),t)for(;61==_.cca(e,e.length-1);)e=_.substr(e,0,-1);return new St(Nt.BYTES).decodeBytes(wt.ofString(e))};var St=function(e){for(var t=e.length,r=1;1<<r<t;)++r;if(8<r||t!=1<<r)throw ct.thrown("BaseCode : base length must be a power of two.");this.base=e,this.nbits=r};(n["haxe.crypto.BaseCode"]=St).__name__="haxe.crypto.BaseCode",St.prototype={base:null,nbits:null,tbl:null,encodeBytes:function(e){for(var t=this.nbits,r=this.base,i=8*e.length/t|0,n=new wt(new ArrayBuffer(i+(8*e.length%t==0?0:1))),a=0,s=0,l=(1<<t)-1,o=0,u=0;u<i;){for(;s<t;)s+=8,a<<=8,a|=e.b[o++];s-=t,n.b[u++]=r.b[a>>s&l]}return 0<s&&(n.b[u++]=r.b[a<<t-s&l]),n},initTable:function(){for(var e=[],t=0;t<256;)e[i=t++]=-1;t=0;for(var r=this.base.length;t<r;){var i=t++;e[this.base.b[i]]=i}this.tbl=e},decodeBytes:function(e){var t=this.nbits;this.base,null==this.tbl&&this.initTable();for(var r=this.tbl,i=e.length*t>>3,n=new wt(new ArrayBuffer(i)),a=0,s=0,l=0,o=0;o<i;){for(;s<8;){s+=t,a<<=t;var u=r[e.b[l++]];if(-1==u)throw ct.thrown("BaseCode : invalid encoded char");a|=u}s-=8,n.b[o++]=a>>s&255}return n},__class__:St};var Et=function(){};(n["haxe.crypto.Sha1"]=Et).__name__="haxe.crypto.Sha1",Et.make=function(e){var t=(new Et).doEncode(Et.bytes2blks(e)),r=new wt(new ArrayBuffer(20)),i=0;return r.b[i++]=t[0]>>>24,r.b[i++]=t[0]>>16&255,r.b[i++]=t[0]>>8&255,r.b[i++]=255&t[0],r.b[i++]=t[1]>>>24,r.b[i++]=t[1]>>16&255,r.b[i++]=t[1]>>8&255,r.b[i++]=255&t[1],r.b[i++]=t[2]>>>24,r.b[i++]=t[2]>>16&255,r.b[i++]=t[2]>>8&255,r.b[i++]=255&t[2],r.b[i++]=t[3]>>>24,r.b[i++]=t[3]>>16&255,r.b[i++]=t[3]>>8&255,r.b[i++]=255&t[3],r.b[i++]=t[4]>>>24,r.b[i++]=t[4]>>16&255,r.b[i++]=t[4]>>8&255,r.b[i++]=255&t[4],r},Et.bytes2blks=function(e){for(var t=1+(e.length+8>>6),r=[],i=0,n=16*t;i<n;)r[a=i++]=0;for(i=0,n=e.length;i<n;)r[(a=i++)>>2]|=e.b[a]<<24-((3&a)<<3);var a;return r[(a=e.length)>>2]|=128<<24-((3&a)<<3),r[16*t-1]=8*e.length,r},Et.prototype={doEncode:function(e){for(var t=[],r=1732584193,i=-271733879,n=-1732584194,a=271733878,s=-1009589776,l=0;l<e.length;){for(var o=r,u=i,h=n,c=a,p=s,_=0;_<80;){if(_<16)t[_]=e[l+_];else{var m=t[_-3]^t[_-8]^t[_-14]^t[_-16];t[_]=m<<1|m>>>31}var d=(r<<5|r>>>27)+this.ft(_,i,n,a)+s+t[_]+this.kt(_);s=a,a=n,n=i<<30|i>>>2,i=r,r=d,++_}r+=o,i+=u,n+=h,a+=c,s+=p,l+=16}return[r,i,n,a,s]},ft:function(e,t,r,i){return e<20?t&r|~t&i:e<40?t^r^i:e<60?t&r|t&i|r&i:t^r^i},kt:function(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514},__class__:Et};var zt=function(){this.h={}};(n["haxe.ds.IntMap"]=zt).__name__="haxe.ds.IntMap",zt.__interfaces__=[O],zt.prototype={h:null,keys:function(){var e=[];for(var t in this.h)this.h.hasOwnProperty(t)&&e.push(0|t);return new Lt(e)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var e=this.it.next();return this.ref[e]}}},__class__:zt};var kt=function(){this.length=0};(n["haxe.ds.List"]=kt).__name__="haxe.ds.List",kt.prototype={h:null,q:null,length:null,add:function(e){var t=new It(e,null);null==this.h?this.h=t:this.q.next=t,this.q=t,this.length++},pop:function(){if(null==this.h)return null;var e=this.h.item;return this.h=this.h.next,null==this.h&&(this.q=null),this.length--,e},isEmpty:function(){return null==this.h},remove:function(e){for(var t=null,r=this.h;null!=r;){if(r.item==e)return null==t?this.h=r.next:t.next=r.next,this.q==r&&(this.q=t),this.length--,!0;r=(t=r).next}return!1},iterator:function(){return new Bt(this.h)},filter:function(e){for(var t=new kt,r=this.h;null!=r;){var i=r.item;r=r.next,e(i)&&t.add(i)}return t},__class__:kt};var It=function(e,t){this.item=e,this.next=t};(n["haxe.ds._List.ListNode"]=It).__name__="haxe.ds._List.ListNode",It.prototype={item:null,next:null,__class__:It};var Bt=function(e){this.head=e};(n["haxe.ds._List.ListIterator"]=Bt).__name__="haxe.ds._List.ListIterator",Bt.prototype={head:null,hasNext:function(){return null!=this.head},next:function(){var e=this.head.item;return this.head=this.head.next,e},__class__:Bt};var Ft=function(){this.h={__keys__:{}}};(n["haxe.ds.ObjectMap"]=Ft).__name__="haxe.ds.ObjectMap",Ft.__interfaces__=[O],Ft.prototype={h:null,set:function(e,r){var i=e.__id__;null==i&&(i=e.__id__=t.$haxeUID++),this.h[i]=r,this.h.__keys__[i]=e},keys:function(){var e=[];for(var t in this.h.__keys__)this.h.hasOwnProperty(t)&&e.push(this.h.__keys__[t]);return new Lt(e)},__class__:Ft};var Ot=function(e){this.str=e,this.pos=0};(n["haxe.format.JsonParser"]=Ot).__name__="haxe.format.JsonParser",Ot.prototype={str:null,pos:null,doParse:function(){for(var e,t=this.parseRec();(e=this.str.charCodeAt(this.pos++))==e;)switch(e){case 9:case 10:case 13:case 32:break;default:this.invalidChar()}return t},parseRec:function(){for(;;){var e=this.str.charCodeAt(this.pos++);switch(e){case 9:case 10:case 13:case 32:break;case 34:return this.parseString();case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:for(var t=e,r=this.pos-1,i=45==t,n=!i,a=48==t,s=!1,l=!1,o=!1,u=!1;;){switch(t=this.str.charCodeAt(this.pos++)){case 43:case 45:l&&!o||this.invalidNumber(r),o=!(n=!1);break;case 46:(i||s||l)&&this.invalidNumber(r),s=!(n=!1);break;case 48:a&&!s&&this.invalidNumber(r),i&&(a=!(i=!1)),n=!0;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:a&&!s&&this.invalidNumber(r),i&&(i=!1),a=!(n=!0);break;case 69:case 101:(i||a||l)&&this.invalidNumber(r),l=!(n=!1);break;default:n||this.invalidNumber(r),this.pos--,u=!0}if(u)break}var h=parseFloat(_.substr(this.str,r,this.pos-r));if(s)return h;var c=0|h;return c==h?c:h;case 91:for(var p=[],m=null;;)switch(this.str.charCodeAt(this.pos++)){case 9:case 10:case 13:case 32:break;case 44:m?m=!1:this.invalidChar();break;case 93:return 0==m&&this.invalidChar(),p;default:m&&this.invalidChar(),this.pos--,p.push(this.parseRec()),m=!0}break;case 102:var d=this.pos;return 97==this.str.charCodeAt(this.pos++)&&108==this.str.charCodeAt(this.pos++)&&115==this.str.charCodeAt(this.pos++)&&101==this.str.charCodeAt(this.pos++)||(this.pos=d,this.invalidChar()),!1;case 110:var f=this.pos;return 117==this.str.charCodeAt(this.pos++)&&108==this.str.charCodeAt(this.pos++)&&108==this.str.charCodeAt(this.pos++)||(this.pos=f,this.invalidChar()),null;case 116:var g=this.pos;return 114==this.str.charCodeAt(this.pos++)&&117==this.str.charCodeAt(this.pos++)&&101==this.str.charCodeAt(this.pos++)||(this.pos=g,this.invalidChar()),!0;case 123:for(var v={},A=null,y=null;;)switch(this.str.charCodeAt(this.pos++)){case 9:case 10:case 13:case 32:break;case 34:(null!=A||y)&&this.invalidChar(),A=this.parseString();break;case 44:y?y=!1:this.invalidChar();break;case 58:null==A&&this.invalidChar(),v[A]=this.parseRec(),y=!(A=null);break;case 125:return null==A&&0!=y||this.invalidChar(),v;default:this.invalidChar()}break;default:this.invalidChar()}}},parseString:function(){for(var e=this.pos,t=null,r=-1;;){var i=this.str.charCodeAt(this.pos++);if(34==i)break;if(92==i){null==t&&(t=new g);var n=this.str,a=this.pos-e-1;switch(t.b+=null==a?_.substr(n,e,null):_.substr(n,e,a),117!=(i=this.str.charCodeAt(this.pos++))&&-1!=r&&(t.b+=String.fromCodePoint(65533),r=-1),i){case 34:case 47:case 92:t.b+=String.fromCodePoint(i);break;case 98:t.b+=String.fromCodePoint(8);break;case 102:t.b+=String.fromCodePoint(12);break;case 110:t.b+=String.fromCodePoint(10);break;case 114:t.b+=String.fromCodePoint(13);break;case 116:t.b+=String.fromCodePoint(9);break;case 117:var s=f.parseInt("0x"+_.substr(this.str,this.pos,4));this.pos+=4,-1!=r?(t.b+=s<56320||57343<s?String.fromCodePoint(65533):String.fromCodePoint(s-56320+(r-55296<<10)+65536),r=-1):55296<=s&&s<=56319?r=s:t.b+=String.fromCodePoint(s);break;default:throw ct.thrown("Invalid escape sequence \\"+String.fromCodePoint(i)+" at position "+(this.pos-1))}e=this.pos}else if(i!=i)throw ct.thrown("Unclosed string")}return-1!=r&&(t.b+=String.fromCodePoint(65533),r=-1),null==t?_.substr(this.str,e,this.pos-e-1):(n=this.str,a=this.pos-e-1,t.b+=null==a?_.substr(n,e,null):_.substr(n,e,a),t.b)},invalidChar:function(){throw this.pos--,ct.thrown("Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos)},invalidNumber:function(e){throw ct.thrown("Invalid number at position "+e+": "+_.substr(this.str,e,this.pos-e))},__class__:Ot};var Ct=function(e,t){this.replacer=e,this.indent=t,this.pretty=null!=t,this.nind=0,this.buf=new g};(n["haxe.format.JsonPrinter"]=Ct).__name__="haxe.format.JsonPrinter",Ct.print=function(e,t,r){var i=new Ct(t,r);return i.write("",e),i.buf.b},Ct.prototype={buf:null,replacer:null,indent:null,pretty:null,nind:null,write:function(e,t){null!=this.replacer&&(t=this.replacer(e,t));var r=y.typeof(t);switch(r._hx_index){case 0:this.buf.b+="null";break;case 1:this.buf.b+=f.string(t);break;case 2:var i=isFinite(t)?f.string(t):"null";this.buf.b+=f.string(i);break;case 3:this.buf.b+=f.string(t);break;case 4:this.fieldsString(t,d.fields(t));break;case 5:this.buf.b+='"<fun>"';break;case 6:var n=r.c;if(n==String)this.quote(t);else if(n==Array){i=t,this.buf.b+=String.fromCodePoint(91);for(var a=i.length,s=a-1,l=0,o=a;l<o;){if(0<(b=l++)?this.buf.b+=String.fromCodePoint(44):this.nind++,this.pretty&&(this.buf.b+=String.fromCodePoint(10)),this.pretty){var u=v.lpad("",this.indent,this.nind*this.indent.length);this.buf.b+=f.string(u)}if(this.write(b,i[b]),b==s&&(this.nind--,this.pretty&&(this.buf.b+=String.fromCodePoint(10)),this.pretty)){var h=v.lpad("",this.indent,this.nind*this.indent.length);this.buf.b+=f.string(h)}}this.buf.b+=String.fromCodePoint(93)}else if(n==C){for(var c={},p=(i=t).h,m=Object.keys(p),g=m.length,A=0;A<g;)c[e=m[A++]]=i.h[e];i=c,this.fieldsString(i,d.fields(i))}else n==Date?(i=t,this.quote(_.dateStr(i))):this.classString(t);break;case 7:l=r.e;var b=t._hx_index;this.buf.b+=f.string(b);break;case 8:this.buf.b+='"???"'}},classString:function(e){this.fieldsString(e,y.getInstanceFields(ar.getClass(e)))},fieldsString:function(e,t){this.buf.b+=String.fromCodePoint(123);for(var r=t.length,i=r-1,n=!0,a=0,s=r;a<s;){var l=a++,o=t[l],u=d.field(e,o);if(!d.isFunction(u)){if(n?(this.nind++,n=!1):this.buf.b+=String.fromCodePoint(44),this.pretty&&(this.buf.b+=String.fromCodePoint(10)),this.pretty){var h=v.lpad("",this.indent,this.nind*this.indent.length);this.buf.b+=f.string(h)}if(this.quote(o),this.buf.b+=String.fromCodePoint(58),this.pretty&&(this.buf.b+=String.fromCodePoint(32)),this.write(o,u),l==i&&(this.nind--,this.pretty&&(this.buf.b+=String.fromCodePoint(10)),this.pretty)){var c=v.lpad("",this.indent,this.nind*this.indent.length);this.buf.b+=f.string(c)}}}this.buf.b+=String.fromCodePoint(125)},quote:function(e){this.buf.b+=String.fromCodePoint(34);for(var t=0,r=e.length;t<r;){var i=e.charCodeAt(t++);switch(i){case 8:this.buf.b+="\\b";break;case 9:this.buf.b+="\\t";break;case 10:this.buf.b+="\\n";break;case 12:this.buf.b+="\\f";break;case 13:this.buf.b+="\\r";break;case 34:this.buf.b+='\\"';break;case 92:this.buf.b+="\\\\";break;default:this.buf.b+=String.fromCodePoint(i)}}this.buf.b+=String.fromCodePoint(34)},__class__:Ct};var Pt=function(){this.pos=0,this.size=0};(n["haxe.io.BytesBuffer"]=Pt).__name__="haxe.io.BytesBuffer",Pt.prototype={buffer:null,view:null,u8:null,pos:null,size:null,addBytes:function(e,t,r){if(t<0||r<0||t+r>e.length)throw ct.thrown(Rt.OutsideBounds);if(this.pos+r>this.size&&this.grow(r),0!=this.size){var i=new Uint8Array(e.b.buffer,e.b.byteOffset+t,r);this.u8.set(i,this.pos),this.pos+=r}},grow:function(e){for(var t=this.pos+e,r=0==this.size?16:this.size;r<t;)r=3*r>>1;var i=new ArrayBuffer(r),n=new Uint8Array(i);0<this.size&&n.set(this.u8),this.size=r,this.buffer=i,this.u8=n,this.view=new DataView(this.buffer)},getBytes:function(){if(0==this.size)return new wt(new ArrayBuffer(0));var e=new wt(this.buffer);return e.length=this.pos,e},__class__:Pt};var Rt=s["haxe.io.Error"]={__ename__:"haxe.io.Error",__constructs__:null,Blocked:{_hx_name:"Blocked",_hx_index:0,__enum__:"haxe.io.Error",toString:a},Overflow:{_hx_name:"Overflow",_hx_index:1,__enum__:"haxe.io.Error",toString:a},OutsideBounds:{_hx_name:"OutsideBounds",_hx_index:2,__enum__:"haxe.io.Error",toString:a},Custom:(i=function(e){return{_hx_index:3,e:e,__enum__:"haxe.io.Error",toString:a}},i._hx_name="Custom",i.__params__=["e"],i)};Rt.__constructs__=[Rt.Blocked,Rt.Overflow,Rt.OutsideBounds,Rt.Custom];var Dt={fromBytes:function(e,t,r){return null==t&&(t=0),null==r&&(r=e.length-t),new Uint8Array(e.b.bufferValue,t,r)}},Lt=function(e){this.current=0,this.array=e};(n["haxe.iterators.ArrayIterator"]=Lt).__name__="haxe.iterators.ArrayIterator",Lt.prototype={array:null,current:null,hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:Lt};var Ut=function(e){this.cause=e,this.causeStackTrace=ht.exceptionStack()};(n["hx.concurrent.ConcurrentException"]=Ut).__name__="hx.concurrent.ConcurrentException",Ut.prototype={cause:null,causeStackTrace:null,toString:function(){var e="";e+="rethrown exception:\n",e+="  ",e+="--------------------\n",e+="  ",e+="| Exception : ",e+=f.string(this.cause),e+="\n";for(var t=0,r=ht.toString(this.causeStackTrace).split("\n");t<r.length;){var i=r[t];++t,""!=i&&(e+="  ",e+=f.string(v.replace(i,"Called from","| at")),e+="\n")}return(e+="  ")+"--------------------"},__class__:Ut};var Mt=function(){};(n["hx.concurrent.Future"]=Mt).__name__="hx.concurrent.Future",Mt.__isInterface__=!0;var Kt=s["hx.concurrent.FutureResult"]={__ename__:"hx.concurrent.FutureResult",__constructs__:null,SUCCESS:(i=function(e,t,r){return{_hx_index:0,result:e,time:t,future:r,__enum__:"hx.concurrent.FutureResult",toString:a}},i._hx_name="SUCCESS",i.__params__=["result","time","future"],i),FAILURE:(i=function(e,t,r){return{_hx_index:1,ex:e,time:t,future:r,__enum__:"hx.concurrent.FutureResult",toString:a}},i._hx_name="FAILURE",i.__params__=["ex","time","future"],i),NONE:(i=function(e){return{_hx_index:2,future:e,__enum__:"hx.concurrent.FutureResult",toString:a}},i._hx_name="NONE",i.__params__=["future"],i)};Kt.__constructs__=[Kt.SUCCESS,Kt.FAILURE,Kt.NONE];var Vt=function(){this.result=Kt.NONE(this)};(n["hx.concurrent.FutureBase"]=Vt).__name__="hx.concurrent.FutureBase",Vt.__interfaces__=[Mt],Vt.prototype={result:null,onResult:null,__class__:Vt};var qt=function(){};(n["hx.concurrent.Service"]=qt).__name__="hx.concurrent.Service",qt.__isInterface__=!0;var Gt=s["hx.concurrent.ServiceState"]={__ename__:"hx.concurrent.ServiceState",__constructs__:null,STARTING:{_hx_name:"STARTING",_hx_index:0,__enum__:"hx.concurrent.ServiceState",toString:a},RUNNING:{_hx_name:"RUNNING",_hx_index:1,__enum__:"hx.concurrent.ServiceState",toString:a},STOPPING:{_hx_name:"STOPPING",_hx_index:2,__enum__:"hx.concurrent.ServiceState",toString:a},STOPPED:{_hx_name:"STOPPED",_hx_index:3,__enum__:"hx.concurrent.ServiceState",toString:a}};Gt.__constructs__=[Gt.STARTING,Gt.RUNNING,Gt.STOPPING,Gt.STOPPED];var Yt=function(){this._stateLock=new ir,this.state=Gt.STOPPED,this.id=Yt._ids.incrementAndGet(),ft.trace("["+f.string(this)+"] instantiated.",{fileName:"hx/concurrent/Service.hx",lineNumber:56,className:"hx.concurrent.ServiceBase",methodName:"new"})};(n["hx.concurrent.ServiceBase"]=Yt).__name__="hx.concurrent.ServiceBase",Yt.__interfaces__=[qt],Yt.prototype={id:null,state:null,set_state:function(e){switch(e._hx_index){case 0:ft.trace("["+f.string(this)+"] is starting...",{fileName:"hx/concurrent/Service.hx",lineNumber:45,className:"hx.concurrent.ServiceBase",methodName:"set_state"});break;case 1:ft.trace("["+f.string(this)+"] is running.",{fileName:"hx/concurrent/Service.hx",lineNumber:46,className:"hx.concurrent.ServiceBase",methodName:"set_state"});break;case 2:ft.trace("["+f.string(this)+"] is stopping...",{fileName:"hx/concurrent/Service.hx",lineNumber:47,className:"hx.concurrent.ServiceBase",methodName:"set_state"});break;case 3:ft.trace("["+f.string(this)+"] is stopped.",{fileName:"hx/concurrent/Service.hx",lineNumber:48,className:"hx.concurrent.ServiceBase",methodName:"set_state"})}return this.state=e},_stateLock:null,start:function(){var e=this;this._stateLock.execute((function(){switch(e.state._hx_index){case 0:case 1:break;case 2:throw ct.thrown("Service ["+f.string(e)+"] is currently stopping!");case 3:e.set_state(Gt.STARTING),e.onStart(),e.set_state(Gt.RUNNING)}}))},onStart:function(){},toString:function(){return ar.getClass(this).__name__+"#"+this.id},__class__:Yt,__properties__:{set_state:"set_state"}};var jt=s["hx.concurrent.executor.Schedule"]={__ename__:"hx.concurrent.executor.Schedule",__constructs__:null,ONCE:(i=function(e){return{_hx_index:0,initialDelayMS:e,__enum__:"hx.concurrent.executor.Schedule",toString:a}},i._hx_name="ONCE",i.__params__=["initialDelayMS"],i),FIXED_DELAY:(i=function(e,t){return{_hx_index:1,intervalMS:e,initialDelayMS:t,__enum__:"hx.concurrent.executor.Schedule",toString:a}},i._hx_name="FIXED_DELAY",i.__params__=["intervalMS","initialDelayMS"],i),FIXED_RATE:(i=function(e,t){return{_hx_index:2,intervalMS:e,initialDelayMS:t,__enum__:"hx.concurrent.executor.Schedule",toString:a}},i._hx_name="FIXED_RATE",i.__params__=["intervalMS","initialDelayMS"],i),HOURLY:(i=function(e,t){return{_hx_index:3,minute:e,second:t,__enum__:"hx.concurrent.executor.Schedule",toString:a}},i._hx_name="HOURLY",i.__params__=["minute","second"],i),DAILY:(i=function(e,t,r){return{_hx_index:4,hour:e,minute:t,second:r,__enum__:"hx.concurrent.executor.Schedule",toString:a}},i._hx_name="DAILY",i.__params__=["hour","minute","second"],i),WEEKLY:(i=function(e,t,r,i){return{_hx_index:5,day:e,hour:t,minute:r,second:i,__enum__:"hx.concurrent.executor.Schedule",toString:a}},i._hx_name="WEEKLY",i.__params__=["day","hour","minute","second"],i)};jt.__constructs__=[jt.ONCE,jt.FIXED_DELAY,jt.FIXED_RATE,jt.HOURLY,jt.DAILY,jt.WEEKLY];var Ht=function(){this.onResult=function(e){if(1==e._hx_index){e.time,e.future;var t=e.ex;ft.trace(t,{fileName:"hx/concurrent/executor/Executor.hx",lineNumber:45,className:"hx.concurrent.executor.Executor",methodName:"onResult"})}},Yt.call(this)};(n["hx.concurrent.executor.Executor"]=Ht).__name__="hx.concurrent.executor.Executor",Ht.create=function(e,t){return null==t&&(t=!0),null==e&&(e=1),new Xt(t)},Ht.__super__=Yt,Ht.prototype=l(Yt.prototype,{onResult:null,submit:function(e,t){throw ct.thrown("Not implemented")},__class__:Ht});var Jt=function(){};(n["hx.concurrent.executor.TaskFuture"]=Jt).__name__="hx.concurrent.executor.TaskFuture",Jt.__isInterface__=!0,Jt.__interfaces__=[Mt];var Zt=function(e,t,r){this.isStopped=!1,Vt.call(this),this._executor=e,this._task=t,this.schedule=Wt.assertValid(r)};(n["hx.concurrent.executor.TaskFutureBase"]=Zt).__name__="hx.concurrent.executor.TaskFutureBase",Zt.__interfaces__=[Jt],Zt.__super__=Vt,Zt.prototype=l(Vt.prototype,{schedule:null,isStopped:null,_executor:null,_task:null,__class__:Zt});var Wt=function(){};(n["hx.concurrent.executor.ScheduleTools"]=Wt).__name__="hx.concurrent.executor.ScheduleTools",Wt.applyDefaults=function(e){switch(e._hx_index){case 0:if(null==e.initialDelayMS)return jt.ONCE(0);break;case 1:var t=e.intervalMS;if(null==e.initialDelayMS)return jt.FIXED_DELAY(t,0);break;case 2:if(t=e.intervalMS,null==e.initialDelayMS)return jt.FIXED_RATE(t,0);break;case 3:var r=e.minute,i=e.second;if(null==r||null==i)return jt.HOURLY(null==r?0:r,null==i?0:i);break;case 4:var n=e.hour;if(r=e.minute,i=e.second,null==n||null==r||null==i)return jt.DAILY(null==n?0:n,null==r?0:r,null==i?0:i);break;case 5:var a=e.day;if(n=e.hour,r=e.minute,i=e.second,null==a||null==n||null==r||null==i)return jt.WEEKLY(null==a?0:a,null==n?0:n,null==r?0:r,null==i?0:i)}return e},Wt.assertValid=function(e){switch((e=Wt.applyDefaults(e))._hx_index){case 0:if((r=e.initialDelayMS)<0)throw ct.thrown("[Schedule.ONCE.initialDelayMS] must be >= 0");break;case 1:var t=e.intervalMS,r=e.initialDelayMS;if(t<=0)throw ct.thrown("[Schedule.FIXED_DELAY.intervalMS] must be > 0");if(null==r||r<0)throw ct.thrown("[Schedule.FIXED_DELAY.initialDelayMS] must be >= 0");break;case 2:if(t=e.intervalMS,r=e.initialDelayMS,t<=0)throw ct.thrown("[Schedule.FIXED_RATE.intervalMS] must be > 0");if(r<0)throw ct.thrown("[Schedule.FIXED_RATE.initialDelayMS] must be >= 0");break;case 3:var i=e.minute,n=e.second;if(null==i||i<0)throw ct.thrown("[Schedule.DAILY.minute] must be between >= 0 and <= 59");if(null==n||n<0)throw ct.thrown("[Schedule.DAILY.second] must be between >= 0 and <= 59");break;case 4:var a=e.hour;if(i=e.minute,n=e.second,null==a||a<0)throw ct.thrown("[Schedule.DAILY.hour] must be between >= 0 and <= 23");if(null==i||i<0)throw ct.thrown("[Schedule.DAILY.minute] must be between >= 0 and <= 59");if(null==n||n<0)throw ct.thrown("[Schedule.DAILY.second] must be between >= 0 and <= 59");break;case 5:if(e.day,a=e.hour,i=e.minute,n=e.second,null==a||a<0)throw ct.thrown("[Schedule.WEEKLY.hour] must be between >= 0 and <= 23");if(null==i||i<0)throw ct.thrown("[Schedule.WEEKLY.minute] must be between >= 0 and <= 59");if(null==n||n<0)throw ct.thrown("[Schedule.WEEKLY.second] must be between >= 0 and <= 59")}return e},Wt.firstRunAt=function(e){switch((e=Wt.assertValid(e))._hx_index){case 0:var t=e.initialDelayMS;return Date.now()+t;case 1:case 2:return e.intervalMS,t=e.initialDelayMS,Date.now()+t;case 3:var r=e.minute,i=e.second,n=Date.now(),a=60*r+i,s=60*(o=new Date(n)).getMinutes()+o.getSeconds();return n+1e3*(a-s)+(a<s?36e5:0);case 4:var l=e.hour;return r=e.minute,i=e.second,(n=Date.now())+1e3*((h=60*l*60+60*r+i)-(c=60*(o=new Date(n)).getHours()*60+60*o.getMinutes()+o.getSeconds()))+(h<c?864e5:0);case 5:var o,u=e.day,h=(l=e.hour,r=e.minute,i=e.second,n=Date.now(),60*l*60+60*r+i),c=60*(o=new Date(n)).getHours()*60+60*o.getMinutes()+o.getSeconds(),p=u;return p==o.getDay()?n+1e3*(h-c)+(h<c?6048e5:0):o.getDate()<p?n+1e3*(h-c)+864e5*(p-o.getDate()):n+1e3*(h-c)+864e5*(7-(p-o.getDate()))}};var Xt=function(e){null==e&&(e=!0),this._scheduledTasks=[],Ht.call(this),e&&this.start()};(n["hx.concurrent.executor.TimerExecutor"]=Xt).__name__="hx.concurrent.executor.TimerExecutor",Xt.__super__=Ht,Xt.prototype=l(Ht.prototype,{_scheduledTasks:null,submit:function(e,t){var r=this;return this._stateLock.execute((function(){if(r.state!=Gt.RUNNING)throw ct.thrown("Cannot accept new tasks. Executor is not in state [RUNNING] but ["+f.string(r.state)+"].");for(var i=r._scheduledTasks.length;0<i--;)r._scheduledTasks[i].isStopped&&r._scheduledTasks.splice(i,1);var n=new $t(r,e,null==t?Ht.NOW_ONCE:t);if(null==t)r._scheduledTasks.push(n);else if(0==t._hx_index){var a=t.initialDelayMS;(null==a||0!=a)&&r._scheduledTasks.push(n)}else r._scheduledTasks.push(n);return n}))},__class__:Xt});var $t=function(e,t,r){Zt.call(this,e,t,r);var i=Wt.firstRunAt(this.schedule)-Date.now()|0;i<0&&(i=0),At.delay(cr(this,this.run),i)};(n["hx.concurrent.executor._TimerExecutor.TaskFutureImpl"]=$t).__name__="hx.concurrent.executor._TimerExecutor.TaskFutureImpl",$t.__super__=Zt,$t.prototype=l(Zt.prototype,{_timer:null,run:function(){if(!this.isStopped){if(null==this._timer){var e=null;switch((n=this.schedule)._hx_index){case 2:n.initialDelayMS;var t=n.intervalMS;(e=new At(t)).run=cr(this,this.run);break;case 3:n.minute,n.second,(e=new At(36e5)).run=cr(this,this.run);break;case 4:n.hour,n.minute,n.second,(e=new At(864e5)).run=cr(this,this.run);break;case 5:n.day,n.hour,n.minute,n.second,(e=new At(6048e5)).run=cr(this,this.run)}this._timer=e}var r=Kt.NONE(this);try{var i,n;switch((n=this._task)._hx_index){case 0:i=(a=n.v)();break;case 1:var a;(a=n.v)(),i=null}r=Kt.SUCCESS(i,Date.now(),this)}catch(n){gt.lastError=n;var s=ct.caught(n).unwrap();r=Kt.FAILURE(new Ut(s),Date.now(),this)}switch((n=this.schedule)._hx_index){case 0:n.initialDelayMS,this.isStopped=!0;break;case 1:n.initialDelayMS,t=n.intervalMS,this._timer=At.delay(cr(this,this.run),t)}if(this.result=r,null!=(a=this.onResult))try{a(r)}catch(n){gt.lastError=n,s=ct.caught(n).unwrap(),ft.trace(s,{fileName:"hx/concurrent/executor/TimerExecutor.hx",lineNumber:114,className:"hx.concurrent.executor._TimerExecutor.TaskFutureImpl",methodName:"run"})}if(null!=(a=this._executor.onResult))try{a(r)}catch(n){gt.lastError=n,s=ct.caught(n).unwrap(),ft.trace(s,{fileName:"hx/concurrent/executor/TimerExecutor.hx",lineNumber:116,className:"hx.concurrent.executor._TimerExecutor.TaskFutureImpl",methodName:"run"})}}},__class__:$t});var Qt=s["hx.concurrent.internal._Either2._Either2"]={__ename__:"hx.concurrent.internal._Either2._Either2",__constructs__:null,a:(i=function(e){return{_hx_index:0,v:e,__enum__:"hx.concurrent.internal._Either2._Either2",toString:a}},i._hx_name="a",i.__params__=["v"],i),b:(i=function(e){return{_hx_index:1,v:e,__enum__:"hx.concurrent.internal._Either2._Either2",toString:a}},i._hx_name="b",i.__params__=["v"],i)};Qt.__constructs__=[Qt.a,Qt.b];var er=s["hx.concurrent.internal._Either3._Either3"]={__ename__:"hx.concurrent.internal._Either3._Either3",__constructs__:null,a:(i=function(e){return{_hx_index:0,v:e,__enum__:"hx.concurrent.internal._Either3._Either3",toString:a}},i._hx_name="a",i.__params__=["v"],i),b:(i=function(e){return{_hx_index:1,v:e,__enum__:"hx.concurrent.internal._Either3._Either3",toString:a}},i._hx_name="b",i.__params__=["v"],i),c:(i=function(e){return{_hx_index:2,v:e,__enum__:"hx.concurrent.internal._Either3._Either3",toString:a}},i._hx_name="c",i.__params__=["v"],i)};er.__constructs__=[er.a,er.b,er.c];var tr=function(){};(n["hx.concurrent.lock.Acquirable"]=tr).__name__="hx.concurrent.lock.Acquirable",tr.__isInterface__=!0;var rr=function(){};(n["hx.concurrent.lock.AbstractAcquirable"]=rr).__name__="hx.concurrent.lock.AbstractAcquirable",rr.__interfaces__=[tr],rr.prototype={release:null,acquire:null,execute:function(e,t){null==t&&(t=!1);var r=null,i=null;this.acquire();try{i=e()}catch(e){gt.lastError=e;var n=ct.caught(e).unwrap();r=new Ut(n)}if(this.release(),!t&&null!=r)throw ct.thrown(r.toString());return i},__class__:rr};var ir=function(){this._holderEntranceCount=0,this._holder=null};(n["hx.concurrent.lock.RLock"]=ir).__name__="hx.concurrent.lock.RLock",ir.__super__=rr,ir.prototype=l(rr.prototype,{_holder:null,_holderEntranceCount:null,acquire:function(){this._holder=nr.get_current(),this._holderEntranceCount++},release:function(){if(this._holder!=nr.get_current())throw null!=this._holder&&this._holder!=nr.get_current()?ct.thrown("Lock was aquired by another thread!"):ct.thrown("Lock was not aquired by any thread!");this._holderEntranceCount--,0==this._holderEntranceCount&&(this._holder=null)},__class__:ir});var nr=function(){};(n["hx.concurrent.thread.Threads"]=nr).__name__="hx.concurrent.thread.Threads",nr.__properties__={get_current:"get_current"},nr.get_current=function(){return"MainThread"};var ar=function(){};(n["js.Boot"]=ar).__name__="js.Boot",ar.getClass=function(e){if(null==e)return null;if(e instanceof Array)return Array;var t=e.__class__;if(null!=t)return t;var r=ar.__nativeClassName(e);return null!=r?ar.__resolveNativeClass(r):null},ar.__string_rec=function(e,t){if(null==e)return"null";if(5<=t.length)return"<...>";var r=typeof e;switch("function"==r&&(e.__name__||e.__ename__)&&(r="object"),r){case"function":return"<function>";case"object":if(e.__enum__){var i=s[e.__enum__].__constructs__[e._hx_index],n=i._hx_name;return i.__params__?(t+="\t",n+"("+function(r){for(var n=[],a=0,s=i.__params__;a<s.length;){var l=s[a];a+=1,n.push(ar.__string_rec(e[l],t))}return n}().join(",")+")"):n}if(e instanceof Array){var a="[";t+="\t";for(var l=0,o=e.length;l<o;){var u=l++;a+=(0<u?",":"")+ar.__string_rec(e[u],t)}return a+"]"}var h;try{h=e.toString}catch(l){return gt.lastError=l,"???"}if(null!=h&&h!=Object.toString&&"function"==typeof h){var c=e.toString();if("[object Object]"!=c)return c}a="{\n",t+="\t";var p=null!=e.hasOwnProperty,_=null;for(_ in e)p&&!e.hasOwnProperty(_)||"prototype"!=_&&"__class__"!=_&&"__super__"!=_&&"__interfaces__"!=_&&"__properties__"!=_&&(2!=a.length&&(a+=", \n"),a+=t+_+" : "+ar.__string_rec(e[_],t));return a+"\n"+(t=t.substring(1))+"}";case"string":return e;default:return String(e)}},ar.__interfLoop=function(e,t){if(null==e)return!1;if(e==t)return!0;var r=e.__interfaces__;if(null!=r)for(var i=0,n=r.length;i<n;){var a=r[i++];if(a==t||ar.__interfLoop(a,t))return!0}return ar.__interfLoop(e.__super__,t)},ar.__instanceof=function(e,t){if(null==t)return!1;switch(t){case Array:return e instanceof Array;case fr:return"boolean"==typeof e;case mr:return null!=e;case dr:return"number"==typeof e;case _r:return"number"==typeof e&&(0|e)===e;case String:return"string"==typeof e;default:if(null==e)return!1;if("function"==typeof t){if(ar.__downcastCheck(e,t))return!0}else if("object"==typeof t&&ar.__isNativeObj(t)&&e instanceof t)return!0;return t==gr&&null!=e.__name__||t==vr&&null!=e.__ename__||null!=e.__enum__&&s[e.__enum__]==t}},ar.__downcastCheck=function(e,t){return e instanceof t||!!t.__isInterface__&&ar.__interfLoop(ar.getClass(e),t)},ar.__cast=function(e,t){if(null==e||ar.__instanceof(e,t))return e;throw ct.thrown("Cannot cast "+f.string(e)+" to "+f.string(t))},ar.__nativeClassName=function(e){var t=ar.__toStr.call(e).slice(8,-1);return"Object"==t||"Function"==t||"Math"==t||"JSON"==t?null:t},ar.__isNativeObj=function(e){return null!=ar.__nativeClassName(e)},ar.__resolveNativeClass=function(e){return t[e]};var sr=function(){};(n["js.Browser"]=sr).__name__="js.Browser",sr.__properties__={get_supported:"get_supported"},sr.get_supported=function(){return"undefined"!=typeof window&&void 0!==window.location&&"string"==typeof window.location.protocol};var lr=function(){};(n["js.lib._ArrayBuffer.ArrayBufferCompat"]=lr).__name__="js.lib._ArrayBuffer.ArrayBufferCompat",lr.sliceImpl=function(e,t){var r=new Uint8Array(this,e,null==t?null:t-e),i=new Uint8Array(r.byteLength);return i.set(r),i.buffer};var or={stringToVersion:function(e){if(!or.VERSION.match(e))throw ct.thrown('Invalid SemVer format for "'+e+'"');return{version:[f.parseInt(or.VERSION.matched(1)),f.parseInt(or.VERSION.matched(2)),f.parseInt(or.VERSION.matched(3))],pre:or.parseIdentifiers(or.VERSION.matched(4)),build:or.parseIdentifiers(or.VERSION.matched(5))}},equals:function(e,t){return e.version[0]==t.version[0]&&e.version[1]==t.version[1]&&e.version[2]==t.version[2]&&or.equalsIdentifiers(e.pre,t.pre)},greaterThan:function(e,t){return 0<e.pre.length&&0<t.pre.length?e.version[0]==t.version[0]&&e.version[1]==t.version[1]&&e.version[2]==t.version[2]&&or.greaterThanIdentifiers(e.pre,t.pre):0<t.pre.length?e.version[0]!=t.version[0]?e.version[0]>t.version[0]:e.version[1]!=t.version[1]?e.version[1]>t.version[1]:e.version[2]!=t.version[2]?e.version[2]>t.version[2]:!(0<e.pre.length)||or.greaterThanIdentifiers(e.pre,t.pre):e.pre.length<=0&&(e.version[0]!=t.version[0]?e.version[0]>t.version[0]:e.version[1]!=t.version[1]?e.version[1]>t.version[1]:e.version[2]!=t.version[2]?e.version[2]>t.version[2]:or.greaterThanIdentifiers(e.pre,t.pre))},greaterThanOrEqual:function(e,t){return!!or.equals(e,t)||or.greaterThan(e,t)},lessThan:function(e,t){return!or.greaterThanOrEqual(e,t)},lessThanOrEqual:function(e,t){return!or.greaterThan(e,t)},parseIdentifiers:function(e){for(var t=(null==e?"":e).split("."),r=or.sanitize,i=new Array(t.length),n=0,a=t.length;n<a;)i[o=n++]=r(t[o]);n=[],a=0;for(var s=i;a<s.length;){var l=s[a];++a,""!=l&&n.push(l)}for(t=n,r=or.parseIdentifier,i=new Array(t.length),n=0,a=t.length;n<a;){var o;i[o=n++]=r(t[o])}return i},parseIdentifier:function(e){var t=f.parseInt(e);return null==t?ur.StringId(e):ur.IntId(t)},equalsIdentifiers:function(e,t){if(e.length!=t.length)return!1;for(var r=0,i=e.length;r<i;){var n=r++,a=e[n],s=t[n];switch(a._hx_index){case 0:if(0==s._hx_index){var l=s.value;if(a.value!=l)return!1}break;case 1:if(1==s._hx_index){var o=s.value;if(a.value!=o)return!1}}}return!0},greaterThanIdentifiers:function(e,t){for(var r=0,i=e.length;r<i;){var n=r++,a=e[n],s=t[n];switch(a._hx_index){case 0:var l=a.value;switch(s._hx_index){case 0:var o=s.value;if(l==o)continue;return o<l;case 1:return s.value,!0;default:return!1}break;case 1:var u=a.value;if(1==s._hx_index){var h=s.value;if(u==h)continue;return h<u}return!1;default:return!1}}return!1},sanitize:function(e){return e.replace(or.SANITIZER.r,"")}},ur=s["thx.semver.Identifier"]={__ename__:"thx.semver.Identifier",__constructs__:null,StringId:(i=function(e){return{_hx_index:0,value:e,__enum__:"thx.semver.Identifier",toString:a}},i._hx_name="StringId",i.__params__=["value"],i),IntId:(i=function(e){return{_hx_index:1,value:e,__enum__:"thx.semver.Identifier",toString:a}},i._hx_name="IntId",i.__params__=["value"],i)};function hr(e){return e instanceof Array?new Lt(e):e.iterator()}function cr(e,r){return null==r?null:(null==r.__id__&&(r.__id__=t.$haxeUID++),null==e.hx__closures__?e.hx__closures__={}:i=e.hx__closures__[r.__id__],null==i&&(i=r.bind(e),e.hx__closures__[r.__id__]=i),i);var i}ur.__constructs__=[ur.StringId,ur.IntId],t.$haxeUID|=0,"undefined"!=typeof performance&&"function"==typeof performance.now&&(_.now=performance.now.bind(performance)),n.Math=Math,null==String.fromCodePoint&&(String.fromCodePoint=function(e){return e<65536?String.fromCharCode(e):String.fromCharCode(55232+(e>>10))+String.fromCharCode(56320+(1023&e))}),String.prototype.__class__=n.String=String,String.__name__="String",n.Array=Array,Array.__name__="Array",Date.prototype.__class__=n.Date=Date,Date.__name__="Date";var pr,_r={},mr={},dr=Number,fr=Boolean,gr={},vr={};Ft.count=0,ar.__toStr={}.toString,null==ArrayBuffer.prototype.slice&&(ArrayBuffer.prototype.slice=lr.sliceImpl),N.SYSTEM_DATA_LOCK=N.getNewLock("system_data_lock"),N.METADATA_LOCK=N.getNewLock("meta_data_lock"),N.CHECK_TIME_LOCK=N.getNewLock("last_check_time_lock"),N.INITIALIZATION=N.getNewLock("initialize_lock"),S.resultsLock=N.getNewLock("datastore_results_lock"),E.LOG_LEVEL_VERBOSE=0,E.LOG_LEVEL_DEBUG=1,E.LOG_LEVEL_INFO=2,E.LOG_LEVEL_WARN=3,E.LOG_LEVEL_ERROR=4,E.LOG_LEVEL_NONE=5,E.logLevel=E.LOG_LEVEL_VERBOSE,E.useTraceForLogging=!1,z.kABTEventSourceApptimize="a",z.kABTValueEventKey="value",z._state=0,M.MAX_FAILURE_DELAY_MS=6e4,M.DEFAULT_FAILURE_DELAY_MS=1e3,M._failureDelayMs=(null==(pr=M.DEFAULT_FAILURE_DELAY_MS)&&(pr=0),new F(pr)),M._pendingMap=new C,M._pendingResults=P(),M._postDispatch=new U("Results Post Dispatch Queue"),M._loadedPending=!1,M.PENDING_LOCK=N.getNewLock("pending_results_key"),$.kABTFilterKeyValue="value",$.kABTFilterKeyType="type",$.kABTFilterKeyProperty="property",$.kABTFilterKeyOperator="operator",$.kABTFilterKeyPropertySource="propertySource",$.kABTFilterKeyCallServerInputs="callServerInputs",$.kABTFilterKeyCallURLKey="callServerUrlKey",$.kABTFilterKeyUserAttribute="userAttribute",$.kABTFilterKeyPrefixedAttribute="prefixedAttribute",$.kABTFilterKeyNamedFilter="namedFilter",se.__meta__={statics:{ABTEvaluateString:{static:null},ABTEvaluateBool:{static:null},ABTEvaluateNumber:{static:null}}},ce.kABTNamedFilterKeyFilterName="filterName",ce.kABTNamedFilterKeyTrueIsSticky="trueIsSticky",ce.kABTNamedFilterKeyFalseIsSticky="falseIsSticky",ce.kABTNamedFilterKeyNullIsSticky="nullIsSticky",ke.RESULT_ENTRY_CREATION_LOCK=N.getNewLock("result_entry_creation_lock_key"),Ve.compressionPrefix="ABTGZIP+",Ge.ALL_LATENCY=2,Ge.kMetadataKey="METADATA_KEY",Ge.kUserIDKey="USER_ID_KEY",Ge.kAnonymousGuidKey="ANONYMOUS_GUID_KEY",Ge.kCustomPropertiesKey="CUSTOM_PROPERTIES_KEY",Ge.kInternalPropertiesKey="INTERNAL_PROPERTIES_KEY",Ge.kResultLogsKey="RESULT_LOGS_KEY",Ge.kResultPostsListKey="RESULT_POSTS_LIST_KEY",Ge.kResultEntrySequenceKey="RESULT_ENTRY_SEQUENCE_KEY",Ge.kResultEntryTimestampKey="RESULT_ENTRY_TIMESTAMP_KEY",Ge.kApptimizeVersionKey="APPTIMIZE_VERSION_KEY",Ge.kResultLastSubmitTimeKey="RESULT_LAST_SUBMIT_TIME_KEY",Ge.kMetadataLastCheckTimeKey="METADATA_LAST_CHECK_TIME_KEY",Ge.kDisabledVersions="DISABLED_VERSIONS_KEY",je._sigilForApplicationNamespace="$",He.META_DATA_URL_KEY="meta_data_url",He.META_DATA_URL_LL_KEY="meta_data_ll_url",He.META_DATA_URL_HL_KEY="meta_data_hl_url",He.LOG_LEVEL_KEY="log_level",He.FOREGROUND_PERIOD_MS_KEY="foreground_period_ms",He.RESULT_POST_DELAY_MS_KEY="result_post_delay_ms",He.THREADING_ENABLED_KEY="threading_enabled",He.RESULT_POST_THREAD_POOL_SIZE_KEY="result_post_thread_pool_size",He.ALTERATION_CACHE_SIZE_KEY="alteration_cache_size",He.RESULTS_CACHE_SIZE_KEY="results_cache_size",He.MAXIMUM_RESULT_ENTRIES_KEY="maximum_result_entries",He.MAXIMUM_PENDING_RESULTS_KEY="maximum_pending_results",He.METADATA_POLLING_INTERVAL_MS_KEY="metadata_polling_interval_ms",He.METADATA_POLLING_BACKGROUND_INTERVAL_MS_KEY="metadata_polling_background_interval_ms",He.EXCEPTIONS_ENABLED_KEY="exceptions_enabled",He.MAXIMUM_RESULT_POST_FAILURE_KEY="maximum_result_failures",He.MAXIMUM_RESULT_POST_SENDER_TIMEOUT_MS_KEY="maximum_result_post_sender_timeout_ms",He.STORAGE_TYPE_KEY="storage_type",He.AUTOMATIC_SHUTDOWN_HOOK="automatic_shutdown_hook",He.APPTIMIZE_ENVIRONMENT_KEY="apptimize_environment",He.APPTIMIZE_REGION_KEY="apptimize_region",He.COMPRESS_PERSISTENCE_STORE_KEY="compress_persistence_store",He.GROUPS_BASE_URL_KEY="groups_base_url",He.REACT_NATIVE_STORAGE_KEY="react_native_storage",He.LOCAL_DISK_STORAGE_PATH_KEY="local_disk_storage_path",nt.kBrowserNameUnknown="Unknown",nt.kBrowserNameChrome="Chrome",nt.kBrowserNameFirefox="Firefox",nt.kBrowserNameSafari="Safari",nt.kBrowserNameInternetExplorer="Internet Explorer",nt.kBrowserAndroidWebViewGeneral=" Version/",nt.kBrowserAndroidWebViewPreK=" Android ",nt.kBrowserAndroidWebViewKtoL=" Mobile ",nt.kBrowserAndroidWebViewLAbove=" wv",nt.kBrowserChrome="Chrome",nt.kBrowserChromeiOS="CriOS",nt.kBrowserChromium=" Chromium",nt.kBrowserEdge="Edge",nt.kBrowserEdgeiOS="EdgiOS",nt.kBrowserEdgeAndroid="EdgA",nt.kBrowserFirefox="Firefox",nt.kBrowserFirefoxiOS="FxiOS",nt.kBrowserInternetExplorer="MSIE",nt.kBrowserInternetExplorer11="Trident",nt.kBrowserSafari="Safari",nt.kBrowserSeaMonkey="SeaMonkey",nt.kBrowserOpera="Opera",nt.kBrowserOperaNew=" OPR",nt.kBrowserUnknown="Unknown",nt.kDeviceCategoryDesktop="Desktop",nt.kDeviceCategoryTablet="Tablet",nt.kDeviceCategoryMobile="Mobile",pt._mul=null!=Math.imul?Math.imul:function(e,t){return e*(65535&t)+(e*(t>>>16)<<16|0)|0},vt.USE_CACHE=!1,vt.USE_ENUM_INDEX=!1,vt.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",bt.DEFAULT_RESOLVER=new yt,bt.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:",Nt.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Nt.BYTES=wt.ofString(Nt.CHARS),Yt._ids=new F(0),Ht.NOW_ONCE=jt.ONCE(0),or.VERSION=new p("^(\\d+)\\.(\\d+)\\.(\\d+)(?:[-]([a-z0-9.-]+))?(?:[+]([a-z0-9.-]+))?$","i"),or.SANITIZER=new p("[^0-9A-Za-z-]","g")}(t,"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:this)}).call(this,r(55))},624:function(e,t,r){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},633:function(e,t,r){"use strict";e.exports=function(e,t,r,i){for(var n=65535&e|0,a=e>>>16&65535|0,s=0;0!==r;){r-=s=r>2e3?2e3:r;do{a=a+(n=n+t[i++]|0)|0}while(--s);n%=65521,a%=65521}return n|a<<16|0}},634:function(e,t,r){"use strict";var i=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();e.exports=function(e,t,r,n){var a=i,s=n+r;e^=-1;for(var l=n;l<s;l++)e=e>>>8^a[255&(e^t[l])];return-1^e}},635:function(e,t,r){"use strict";var i=r(519),n=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){n=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var s=new i.Buf8(256),l=0;l<256;l++)s[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;function o(e,t){if(t<65534&&(e.subarray&&a||!e.subarray&&n))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var r="",s=0;s<t;s++)r+=String.fromCharCode(e[s]);return r}s[254]=s[254]=1,t.string2buf=function(e){var t,r,n,a,s,l=e.length,o=0;for(a=0;a<l;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<l&&56320==(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new i.Buf8(o),s=0,a=0;s<o;a++)55296==(64512&(r=e.charCodeAt(a)))&&a+1<l&&56320==(64512&(n=e.charCodeAt(a+1)))&&(r=65536+(r-55296<<10)+(n-56320),a++),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|63&r):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|63&r):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|63&r);return t},t.buf2binstring=function(e){return o(e,e.length)},t.binstring2buf=function(e){for(var t=new i.Buf8(e.length),r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t},t.buf2string=function(e,t){var r,i,n,a,l=t||e.length,u=new Array(2*l);for(i=0,r=0;r<l;)if((n=e[r++])<128)u[i++]=n;else if((a=s[n])>4)u[i++]=65533,r+=a-1;else{for(n&=2===a?31:3===a?15:7;a>1&&r<l;)n=n<<6|63&e[r++],a--;a>1?u[i++]=65533:n<65536?u[i++]=n:(n-=65536,u[i++]=55296|n>>10&1023,u[i++]=56320|1023&n)}return o(u,i)},t.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+s[e[r]]>t?r:t}},636:function(e,t,r){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},637:function(e,t,r){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},685:function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},686:function(e,t,r){"use strict";var i=new RegExp("%[a-f0-9]{2}","gi"),n=new RegExp("(%[a-f0-9]{2})+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],a(r),a(i))}function s(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(i),r=1;r<t.length;r++)t=(e=a(t,r).join("")).match(i);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=n.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var i=s(r[0]);i!==r[0]&&(t[r[0]]=i)}r=n.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),l=0;l<a.length;l++){var o=a[l];e=e.replace(new RegExp(o,"g"),t[o])}return e}(e)}}},692:function(e,t,r){"use strict";var i={};(0,r(519).assign)(i,r(693),r(696),r(637)),e.exports=i},693:function(e,t,r){"use strict";var i=r(694),n=r(519),a=r(635),s=r(624),l=r(636),o=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=n.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var r=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==r)throw new Error(s[r]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var h;if(h="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===o.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(r=i.deflateSetDictionary(this.strm,h)))throw new Error(s[r]);this._dict_set=!0}}function h(e,t){var r=new u(t);if(r.push(e,!0),r.err)throw r.msg||s[r.err];return r.result}u.prototype.push=function(e,t){var r,s,l=this.strm,u=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?l.input=a.string2buf(e):"[object ArrayBuffer]"===o.call(e)?l.input=new Uint8Array(e):l.input=e,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new n.Buf8(u),l.next_out=0,l.avail_out=u),1!==(r=i.deflate(l,s))&&0!==r)return this.onEnd(r),this.ended=!0,!1;0!==l.avail_out&&(0!==l.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(a.buf2binstring(n.shrinkBuf(l.output,l.next_out))):this.onData(n.shrinkBuf(l.output,l.next_out)))}while((l.avail_in>0||0===l.avail_out)&&1!==r);return 4===s?(r=i.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):2!==s||(this.onEnd(0),l.avail_out=0,!0)},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=u,t.deflate=h,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,h(e,t)}},694:function(e,t,r){"use strict";var i,n=r(519),a=r(695),s=r(633),l=r(634),o=r(624);function u(e,t){return e.msg=o[t],t}function h(e){return(e<<1)-(e>4?9:0)}function c(e){for(var t=e.length;--t>=0;)e[t]=0}function p(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(n.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function _(e,t){a._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,p(e.strm)}function m(e,t){e.pending_buf[e.pending++]=t}function d(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function f(e,t){var r,i,n=e.max_chain_length,a=e.strstart,s=e.prev_length,l=e.nice_match,o=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,h=e.w_mask,c=e.prev,p=e.strstart+258,_=u[a+s-1],m=u[a+s];e.prev_length>=e.good_match&&(n>>=2),l>e.lookahead&&(l=e.lookahead);do{if(u[(r=t)+s]===m&&u[r+s-1]===_&&u[r]===u[a]&&u[++r]===u[a+1]){a+=2,r++;do{}while(u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&a<p);if(i=258-(p-a),a=p-258,i>s){if(e.match_start=t,s=i,i>=l)break;_=u[a+s-1],m=u[a+s]}}}while((t=c[t&h])>o&&0!=--n);return s<=e.lookahead?s:e.lookahead}function g(e){var t,r,i,a,o,u,h,c,p,_,m=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=m+(m-262)){n.arraySet(e.window,e.window,m,m,0),e.match_start-=m,e.strstart-=m,e.block_start-=m,t=r=e.hash_size;do{i=e.head[--t],e.head[t]=i>=m?i-m:0}while(--r);t=r=m;do{i=e.prev[--t],e.prev[t]=i>=m?i-m:0}while(--r);a+=m}if(0===e.strm.avail_in)break;if(u=e.strm,h=e.window,c=e.strstart+e.lookahead,p=a,_=void 0,(_=u.avail_in)>p&&(_=p),r=0===_?0:(u.avail_in-=_,n.arraySet(h,u.input,u.next_in,_,c),1===u.state.wrap?u.adler=s(u.adler,h,_,c):2===u.state.wrap&&(u.adler=l(u.adler,h,_,c)),u.next_in+=_,u.total_in+=_,_),e.lookahead+=r,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+3-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function v(e,t){for(var r,i;;){if(e.lookahead<262){if(g(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=f(e,r)),e.match_length>=3)if(i=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(_(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(_(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(_(e,!1),0===e.strm.avail_out)?1:2}function A(e,t){for(var r,i,n;;){if(e.lookahead<262){if(g(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=f(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-3,i=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(_(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=a._tr_tally(e,0,e.window[e.strstart-1]))&&_(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(_(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(_(e,!1),0===e.strm.avail_out)?1:2}function y(e,t,r,i,n){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=i,this.func=n}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new n.Buf16(1146),this.dyn_dtree=new n.Buf16(122),this.bl_tree=new n.Buf16(78),c(this.dyn_ltree),c(this.dyn_dtree),c(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new n.Buf16(16),this.heap=new n.Buf16(573),c(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new n.Buf16(573),c(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function T(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):u(e,-2)}function w(e){var t,r=T(e);return 0===r&&((t=e.state).window_size=2*t.w_size,c(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r}function x(e,t,r,i,a,s){if(!e)return-2;var l=1;if(-1===t&&(t=6),i<0?(l=0,i=-i):i>15&&(l=2,i-=16),a<1||a>9||8!==r||i<8||i>15||t<0||t>9||s<0||s>4)return u(e,-2);8===i&&(i=9);var o=new b;return e.state=o,o.strm=e,o.wrap=l,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new n.Buf8(2*o.w_size),o.head=new n.Buf16(o.hash_size),o.prev=new n.Buf16(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new n.Buf8(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=s,o.method=r,w(e)}i=[new y(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(g(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+r;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,_(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(_(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(_(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(_(e,!1),e.strm.avail_out),1)})),new y(4,4,8,4,v),new y(4,5,16,8,v),new y(4,6,32,32,v),new y(4,4,16,16,A),new y(8,16,32,32,A),new y(8,16,128,128,A),new y(8,32,128,256,A),new y(32,128,258,1024,A),new y(32,258,258,4096,A)],t.deflateInit=function(e,t){return x(e,t,8,15,8,0)},t.deflateInit2=x,t.deflateReset=w,t.deflateResetKeep=T,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?-2:(e.state.gzhead=t,0):-2},t.deflate=function(e,t){var r,n,s,o;if(!e||!e.state||t>5||t<0)return e?u(e,-2):-2;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||666===n.status&&4!==t)return u(e,0===e.avail_out?-5:-2);if(n.strm=e,r=n.last_flush,n.last_flush=t,42===n.status)if(2===n.wrap)e.adler=0,m(n,31),m(n,139),m(n,8),n.gzhead?(m(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),m(n,255&n.gzhead.time),m(n,n.gzhead.time>>8&255),m(n,n.gzhead.time>>16&255),m(n,n.gzhead.time>>24&255),m(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),m(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(m(n,255&n.gzhead.extra.length),m(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=l(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(m(n,0),m(n,0),m(n,0),m(n,0),m(n,0),m(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),m(n,3),n.status=113);else{var f=8+(n.w_bits-8<<4)<<8;f|=(n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(f|=32),f+=31-f%31,n.status=113,d(n,f),0!==n.strstart&&(d(n,e.adler>>>16),d(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(s=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>s&&(e.adler=l(e.adler,n.pending_buf,n.pending-s,s)),p(e),s=n.pending,n.pending!==n.pending_buf_size));)m(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>s&&(e.adler=l(e.adler,n.pending_buf,n.pending-s,s)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){s=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>s&&(e.adler=l(e.adler,n.pending_buf,n.pending-s,s)),p(e),s=n.pending,n.pending===n.pending_buf_size)){o=1;break}o=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,m(n,o)}while(0!==o);n.gzhead.hcrc&&n.pending>s&&(e.adler=l(e.adler,n.pending_buf,n.pending-s,s)),0===o&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){s=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>s&&(e.adler=l(e.adler,n.pending_buf,n.pending-s,s)),p(e),s=n.pending,n.pending===n.pending_buf_size)){o=1;break}o=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,m(n,o)}while(0!==o);n.gzhead.hcrc&&n.pending>s&&(e.adler=l(e.adler,n.pending_buf,n.pending-s,s)),0===o&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&p(e),n.pending+2<=n.pending_buf_size&&(m(n,255&e.adler),m(n,e.adler>>8&255),e.adler=0,n.status=113)):n.status=113),0!==n.pending){if(p(e),0===e.avail_out)return n.last_flush=-1,0}else if(0===e.avail_in&&h(t)<=h(r)&&4!==t)return u(e,-5);if(666===n.status&&0!==e.avail_in)return u(e,-5);if(0!==e.avail_in||0!==n.lookahead||0!==t&&666!==n.status){var v=2===n.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(g(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(_(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(_(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(_(e,!1),0===e.strm.avail_out)?1:2}(n,t):3===n.strategy?function(e,t){for(var r,i,n,s,l=e.window;;){if(e.lookahead<=258){if(g(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=l[n=e.strstart-1])===l[++n]&&i===l[++n]&&i===l[++n]){s=e.strstart+258;do{}while(i===l[++n]&&i===l[++n]&&i===l[++n]&&i===l[++n]&&i===l[++n]&&i===l[++n]&&i===l[++n]&&i===l[++n]&&n<s);e.match_length=258-(s-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(_(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(_(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(_(e,!1),0===e.strm.avail_out)?1:2}(n,t):i[n.level].func(n,t);if(3!==v&&4!==v||(n.status=666),1===v||3===v)return 0===e.avail_out&&(n.last_flush=-1),0;if(2===v&&(1===t?a._tr_align(n):5!==t&&(a._tr_stored_block(n,0,0,!1),3===t&&(c(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),p(e),0===e.avail_out))return n.last_flush=-1,0}return 4!==t?0:n.wrap<=0?1:(2===n.wrap?(m(n,255&e.adler),m(n,e.adler>>8&255),m(n,e.adler>>16&255),m(n,e.adler>>24&255),m(n,255&e.total_in),m(n,e.total_in>>8&255),m(n,e.total_in>>16&255),m(n,e.total_in>>24&255)):(d(n,e.adler>>>16),d(n,65535&e.adler)),p(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?0:1)},t.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?u(e,-2):(e.state=null,113===t?u(e,-3):0):-2},t.deflateSetDictionary=function(e,t){var r,i,a,l,o,u,h,p,_=t.length;if(!e||!e.state)return-2;if(2===(l=(r=e.state).wrap)||1===l&&42!==r.status||r.lookahead)return-2;for(1===l&&(e.adler=s(e.adler,t,_,0)),r.wrap=0,_>=r.w_size&&(0===l&&(c(r.head),r.strstart=0,r.block_start=0,r.insert=0),p=new n.Buf8(r.w_size),n.arraySet(p,t,_-r.w_size,r.w_size,0),t=p,_=r.w_size),o=e.avail_in,u=e.next_in,h=e.input,e.avail_in=_,e.next_in=0,e.input=t,g(r);r.lookahead>=3;){i=r.strstart,a=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+3-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++}while(--a);r.strstart=i,r.lookahead=2,g(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=u,e.input=h,e.avail_in=o,r.wrap=l,0},t.deflateInfo="pako deflate (from Nodeca project)"},695:function(e,t,r){"use strict";var i=r(519);function n(e){for(var t=e.length;--t>=0;)e[t]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],s=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],o=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);n(u);var h=new Array(60);n(h);var c=new Array(512);n(c);var p=new Array(256);n(p);var _=new Array(29);n(_);var m,d,f,g=new Array(30);function v(e,t,r,i,n){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=e&&e.length}function A(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function y(e){return e<256?c[e]:c[256+(e>>>7)]}function b(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function T(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,b(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function w(e,t,r){T(e,r[2*t],r[2*t+1])}function x(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function N(e,t,r){var i,n,a=new Array(16),s=0;for(i=1;i<=15;i++)a[i]=s=s+r[i-1]<<1;for(n=0;n<=t;n++){var l=e[2*n+1];0!==l&&(e[2*n]=x(a[l]++,l))}}function S(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function E(e){e.bi_valid>8?b(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function z(e,t,r,i){var n=2*t,a=2*r;return e[n]<e[a]||e[n]===e[a]&&i[t]<=i[r]}function k(e,t,r){for(var i=e.heap[r],n=r<<1;n<=e.heap_len&&(n<e.heap_len&&z(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!z(t,i,e.heap[n],e.depth));)e.heap[r]=e.heap[n],r=n,n<<=1;e.heap[r]=i}function I(e,t,r){var i,n,l,o,u=0;if(0!==e.last_lit)do{i=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],n=e.pending_buf[e.l_buf+u],u++,0===i?w(e,n,t):(w(e,(l=p[n])+256+1,t),0!==(o=a[l])&&T(e,n-=_[l],o),w(e,l=y(--i),r),0!==(o=s[l])&&T(e,i-=g[l],o))}while(u<e.last_lit);w(e,256,t)}function B(e,t){var r,i,n,a=t.dyn_tree,s=t.stat_desc.static_tree,l=t.stat_desc.has_stree,o=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<o;r++)0!==a[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)a[2*(n=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[n]=0,e.opt_len--,l&&(e.static_len-=s[2*n+1]);for(t.max_code=u,r=e.heap_len>>1;r>=1;r--)k(e,a,r);n=o;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],k(e,a,1),i=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=i,a[2*n]=a[2*r]+a[2*i],e.depth[n]=(e.depth[r]>=e.depth[i]?e.depth[r]:e.depth[i])+1,a[2*r+1]=a[2*i+1]=n,e.heap[1]=n++,k(e,a,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,i,n,a,s,l,o=t.dyn_tree,u=t.max_code,h=t.stat_desc.static_tree,c=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,_=t.stat_desc.extra_base,m=t.stat_desc.max_length,d=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(o[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(a=o[2*o[2*(i=e.heap[r])+1]+1]+1)>m&&(a=m,d++),o[2*i+1]=a,i>u||(e.bl_count[a]++,s=0,i>=_&&(s=p[i-_]),l=o[2*i],e.opt_len+=l*(a+s),c&&(e.static_len+=l*(h[2*i+1]+s)));if(0!==d){do{for(a=m-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[m]--,d-=2}while(d>0);for(a=m;0!==a;a--)for(i=e.bl_count[a];0!==i;)(n=e.heap[--r])>u||(o[2*n+1]!==a&&(e.opt_len+=(a-o[2*n+1])*o[2*n],o[2*n+1]=a),i--)}}(e,t),N(a,u,e.bl_count)}function F(e,t,r){var i,n,a=-1,s=t[1],l=0,o=7,u=4;for(0===s&&(o=138,u=3),t[2*(r+1)+1]=65535,i=0;i<=r;i++)n=s,s=t[2*(i+1)+1],++l<o&&n===s||(l<u?e.bl_tree[2*n]+=l:0!==n?(n!==a&&e.bl_tree[2*n]++,e.bl_tree[32]++):l<=10?e.bl_tree[34]++:e.bl_tree[36]++,l=0,a=n,0===s?(o=138,u=3):n===s?(o=6,u=3):(o=7,u=4))}function O(e,t,r){var i,n,a=-1,s=t[1],l=0,o=7,u=4;for(0===s&&(o=138,u=3),i=0;i<=r;i++)if(n=s,s=t[2*(i+1)+1],!(++l<o&&n===s)){if(l<u)do{w(e,n,e.bl_tree)}while(0!=--l);else 0!==n?(n!==a&&(w(e,n,e.bl_tree),l--),w(e,16,e.bl_tree),T(e,l-3,2)):l<=10?(w(e,17,e.bl_tree),T(e,l-3,3)):(w(e,18,e.bl_tree),T(e,l-11,7));l=0,a=n,0===s?(o=138,u=3):n===s?(o=6,u=3):(o=7,u=4)}}n(g);var C=!1;function P(e,t,r,n){T(e,0+(n?1:0),3),function(e,t,r,n){E(e),b(e,r),b(e,~r),i.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r)}t._tr_init=function(e){C||(function(){var e,t,r,i,n,o=new Array(16);for(r=0,i=0;i<28;i++)for(_[i]=r,e=0;e<1<<a[i];e++)p[r++]=i;for(p[r-1]=i,n=0,i=0;i<16;i++)for(g[i]=n,e=0;e<1<<s[i];e++)c[n++]=i;for(n>>=7;i<30;i++)for(g[i]=n<<7,e=0;e<1<<s[i]-7;e++)c[256+n++]=i;for(t=0;t<=15;t++)o[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,o[8]++;for(;e<=255;)u[2*e+1]=9,e++,o[9]++;for(;e<=279;)u[2*e+1]=7,e++,o[7]++;for(;e<=287;)u[2*e+1]=8,e++,o[8]++;for(N(u,287,o),e=0;e<30;e++)h[2*e+1]=5,h[2*e]=x(e,5);m=new v(u,a,257,286,15),d=new v(h,s,0,30,15),f=new v(new Array(0),l,0,19,7)}(),C=!0),e.l_desc=new A(e.dyn_ltree,m),e.d_desc=new A(e.dyn_dtree,d),e.bl_desc=new A(e.bl_tree,f),e.bi_buf=0,e.bi_valid=0,S(e)},t._tr_stored_block=P,t._tr_flush_block=function(e,t,r,i){var n,a,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),B(e,e.l_desc),B(e,e.d_desc),s=function(e){var t;for(F(e,e.dyn_ltree,e.l_desc.max_code),F(e,e.dyn_dtree,e.d_desc.max_code),B(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*o[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),n=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=n&&(n=a)):n=a=r+5,r+4<=n&&-1!==t?P(e,t,r,i):4===e.strategy||a===n?(T(e,2+(i?1:0),3),I(e,u,h)):(T(e,4+(i?1:0),3),function(e,t,r,i){var n;for(T(e,t-257,5),T(e,r-1,5),T(e,i-4,4),n=0;n<i;n++)T(e,e.bl_tree[2*o[n]+1],3);O(e,e.dyn_ltree,t-1),O(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),I(e,e.dyn_ltree,e.dyn_dtree)),S(e),i&&E(e)},t._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(p[r]+256+1)]++,e.dyn_dtree[2*y(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){T(e,2,3),w(e,256,u),function(e){16===e.bi_valid?(b(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},696:function(e,t,r){"use strict";var i=r(697),n=r(519),a=r(635),s=r(637),l=r(624),o=r(636),u=r(700),h=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=n.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var r=i.inflateInit2(this.strm,t.windowBits);if(r!==s.Z_OK)throw new Error(l[r]);if(this.header=new u,i.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=a.string2buf(t.dictionary):"[object ArrayBuffer]"===h.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=i.inflateSetDictionary(this.strm,t.dictionary))!==s.Z_OK))throw new Error(l[r])}function p(e,t){var r=new c(t);if(r.push(e,!0),r.err)throw r.msg||l[r.err];return r.result}c.prototype.push=function(e,t){var r,l,o,u,c,p=this.strm,_=this.options.chunkSize,m=this.options.dictionary,d=!1;if(this.ended)return!1;l=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?p.input=a.binstring2buf(e):"[object ArrayBuffer]"===h.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new n.Buf8(_),p.next_out=0,p.avail_out=_),(r=i.inflate(p,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&m&&(r=i.inflateSetDictionary(this.strm,m)),r===s.Z_BUF_ERROR&&!0===d&&(r=s.Z_OK,d=!1),r!==s.Z_STREAM_END&&r!==s.Z_OK)return this.onEnd(r),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&r!==s.Z_STREAM_END&&(0!==p.avail_in||l!==s.Z_FINISH&&l!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(o=a.utf8border(p.output,p.next_out),u=p.next_out-o,c=a.buf2string(p.output,o),p.next_out=u,p.avail_out=_-u,u&&n.arraySet(p.output,p.output,o,u,0),this.onData(c)):this.onData(n.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(d=!0)}while((p.avail_in>0||0===p.avail_out)&&r!==s.Z_STREAM_END);return r===s.Z_STREAM_END&&(l=s.Z_FINISH),l===s.Z_FINISH?(r=i.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===s.Z_OK):l!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),p.avail_out=0,!0)},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=n.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=c,t.inflate=p,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},t.ungzip=p},697:function(e,t,r){"use strict";var i=r(519),n=r(633),a=r(634),s=r(698),l=r(699);function o(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):-2}function c(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,h(e)):-2}function p(e,t){var r,i;return e&&e.state?(i=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,c(e))):-2}function _(e,t){var r,i;return e?(i=new u,e.state=i,i.window=null,0!==(r=p(e,t))&&(e.state=null),r):-2}var m,d,f=!0;function g(e){if(f){var t;for(m=new i.Buf32(512),d=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(l(1,e.lens,0,288,m,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;l(2,e.lens,0,32,d,0,e.work,{bits:5}),f=!1}e.lencode=m,e.lenbits=9,e.distcode=d,e.distbits=5}function v(e,t,r,n){var a,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new i.Buf8(s.wsize)),n>=s.wsize?(i.arraySet(s.window,t,r-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((a=s.wsize-s.wnext)>n&&(a=n),i.arraySet(s.window,t,r-n,a,s.wnext),(n-=a)?(i.arraySet(s.window,t,r-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0}t.inflateReset=c,t.inflateReset2=p,t.inflateResetKeep=h,t.inflateInit=function(e){return _(e,15)},t.inflateInit2=_,t.inflate=function(e,t){var r,u,h,c,p,_,m,d,f,A,y,b,T,w,x,N,S,E,z,k,I,B,F,O,C=0,P=new i.Buf8(4),R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;12===(r=e.state).mode&&(r.mode=13),p=e.next_out,h=e.output,m=e.avail_out,c=e.next_in,u=e.input,_=e.avail_in,d=r.hold,f=r.bits,A=_,y=m,B=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;f<16;){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}if(2&r.wrap&&35615===d){r.check=0,P[0]=255&d,P[1]=d>>>8&255,r.check=a(r.check,P,2,0),d=0,f=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&d)){e.msg="unknown compression method",r.mode=30;break}if(f-=4,I=8+(15&(d>>>=4)),0===r.wbits)r.wbits=I;else if(I>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<I,e.adler=r.check=1,r.mode=512&d?10:12,d=0,f=0;break;case 2:for(;f<16;){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}if(r.flags=d,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=d>>8&1),512&r.flags&&(P[0]=255&d,P[1]=d>>>8&255,r.check=a(r.check,P,2,0)),d=0,f=0,r.mode=3;case 3:for(;f<32;){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}r.head&&(r.head.time=d),512&r.flags&&(P[0]=255&d,P[1]=d>>>8&255,P[2]=d>>>16&255,P[3]=d>>>24&255,r.check=a(r.check,P,4,0)),d=0,f=0,r.mode=4;case 4:for(;f<16;){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}r.head&&(r.head.xflags=255&d,r.head.os=d>>8),512&r.flags&&(P[0]=255&d,P[1]=d>>>8&255,r.check=a(r.check,P,2,0)),d=0,f=0,r.mode=5;case 5:if(1024&r.flags){for(;f<16;){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}r.length=d,r.head&&(r.head.extra_len=d),512&r.flags&&(P[0]=255&d,P[1]=d>>>8&255,r.check=a(r.check,P,2,0)),d=0,f=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((b=r.length)>_&&(b=_),b&&(r.head&&(I=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),i.arraySet(r.head.extra,u,c,b,I)),512&r.flags&&(r.check=a(r.check,u,b,c)),_-=b,c+=b,r.length-=b),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===_)break e;b=0;do{I=u[c+b++],r.head&&I&&r.length<65536&&(r.head.name+=String.fromCharCode(I))}while(I&&b<_);if(512&r.flags&&(r.check=a(r.check,u,b,c)),_-=b,c+=b,I)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===_)break e;b=0;do{I=u[c+b++],r.head&&I&&r.length<65536&&(r.head.comment+=String.fromCharCode(I))}while(I&&b<_);if(512&r.flags&&(r.check=a(r.check,u,b,c)),_-=b,c+=b,I)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;f<16;){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}if(d!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}d=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;f<32;){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}e.adler=r.check=o(d),d=0,f=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=p,e.avail_out=m,e.next_in=c,e.avail_in=_,r.hold=d,r.bits=f,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){d>>>=7&f,f-=7&f,r.mode=27;break}for(;f<3;){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}switch(r.last=1&d,f-=1,3&(d>>>=1)){case 0:r.mode=14;break;case 1:if(g(r),r.mode=20,6===t){d>>>=2,f-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}d>>>=2,f-=2;break;case 14:for(d>>>=7&f,f-=7&f;f<32;){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}if((65535&d)!=(d>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&d,d=0,f=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(b=r.length){if(b>_&&(b=_),b>m&&(b=m),0===b)break e;i.arraySet(h,u,c,b,p),_-=b,c+=b,m-=b,p+=b,r.length-=b;break}r.mode=12;break;case 17:for(;f<14;){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}if(r.nlen=257+(31&d),d>>>=5,f-=5,r.ndist=1+(31&d),d>>>=5,f-=5,r.ncode=4+(15&d),d>>>=4,f-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;f<3;){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}r.lens[R[r.have++]]=7&d,d>>>=3,f-=3}for(;r.have<19;)r.lens[R[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,F={bits:r.lenbits},B=l(0,r.lens,0,19,r.lencode,0,r.work,F),r.lenbits=F.bits,B){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;N=(C=r.lencode[d&(1<<r.lenbits)-1])>>>16&255,S=65535&C,!((x=C>>>24)<=f);){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}if(S<16)d>>>=x,f-=x,r.lens[r.have++]=S;else{if(16===S){for(O=x+2;f<O;){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}if(d>>>=x,f-=x,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}I=r.lens[r.have-1],b=3+(3&d),d>>>=2,f-=2}else if(17===S){for(O=x+3;f<O;){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}f-=x,I=0,b=3+(7&(d>>>=x)),d>>>=3,f-=3}else{for(O=x+7;f<O;){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}f-=x,I=0,b=11+(127&(d>>>=x)),d>>>=7,f-=7}if(r.have+b>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;b--;)r.lens[r.have++]=I}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,F={bits:r.lenbits},B=l(1,r.lens,0,r.nlen,r.lencode,0,r.work,F),r.lenbits=F.bits,B){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,F={bits:r.distbits},B=l(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,F),r.distbits=F.bits,B){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(_>=6&&m>=258){e.next_out=p,e.avail_out=m,e.next_in=c,e.avail_in=_,r.hold=d,r.bits=f,s(e,y),p=e.next_out,h=e.output,m=e.avail_out,c=e.next_in,u=e.input,_=e.avail_in,d=r.hold,f=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;N=(C=r.lencode[d&(1<<r.lenbits)-1])>>>16&255,S=65535&C,!((x=C>>>24)<=f);){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}if(N&&0==(240&N)){for(E=x,z=N,k=S;N=(C=r.lencode[k+((d&(1<<E+z)-1)>>E)])>>>16&255,S=65535&C,!(E+(x=C>>>24)<=f);){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}d>>>=E,f-=E,r.back+=E}if(d>>>=x,f-=x,r.back+=x,r.length=S,0===N){r.mode=26;break}if(32&N){r.back=-1,r.mode=12;break}if(64&N){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&N,r.mode=22;case 22:if(r.extra){for(O=r.extra;f<O;){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;N=(C=r.distcode[d&(1<<r.distbits)-1])>>>16&255,S=65535&C,!((x=C>>>24)<=f);){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}if(0==(240&N)){for(E=x,z=N,k=S;N=(C=r.distcode[k+((d&(1<<E+z)-1)>>E)])>>>16&255,S=65535&C,!(E+(x=C>>>24)<=f);){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}d>>>=E,f-=E,r.back+=E}if(d>>>=x,f-=x,r.back+=x,64&N){e.msg="invalid distance code",r.mode=30;break}r.offset=S,r.extra=15&N,r.mode=24;case 24:if(r.extra){for(O=r.extra;f<O;){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===m)break e;if(b=y-m,r.offset>b){if((b=r.offset-b)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}b>r.wnext?(b-=r.wnext,T=r.wsize-b):T=r.wnext-b,b>r.length&&(b=r.length),w=r.window}else w=h,T=p-r.offset,b=r.length;b>m&&(b=m),m-=b,r.length-=b;do{h[p++]=w[T++]}while(--b);0===r.length&&(r.mode=21);break;case 26:if(0===m)break e;h[p++]=r.length,m--,r.mode=21;break;case 27:if(r.wrap){for(;f<32;){if(0===_)break e;_--,d|=u[c++]<<f,f+=8}if(y-=m,e.total_out+=y,r.total+=y,y&&(e.adler=r.check=r.flags?a(r.check,h,y,p-y):n(r.check,h,y,p-y)),y=m,(r.flags?d:o(d))!==r.check){e.msg="incorrect data check",r.mode=30;break}d=0,f=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;f<32;){if(0===_)break e;_--,d+=u[c++]<<f,f+=8}if(d!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}d=0,f=0}r.mode=29;case 29:B=1;break e;case 30:B=-3;break e;case 31:return-4;case 32:default:return-2}return e.next_out=p,e.avail_out=m,e.next_in=c,e.avail_in=_,r.hold=d,r.bits=f,(r.wsize||y!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&v(e,e.output,e.next_out,y-e.avail_out)?(r.mode=31,-4):(A-=e.avail_in,y-=e.avail_out,e.total_in+=A,e.total_out+=y,r.total+=y,r.wrap&&y&&(e.adler=r.check=r.flags?a(r.check,h,y,e.next_out-y):n(r.check,h,y,e.next_out-y)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===A&&0===y||4===t)&&0===B&&(B=-5),B)},t.inflateEnd=function(e){if(!e||!e.state)return-2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},t.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?-2:(r.head=t,t.done=!1,0):-2},t.inflateSetDictionary=function(e,t){var r,i=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?-2:11===r.mode&&n(1,t,i,0)!==r.check?-3:v(e,t,i,i)?(r.mode=31,-4):(r.havedict=1,0):-2},t.inflateInfo="pako inflate (from Nodeca project)"},698:function(e,t,r){"use strict";e.exports=function(e,t){var r,i,n,a,s,l,o,u,h,c,p,_,m,d,f,g,v,A,y,b,T,w,x,N,S;r=e.state,i=e.next_in,N=e.input,n=i+(e.avail_in-5),a=e.next_out,S=e.output,s=a-(t-e.avail_out),l=a+(e.avail_out-257),o=r.dmax,u=r.wsize,h=r.whave,c=r.wnext,p=r.window,_=r.hold,m=r.bits,d=r.lencode,f=r.distcode,g=(1<<r.lenbits)-1,v=(1<<r.distbits)-1;e:do{m<15&&(_+=N[i++]<<m,m+=8,_+=N[i++]<<m,m+=8),A=d[_&g];t:for(;;){if(_>>>=y=A>>>24,m-=y,0==(y=A>>>16&255))S[a++]=65535&A;else{if(!(16&y)){if(0==(64&y)){A=d[(65535&A)+(_&(1<<y)-1)];continue t}if(32&y){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}b=65535&A,(y&=15)&&(m<y&&(_+=N[i++]<<m,m+=8),b+=_&(1<<y)-1,_>>>=y,m-=y),m<15&&(_+=N[i++]<<m,m+=8,_+=N[i++]<<m,m+=8),A=f[_&v];r:for(;;){if(_>>>=y=A>>>24,m-=y,!(16&(y=A>>>16&255))){if(0==(64&y)){A=f[(65535&A)+(_&(1<<y)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(T=65535&A,m<(y&=15)&&(_+=N[i++]<<m,(m+=8)<y&&(_+=N[i++]<<m,m+=8)),(T+=_&(1<<y)-1)>o){e.msg="invalid distance too far back",r.mode=30;break e}if(_>>>=y,m-=y,T>(y=a-s)){if((y=T-y)>h&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(w=0,x=p,0===c){if(w+=u-y,y<b){b-=y;do{S[a++]=p[w++]}while(--y);w=a-T,x=S}}else if(c<y){if(w+=u+c-y,(y-=c)<b){b-=y;do{S[a++]=p[w++]}while(--y);if(w=0,c<b){b-=y=c;do{S[a++]=p[w++]}while(--y);w=a-T,x=S}}}else if(w+=c-y,y<b){b-=y;do{S[a++]=p[w++]}while(--y);w=a-T,x=S}for(;b>2;)S[a++]=x[w++],S[a++]=x[w++],S[a++]=x[w++],b-=3;b&&(S[a++]=x[w++],b>1&&(S[a++]=x[w++]))}else{w=a-T;do{S[a++]=S[w++],S[a++]=S[w++],S[a++]=S[w++],b-=3}while(b>2);b&&(S[a++]=S[w++],b>1&&(S[a++]=S[w++]))}break}}break}}while(i<n&&a<l);i-=b=m>>3,_&=(1<<(m-=b<<3))-1,e.next_in=i,e.next_out=a,e.avail_in=i<n?n-i+5:5-(i-n),e.avail_out=a<l?l-a+257:257-(a-l),r.hold=_,r.bits=m}},699:function(e,t,r){"use strict";var i=r(519),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,r,o,u,h,c,p){var _,m,d,f,g,v,A,y,b,T=p.bits,w=0,x=0,N=0,S=0,E=0,z=0,k=0,I=0,B=0,F=0,O=null,C=0,P=new i.Buf16(16),R=new i.Buf16(16),D=null,L=0;for(w=0;w<=15;w++)P[w]=0;for(x=0;x<o;x++)P[t[r+x]]++;for(E=T,S=15;S>=1&&0===P[S];S--);if(E>S&&(E=S),0===S)return u[h++]=20971520,u[h++]=20971520,p.bits=1,0;for(N=1;N<S&&0===P[N];N++);for(E<N&&(E=N),I=1,w=1;w<=15;w++)if(I<<=1,(I-=P[w])<0)return-1;if(I>0&&(0===e||1!==S))return-1;for(R[1]=0,w=1;w<15;w++)R[w+1]=R[w]+P[w];for(x=0;x<o;x++)0!==t[r+x]&&(c[R[t[r+x]]++]=x);if(0===e?(O=D=c,v=19):1===e?(O=n,C-=257,D=a,L-=257,v=256):(O=s,D=l,v=-1),F=0,x=0,w=N,g=h,z=E,k=0,d=-1,f=(B=1<<E)-1,1===e&&B>852||2===e&&B>592)return 1;for(;;){A=w-k,c[x]<v?(y=0,b=c[x]):c[x]>v?(y=D[L+c[x]],b=O[C+c[x]]):(y=96,b=0),_=1<<w-k,N=m=1<<z;do{u[g+(F>>k)+(m-=_)]=A<<24|y<<16|b|0}while(0!==m);for(_=1<<w-1;F&_;)_>>=1;if(0!==_?(F&=_-1,F+=_):F=0,x++,0==--P[w]){if(w===S)break;w=t[r+c[x]]}if(w>E&&(F&f)!==d){for(0===k&&(k=E),g+=N,I=1<<(z=w-k);z+k<S&&!((I-=P[z+k])<=0);)z++,I<<=1;if(B+=1<<z,1===e&&B>852||2===e&&B>592)return 1;u[d=F&f]=E<<24|z<<16|g-h|0}}return 0!==F&&(u[g+F]=w-k<<24|64<<16|0),p.bits=E,0}},700:function(e,t,r){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},96:function(e,t,r){var i=r(225);e.exports=function(e,t){if(null==e)return{};var r,n,a=i(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a},e.exports.__esModule=!0,e.exports.default=e.exports}}]);